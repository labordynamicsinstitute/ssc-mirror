<pre>
-------------------------------------------------------------------------------
help for <b>sqegen</b>                                                 (SJ6-4: st0111)
-------------------------------------------------------------------------------
<p>
<b><u>Extensions to generate (for sequence data)</u></b>
<p>
        <b>egen</b> [<i>type</i>] <i>newvar</i> <b>=</b> <i>sqfcn</i><b>()</b> [<i>if</i>] [<i>in</i>] [<b>,</b> <i>options</i>]
<p>
    <b>Note:</b> All functions described here allow the option <b>subsequence(a,b)</b>. It
        is used to include only the part of the sequence that is between
        position a and b, whereby a and b refer to the position defined in
        the order variable.
<p>
<b><u>Description</u></b>
<p>
    <b>egen</b> creates <i>newvar</i> of the optionally specified storage type equal to
    <i>sqfcn</i><b>()</b>. Unlike standard <b>egen</b> syntax, argument of <i>sqfcn</i><b>()</b> is generally
    left empty.
<p>
<p>
<b><u>Functions</u></b>
<p>
<p>
    <b>sqallpos()</b> <b>,</b> <b><u>pat</u></b><b>tern(</b><i>string</i><b>)</b> [ gapinclude <b><u>subseq</u></b><b>uence(</b><i>range</i><b>)</b> ] generates
        a variable holding the number of occurences in the sequence of the
        given pattern. To specify the pattern use element[:repetitions]
        [element:repetitions].  For example, with<b> pattern(3:20 5 1:20 3:20)</b>
        you specifiy a pattern of length 61, starting with element 3 over 20
        positions, followed by one position of elment 5, 20 positions of
        element 1 and finally again 20 positions of element 3.  Note: The
        program only considers independent occurences of pattern, i.e. if a
        pattern starts at a position within an already counted pattern it
        will be skiped. For example, consider the sequence "A A A B A A", in
        which you want to count the number of occurences of the pattern "A
        A". The program will count the pattern "A A" starting at positions 1
        and 5. It will skip "A A" starting at postion 2 because its first
        element is part of the first instance.
   
        Also see below the egen-function <b>sqfirstpos()</b> for the position of the
        first occurence of a pattern.
<p>
<p>
    <b>sqelemcount()</b> [<b>,</b> <b><u>e</u></b><b>lement(</b><i>#</i><b>)</b> <b>gapinclude</b>] generates a variable holding the
        number of different elements in each sequence. If <b>gapinclude</b> is
        specified, variables get defined even for sequences containing gaps.
        Missing values are generally counted as an element of their own. You
        might consider using <b>sqset</b> with option <b>trim</b> to get rid of superfluous
        missings.
<p>
    <b>sqepicount()</b> [<b>,</b> <b><u>e</u></b><b>lement(</b><i>#</i><b>)</b> <b>gapinclude</b>] separates a sequence into sections
        of equal elements (called "episodes"), and generates a variable
        holding the number of episodes for each sequence.  With option
        <b>element()</b> only the number of episodes of the specified element is
        generated. If <b>gapinclude</b> is specified, variables get defined even for
        sequences containing gaps. Episodes with missing values are generally
        counted as an element of their own. You might consider using <b>sqset</b>
        with option <b>trim</b> to get rid of superfluous missings.
<p>
<p>
    <b>sqfirstpos()</b> <b>,</b> <b><u>pat</u></b><b>tern(</b><i>string</i><b>)</b> [ gapinclude <b><u>subseq</u></b><b>uence(</b><i>range</i><b>)</b> ]
        generates a variable holding the position of the first occurence of
        the given pattern. To specify the pattern use element[:repetitions]
        [element:repetitions].  For example, with<b> pattern(3:20 5 1:20 3:20)</b>
        you specifiy a pattern of length 61, starting with element 3 over 20
        positions, followed by one position of elment 5, 20 positions of
        element 1 and finally again 20 positions of element 3.
<p>
        Also see above the egen-function <b>sqallpos()</b> for the number of occurence
        of a pattern.
<p>
<p>
    <b>sqfreq()</b> [<b>,</b> <b>gapinclude so se</b> <b><u>subseq</u></b><b>uence(</b><i>range</i><b>)</b> ] generates a variable
        holding the frequencies of each sequence-type. These are the numbers
        given in the output of sqtab stored as a variable. The options<b> so</b> and
        <b>se</b> are described in detail under sqtab. If <b>gapinclude</b> is specified,
        variables get defined even for sequences containing gaps.  Missing
        values are used as yet another element. You might consider using
        <b>sqset</b> with option <b>trim</b> to get rid of superfluous missings.
<p>
    <b>sqgapcount()</b> generates a variable holding the number of gap episodes in
        each sequence. Only gaps within a sequence is counted as gap (see 
        sq). You might consider using <b>sqset</b> with option <b>trim</b> to get rid of
        "gaps" at the beginning or the end of sequences.
<p>
    <b>sqgaplength()</b> generates a variable holding the overall length of gap
        episodes in each sequence. Only gaps within a sequence is counted as
        gap (see sq). You might consider using <b>sqset</b> with option <b>trim</b> to get
        rid of "gaps" at the beginning or the end of sequences.
<p>
    <b>sqlength()</b> [<b>,</b> <b><u>e</u></b><b>lement(</b><i>#</i><b>)</b> <b>gapinclude</b>] generates a variable holding the
        length -- the number of positions -- of each observed sequence.  With
        option <b>element()</b>, the length of all episodes of the specified element
        is generated. If <b>gapinclude</b> is specified, variables get defined even
        for sequences containing gaps. Episodes with missing values adds to
        the length of the sequences. You might consider using <b>sqset</b> with
        option <b>trim</b> to get rid of superfluous missings.
<p>
    <b>sqranks()</b> [<b>,</b> <b>gapinclude so se</b> <b><u>subseq</u></b><b>uence(</b><i>range</i><b>)</b> ] generates a variable
        holding rank of the frequencies "league-table" of sequence-types.
        These are the numbers that define the order of frequencies in the
        output of sqtab stored as a variable.  The options<b> so</b> and<b> se</b> are
        described in detail under sqtab.  If <b>gapinclude</b> is specified,
        variables get defined even for sequences containing gaps.  Missing
        values are used as yet another element. You might consider using
        <b>sqset</b> with option <b>trim</b> to get rid of superfluous missings.
<p>
<p>
<b><u>Author</u></b>
<p>
    Ulrich Kohler, WZB, kohler@wz-berlin.de
<p>
<p>
<b><u>Examples</u></b>
<p>
    <b>. egen length = sqlength()</b>
<p>
    <b>. egen length1 = sqlength(), element(1) gapinclude</b>
<p>
    <b>. egen elemnum = sqelemcount()</b>
<p>
    <b>. egen epinum = sqepicount()</b>
<p>
<p>
<b><u>Also see</u></b>
<p>
    Manual:  <b>[D] egen</b>
<p>
    Online: <b>egenmore</b> (if installed), <b>sq</b>, <b>sqdemo</b>, <b>sqset</b>, <b>sqdes</b>, <b>sqegen</b>, 
             <b>sqstat</b>, <b>sqindexplot</b>, <b>sqparcoord</b>, <b>sqom</b>, <b>sqclusterdat</b>, 
             <b>sqclustermat</b>
</pre>