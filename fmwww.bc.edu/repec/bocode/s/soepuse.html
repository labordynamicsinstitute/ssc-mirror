<pre>
<b>help soepuse</b>, <b>help soepadd</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
    Makes retrievals from GSOEP real easy
<p>
<b><u>Syntax</u></b>
        <b>soepuse</b> <i>varnames</i><b> using</b> <i>dirname</i> <b>,</b> <i>mandatory_options</i> <b>[</b> <i>soepuse_options</i>
            <i>joint_options</i> <b>]</b>
<p>
        <b>soepadd</b> <i>varnames</i> <b>,</b> <i>mandatory_options</i> <b>[</b> <i>joint_options</i> <b>]</b>
<p>
    <i>dirname</i> refer to the name of the directory in which the GSOEP files are
    stored. The term<i> varnames</i> refer to variable names of the GSOEP. Note: You
    cannot specify varnames in terms of a varlist.
<p>
<p>
    <i>options</i>                   Description
    -------------------------------------------------------------------------
    Mandatory options
      <b><u>f</u></b><b>typ(</b><i>fileype</i><b>)</b>           type of SOEP file (h, p, pgen, etc.)
      <b><u>w</u></b><b>aves(</b><i>numlist</i><b>)</b>          waves to be used
<p>
    Soepuse_options
      <b><u>d</u></b><b>esign(</b><i>designtype</i><b>)</b>       Design; default: <b>design(balanced)</b>
      <b><u>k</u></b><b>eep(</b><i>varlist</i><b>)</b>            Keep variables from ppfad
      <b>clear</b>                    Replace data in memory
<p>
    Joint Options (seldom used)
      <b><u>o</u></b><b>st(</b><i>g</i>|<i>h</i><b>)</b>                 Request special files for east
      <b>onlyost</b>                  Use only special files
      <b>oldnetto</b>                 Use old design of netto variables
      <b>uc</b>                       Variable list is upper case
      <b>fast</b>                     Speed up (not much)
    -------------------------------------------------------------------------
<p>
<b><u>Description</u></b>
<p>
    <b>soepuse</b> and <b>soepadd</b> are two little tools for performing retrievals from
    the German Socio Economic Panel. The programs are revisions of two older
    programs, <b>mkdat</b> and <b>holrein</b> for the same purpose. Both programs provide
    the same function than there predecessors but with a simplified syntax.
<p>
    The programs create SOEP datasets with the variables of the varlist.
    <b>soepuse</b> generates a new file and <b>soepadd</b> merges further variables to a
    file generated with <b>soepuse</b>.  By default, the created files will have a
    balanced panel design, but various other designs could be specified.
<p>
    <b>soepuse</b> and <b>soepadd</b> both require that the variables to be loaded are
    specified in the order of the item correspondence list and that variables
    all belong to the same file-type. Here is an example: To combine
    individual gross and net income variables with household income using the
    waves of 1991 and 1992 you would specify
<p>
        <b>. soepuse hp5401 ip5401 hp5402 ip5402 using ~/data/gsoep24, f(p)</b>
            <b>w(1991 1992)</b>
        <b>. soepadd hh49 ih49, f(h) w(1991 1992)</b>
<p>
    or in a format that highlights better the requested format of the
    variable list:
<p>
        <b>. soepuse</b>
            <b>hp5401 ip5401</b>
            <b>hp5402 ip5402</b>
          <b>using ~/data/gsoep24, f(p) w(1991 1992)</b>
<p>
    <b>soepuse</b> and <b>soepadd</b> are constructed for using them in connection with
    SOEPinfo. Consider you have been searching the GSOEP database with
    SOEPinfo for information on political interest and party identification
    from 1984 to 1998. After founding that information you have stored
    SOEPinfo's item correspondence list to a file, which looks like this:
<p>
        -----------------------------------------------------------
        1984     |1985     |1986     |1987     |1988     |1989
        -----------------------------------------------------------
        Politik
        Politisches Interesse
        -        |BP75     |CP75     |DP84     |EP73     |FP89
        Politik
        Allgemeine Parteienpraeferenz
        AP5601   |BP7901   |CP7901   |DP8801   |EP7701   |FP9301
        Politik
        Parteienidentifikation
        AP5602   |BP7902   |CP7902   |DP8802   |EP7702   |FP9302
<p>
    After cutting pipes and headings, and changing uppercase to lowercase you
    end up with
<p>
        -      bp75   cp75   dp84   ep73   fp89
        ap5601 bp7901 cp7901 dp8801 ep7701 fp9301
        ap5602 bp7902 cp7902 dp8802 ep7702 fp9302
<p>
    which is the structure requested by <b>soepuse</b> and <b>soepadd</b>. Take care not to
    erase the <b>-</b> sign for the missing variable name in the first row.  <b>soepuse</b>
    and <b>soepadd</b> needs this as a placeholder whenever a variable is missing in
    the item correspondence.
<p>
    The entire <b>soepuse</b> command to load all variables of the example will
    become
<p>
        <b>. soepuse</b>
            <b>- bp75 cp75 dp84 ep73 fp89</b>
            <b>ap5601 bp7901 cp7901 dp8801 ep7701 fp9301</b>
            <b>ap5602 bp7902 cp7902 dp8802 ep7702 fp9302</b>
          <b>using ~/data/gsoep24, f(p) w(1991/1998)</b>
<p>
<b><u>Options</u></b>
<p>
    <b><u>f</u></b><b>typ(</b><i>string</i><b>)</b> is used to specify the type of the GSOEP data sets in which
        the variables to be loaded are stored. As it stands this can be any
        of the following types. Note that you can only specify one filetype
        add a time. Use <b>soepadd</b> to add variables of further filetypes.
<p>
        ---------------------------------------------------
       <b>h</b>            Household data
       <b>hbrutto</b>      Gross information on household
       <b>hgen</b>         Household data, generated variables
       <b>kind</b>         child information
       <b>p</b>            Person data
       <b>pausl</b>        Person files for foreigners
       <b>pbrutto</b>      Gross information on persons
       <b>pequiv</b>       PSID equivalence files
       <b>pgen</b>        Person data, generated variables
       <b>pkal</b>         Person calendar files
       <b>pluecke</b>      Retrospective question to fill gaps
       ----------------------------------------------------
<p>
    <b><u>w</u></b><b>aves(</b>numlist<b>)</b> is used to specify the waves from which the variables out
        to be taken. <b>waves(1984/2002)</b> is used if the variable names
        correspond to files for all waves from 1984 to 2002. Likewise
        <b>waves(1985(5)2005)</b> is used if variable names correspond to waves of
        1985, 1990, ... 2005. See help numlist for various ways to specify
        the list of waves.
<p>
    <b>design(designtype)</b> specifies the design of the dataset to be created.
        <b>design(balanced)</b> is used to create a balanced panel design, i.e. the
        data will contain only observations interviewed in all requested
        waves. <b>design(any)</b> will keep all available observations in the
        dataset. <b>design(#)</b> with # being an integer positive number creates
        datasets with respondents interviewed at least # times. With
        <b>design(any)</b> and <b>design(#)</b> the netto variables from ppfad will be
        retained in the data set for further fine tuning of the design.
<p>
    <b>clear</b> specifies that it is okay to replace the data in memory, even
        though the current data have not been saved to disk.
<p>
    <b>ost(g|h)</b> must be specified, if your list of variable names contains names
        from specialized files for East Germany of years 1990 and 1991.
        Specify <b>ost(g)</b> if you have used either names from gpost or gpkalost,
        <b>ost(h)</b> if you have used either names from hpost or hpkalost and <b>ost(g</b>
        <b>h)</b> if you have used some specialized East-files of both waves.
<p>
    <b>onlyost</b> must be specified if you variable names contains only names from
        the specialized files for East Germany.
<p>
    <b>oldnetto</b> must be used if you are working with an old version of the GSOEP
        database, i.e. with an version where the variables anetto, bnetto ...
        znetto in the dataset ppfad have the value 1 for interviews.
<p>
    <b>uc</b> must be used if the variable list is upper cased. This is helpful if
        you don't have a decent text editor that is capable to lower-case the
        upper-cased variable names from SOEPinfo.
<p>
    <b>fast</b> speeds up the retrieval. By default, {soepuse} and {soepadd} do some
        extra work to check whether the variable names make sense. This helps
        debugging lengthy list, but takes some time, especially if the GSOEP
        data is stored on a slow network drive. Option fast bypasses the
        additional check of variable names.
<p>
<b><u>Example(s)</u></b>
<p>
    Constructing Longitudinal Individual Records
        <b>. soepuse gp109 zp6401 hp10901 ip10901 jp10901 using ., ost(g)</b>
            <b>w(1990/1993) f(p)</b>
<p>
    Linking Household Data to Individuals
        <b>. soepuse hp5401 hp5402 using ., w(1991) f(p)</b>
        <b>. soepadd hh48, w(1991) f(h)</b>
<p>
    Linking Houshold Data to Individuals Across Waves
        <b>. soepuse hp5401 ip5401 hp5402 ip5402 using ., w(1991/1992) f(p)</b>
        <b>. soepadd hh48 ih49, w(1991/1992) f(h)</b>
<p>
    Houshold Level Variables from Individual Data
        <b>. soepuse hp07 hp15 using ., f(p) w(1991)</b>
        <b>. gen ft=1 if hp15==1</b>
        <b>. gen pt=1 if hp15==2</b>
        <b>. gen unemp=1 if hp07==1</b>
        <b>. gen noinf=1 if hp15==9</b>
        <b>. collapse (count) n_ft=ft n_pt=pt n_unemp=unemp n_noinf=noinf (mean)</b>
            <b>hhnr=hhnr, by(hhnr)</b>
        <b>. soepadd htyphh1 htyphh2, w(1991) f(hgen)</b>
<p>
    Creating longitudinal data from waves 1984-2006 with vars from different
    sources
    <b>. soepuse</b>
        <b>afamstd bfamstd cfamstd dfamstd efamstd ffamstd gfamstd hfamstd</b>
        <b>ifamstd jfamstd kfamstd lfamstd mfamstd nfamstd ofamstd pfamstd</b>
        <b>qfamstd rfamstd sfamstd tfamstd ufamstd vfamstd</b>
        <b>egp84 egp85 egp86 egp87 egp88 egp89 egp90 egp91 egp92 egp93 egp94</b>
        <b>egp95 egp96 egp97 egp98 egp99 egp00 egp01 egp02 egp03 egp04 egp05</b>
        <b>using . ,</b>
        <b>ftyp(pgen) waves(1984/2005)</b>
        <b>design(3) keep(sex gebjahr) clear</b>
<p>
    <b>. soepadd</b>
        <b>ap6801 bp9301 cp9601 dp9801 ep89 fp108 gp109 hp10901</b>
        <b>ip10901 jp10901 kp10401 lp10401 mp11001 np11701 op12301</b>
        <b>pp13501 qp14301 rp13501 sp13501 tp14201 up14501 vp154</b>
        <b>, ftyp(p) waves(1984/2005)</b>
<p>
    <b>. soepadd</b>
        <b>i1110284 i1110285 i1110286 i1110287 i1110288 i1110289 i1110290</b>
        <b>i1110291 i1110292 i1110293 i1110294 i1110295 i1110296 i1110297</b>
        <b>i1110298 i1110299 i1110200 i1110201 i1110202 i1110203 i1110204</b>
        <b>i1110205</b>
        <b>e1110184 e1110185 e1110186 e1110187 e1110188 e1110189 e1110190</b>
        <b>e1110191 e1110192 e1110193 e1110194 e1110195 e1110196 e1110197</b>
        <b>e1110198 e1110199 e1110100 e1110101 e1110102 e1110103 e1110104</b>
        <b>e1110105</b>
        <b>, ftyp(pequiv) waves(1984/2005)</b>
<p>
<b><u>Note</u></b>
<p>
    <b>soepuse</b> and <b>soepadd</b> are two little unambitious helper programs. A far
    more advanced Stata program for working with the GSOEP and many other
    panel data sets is PanelWhiz by John Haisken DeNew.
<p>
<p>
<b><u>Author</u></b>
<p>
    Ulrich Kohler, WZB, kohler@wzb.eu
<p>
<b><u>Also see</u></b>
<p>
    Online: soepren (if installed), rgroup (if installed), soepdo (if
             installed)
<p>
</pre>