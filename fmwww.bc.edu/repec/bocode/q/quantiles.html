<pre>
-------------------------------------------------------------------------------
help for <b>quantiles</b>
-------------------------------------------------------------------------------
<p>
<b><u>Categorize by quantiles</u></b>
<p>
        <b>quantiles</b> <i>varname</i> [<i>weight</i>] [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>], <b><u>gen</u></b><b>catvar(</b><i>newvar</i><b>)</b>
                  [<b><u>n</u></b><b>quant(</b><i>#</i><b>)</b> <b><u>k</u></b><b>eeptog(</b><i>varname</i><b>)</b> <b><u>s</u></b><b>table</b>]
<p>
<p>
    <b>by</b> <i>...</i> <b>:</b> may be used with <b>quantiles</b>; see help by.
<p>
    <b>fweight</b>, <b>aweight</b> and <b>iweight</b> are allowed; see help weights.
<p>
<p>
<b><u>Description</u></b> 
<p>
    <b>quantiles</b> creates a new variable (<i>newvar</i>) that categorizes <i>varname</i> by its
    quantiles. It differs from xtile because the categories are defined by
    the ideal size of the quantile rather than by the cutpoints, therefore
    yielding less unequaly sized categories when the cutpoint value is
    frequent, when using weights or when the number of observations in the
    dataset is not a product of the number of quantiles. It may not work
    properly on small datasets or if calculated for small groups. If the
    number of observations in the dataset or group is small, tabulate <i>newvar</i>
    afterwards to check the results.
<p>
<p>
<b><u>Options</u></b>
<p>
    <b><u>gen</u></b><b>catvar(</b><i>newvar</i><b>)</b> specifies the new variable to be generated.
<p>
    <b><u>n</u></b><b>quant(</b><i>#</i><b>)</b> specifies the number of quantiles; <i>#</i> must be an integer and
        greater than or equal to 2. If not specified default is 10 quantiles.
<p>
    <b><u>k</u></b><b>eeptog(</b><i>varname</i><b>)</b> specifies that all cases within a group defined by
        <i>varname</i> should be kept together in the same quantile. This option
        might make more unequal the size of the quantiles. Useful, for
        instance, when working with household surveys to avoid having members
        of a single household belonging to different quantiles.
<p>
    <b><u>s</u></b><b>table</b> specifies that the internal sort will use the stable option of the
        sort command.
<p>
<p>
<b><u>Examples</u></b>
<p>
    <b>. quantiles ypercap, gen(deciles)</b>
    <b>. quantiles ypercap [w=weight], gen(tenths)</b>
    <b>. quantiles ypercap [w=weight], gen(fifths) n(5)</b>
    <b>. quantiles ypercap [w=weight], gen(hundredths) n(100) k(hhkey)</b>
    <b>. bysort econact: quantiles ylabtot [w=weight], gen(tenthlab)</b>
    <b>. quantiles ypercap [w=weight] if literacy==1, gen(centlite) n(100)</b>
<p>
    For the sake of comparison, see below the result of categorizing the
    weighted distribution of main occupation's earnings from the Brazilian
    2005 National Household Survey using xtile and using quantiles
<p>
xtile:
<p>
ymainoccu   |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 | 10,253,932       12.05       12.05
          2 |  6,877,819        8.08       20.14
          3 |  8,392,821        9.87       30.00
          4 | 11,396,936       13.40       43.40
          5 |  9,535,935       11.21       54.61
          6 |  4,600,509        5.41       60.02
          7 | 10,515,418       12.36       72.38
          8 |  6,738,072        7.92       80.30
          9 |  9,694,872       11.40       91.69
         10 |  7,066,854        8.31      100.00
------------+-----------------------------------
      Total | 85,073,168      100.00
<p>
<p>
quantiles:
<p>
ymainoccu   |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |  8,507,057       10.00       10.00
          2 |  8,507,047       10.00       20.00
          3 |  8,507,667       10.00       30.00
          4 |  8,506,796       10.00       40.00
          5 |  8,507,913       10.00       50.00
          6 |  8,507,231       10.00       60.00
          7 |  8,507,440       10.00       70.00
          8 |  8,507,315       10.00       80.00
          9 |  8,506,894       10.00       90.00
         10 |  8,507,808       10.00      100.00
------------+-----------------------------------
      Total | 85,073,168      100.00
<p>
<p>
<b><u>Author</u></b>
<p>
        Rafael Guerreiro Osorio
        International Poverty Centre/UNDP
        http://www.undp-povertycentre.org/
        SBS Quadra 01 Bloco J Ed. BNDES 10º Andar
        700076-900, Brasilia, DF, BRAZIL
<p>
<p>
<b><u>Also see</u></b>
<p>
    Online:  help for pctile, centile, summarize
<p>
</pre>