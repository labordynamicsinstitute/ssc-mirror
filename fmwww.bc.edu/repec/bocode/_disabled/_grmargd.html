<pre>
-------------------------------------------------------------------------------
help for <b>_grmargd</b>                                                     28Feb2011
-------------------------------------------------------------------------------
<p>
<b><u>Marginal effects and their differences in binary regressions using the delta me</u></b>
<b><u>&gt; thod for inference</u></b>
<p>
        <b>_grmargd</b> [<b>if</b> exp] [<b>in</b> range] [<b>,</b> <b>x(</b><i>variables_and_values</i><b>)</b> <b><u>r</u></b><b>est(</b><i>stat</i><b>)</b>
               <b><u>noba</u></b><b>se</b> <b>all</b> <b><u>l</u></b><b>evel(</b><i>#</i><b>)</b> <b><u>s</u></b><b>ave</b> <b><u>d</u></b><b>iff</b> <b>dydxmat(</b><i>matrix_kxk</i><b>)</b>]
<p>
    where <i>variables_and_values</i> is an alternating list of variables and either
    numeric values or mean, median, min, max, upper, lower, previous.
<p>
    <i>stat</i> is either mean, median, min, max, upper, lower, previous,
    grmean(group mean), mrmedian, grmin, grmax.
<p>
<p>
<b><u>Description</u></b>
<p>
    After estimating a binary regression model, <b>_grmargd</b> computes the
    predicted marginal effects at specific values of the independent
    variables, or differences in marginal effects at two different x vectors.
    confidence intervals are available using the delta method with closed
    form analytic solutions. This low utility program also provides retued
    matrices (see below).
<p>
<b><u>Options</u></b>
<p>
    <b>save</b> saves current values of independent variables and predictions
        (marginal effects) for computing changes using the diff option.
<p>
    <b>diff</b> computes difference between current predictions (marginal effects)
        and those that were saved.
<p>
    <b>level()</b> sets the level of the confidence interval for predicted values or
        marginal effects for the commands for which these are provided. The
        default is 95.
<p>
    <b>x()</b> sets the values of independent variables for calculating predicted
        values.  The list must alternate variable names and values.  The
        values may be either numeric values or can be mean, median, min, max,
        previous, upper, or lower.  The latter cannot be used if rest()
        specifies a group summary statistic (e.g., grmean).
<p>
    <b>rest()</b> sets the independent variables not specified in x() to their <b>mean</b>
        (default), <b>minimum</b>, <b>maximum</b>, <b>median</b> when calculating predicted
        values. <b>grmean</b> sets these independent variables to the mean
        conditional on the variables and values specified in x();
        <b>grmedian</b>,<b>grmax</b>, and <b>grmin</b> can also be used.
<p>
    <b>nobase</b> suppresses inclusion of the base values of x in the output.
<p>
    <b>all</b> specifies that any calculations of means, medians, etc., should use
        the entire sample instead of the sample used to estimate the model.
<p>
    <b>dydxmat(</b><i>matrix_kxk</i><b>)</b> supplies a matrix by users of dy/dx or dxb/dx, where
        there is polynomial or interaction terms.
<p>
<b><u>Returned Matrices</u></b>
<p>
    r(marg):  saves marginal effects.
<p>
    r(margci):  saves confidence intervals for marginal effects
<p>
    r(margvar): saves variance-covariance matrix for marginal effects
<p>
    r(margse):  saves standard errors for marginal effects
<p>
    r(dmarg):  saves differences in marginal effects when <b>diff</b> option is used
<p>
    r(dmargci): saves confidence intervals for differences in marginal
        effects when <b>diff</b> option is used.
<p>
<p>
<b><u>Examples</u></b>
<p>
    To compute the predicted marginal effects and confidence intervals using
    delta method for a logit in which all independent variables are held at
    the mean.
<p>
    <b>.logit vote black educ income</b>
<p>
    <b>._grmargd, x(black=1 educ=16) save</b>
<p>
    <b>._grmargd, x(black=0 educ=16) diff</b>
<p>
    What if there is interaction terms or polynomial terms? Here is an
    example.
<p>
    <b>.gen age2=age*age</b>
<p>
    <b>.logit lfp age age2 k5 inc</b>
<p>
    <b>._grmargd, x(age=20 age2=400) dydxmat(1, 20, 0, 0, 0 \ 0, 1, 0, 0, 0 \ 0,</b>
        <b>0, 1, 0, 0 \ 0, 0, 0, 1, 0 \ 0, 0, 0, 0, 1)</b>
<p>
 :::
<p>
-------------------------------------------------------------------------------
<p>
  Authors: Jun Xu
<p>
</pre>