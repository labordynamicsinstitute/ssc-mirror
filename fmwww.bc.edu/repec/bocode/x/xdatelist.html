<pre>
-------------------------------------------------------------------------------
help for <b>xdatelist</b>                                               (Roger Newson)
-------------------------------------------------------------------------------
<p>
<p>
<b><u>Creating lists of numeric dates</u></b>
<p>
        <b>xdatelist ,</b> <b><u>f</u></b><b>irst(</b><i>string_date1</i><b>)</b> <b><u>l</u></b><b>ast(</b><i>string_date2</i><b>)</b> [ <b><u>u</u></b><b>nit(</b><i>unit</i><b>)</b>
                           <b><u>n</u></b><b>units(</b><i>#</i><b>)</b> <b><u>s</u></b><b>2(</b><i>string_argument</i><b>)</b> <b><u>y</u></b><b>cutoff(</b><i>#</i><b>)</b>
                           <b><u>fo</u></b><b>rmat(</b><i>%format</i><b>)</b> <b><u>se</u></b><b>parator(</b><i>separator_string</i><b>)</b> ]
<p>
    where <i>string_date1</i> and <i>string_date2</i> are dates given in string format (as
    might appear in quotes in the first argument of the <b>date()</b> function),
    <i>string_argument</i> is a string (as might appear in quotes as the second
    argument to the <b>date()</b> function), and <i>unit</i> may be
<p>
    <b>century</b>|<b>year</b>|<b>quarter</b>|<b>month</b>|<b>week</b>|<b>day</b>
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>xdatelist</b> takes, as input, two string-format dates in <i>string_date1</i> and
    <i>string_date2</i>.  It returns, as output in <b>r(numlist)</b>, a numeric list of
    dates, starting at the first date and increasing by steps of a specified
    size (measured in specified units) while remaining no greater than the
    second date. Optionally, <b>xdatelist</b> can also return, in <b>r(strlist)</b>, a list
    of the same dates in string format. <b>xdatelist</b> is therefore an extended
    version of the <b>datelist</b> facility.
<p>
<p>
<b><u>Options</u></b>
<p>
<b>first(</b><i>string_date1</i>}<b>)</b> is the first date in the list, given in string format, eg
    <b>first(01Jan2000)</b>. The string format must be acceptable to the <b>date()</b>
    function; see help for dates and times.
<p>
<b>last(</b><i>string_date2</i><b>)</b> is the latest date allowed in the list, given in string
    format.  All numeric dates in the output list will be no greater than the
    numeric date implied by <b>last()</b>.
<p>
<b>unit(</b><i>unit</i><b>)</b> is the unit in which the time between successive dates in the list
    is to be measured. If <b>unit()</b> is absent, then <b>year</b> is assumed.
<p>
<b>nunits(</b><i>#</i><b>)</b> is the number of the units specified by <b>unit()</b> between successive
    dates in the list.
<p>
<b>s2(</b><i>string_argument</i><b>)</b> is the <i>s2</i> (or <i>mask</i>) string argument passed to the <b>date()</b>
    function for decoding the string dates <b>first()</b> and <b>last()</b>; see help for
    dates and times.  Its value should be a permutation of <b>D</b>, <b>M</b> and <b>[##]Y</b>, eg
    <b>"MDY"</b> or <b>"DM20Y"</b>. <b>##</b>, if specified, indicates a default century for
    two-digit years. For instance, <b>dm20y</b> interprets "08/06/55" as 8 June, 2055.
    If <b>s2()</b> is absent, then it is set by default to <b>"DMY"</b>.
<p>
<b>ycutoff(</b><i>#</i><b>)</b> is the <i>y</i> numeric argument passed to the <b>date()</b> function for decoding
    the string dates <b>first()</b> and <b>last()</b>; see help for dates and times. Its
    value should be an integer from 1000 to 9998 (but probably 2001 to 2099),
    specifying the handling of two-digit years. It denotes the largest year to
    be returned when a two-digit date is encountered.  If it is absent, and
    there is no <b>##</b> in the <b>s2</b> option, then dates with a two-digit year are set
    to missing. This may cause <b>xdatelist</b> to fail.
<p>
<b>format(</b><i>%fmt</i><b>)</b> specifies that the list of dates in <b>r(numlist)</b> should also be
    created in string format, using the specified format, and the resulting
    list of string dates returned in the result <b>r(strlist)</b>. If <b>format()</b> is not
    specified, then <b>r(strlist)</b> is not returned.
<p>
<b>separator(</b><i>separator_string</i><b>)</b> specifies a separator string used to separate the
    elements of the string-format date list in <b>r(strlist)</b>. If <b>format()</b> is
    absent, then <b>separator</b> is ignored. If <b>format()</b> is present and <b>separator()</b>
    is absent, then the string dates in <b>r(strlist)</b> are separated by single
    spaces. The <b>separator()</b> option may be useful if the date format given by
    <b>format()</b> generates spaces between parts of a date.
<p>
<p>
<b><u>Remarks</u></b>
<p>
    <b>xdatelist</b> performs a similar task to the <b>numlist</b> command; see help for 
    <b>nlist</b>.  It is especially useful when the dates in a list are unequally
    spaced (in days), as happens when the dates are corresponding days of
    regularly-spaced months, quarters, years, or centuries.  <b>xdatelist</b> was
    originally distributed via SSC under the name of <b>datelist</b>, but this name
    was adopted under Stata 8 to describe a <b>numlist</b> containing dates. The
    name <b>xdatelist</b> was then introduced for this program, because <b>xdatelist</b>
    provides an extended version of the official Stata <b>datelist</b> facility.
<p>
<p>
<b><u>Examples</u></b>
<p>
        . xdatelist, fi(01Jan1901) la(01Jan2000)
<p>
        . xdatelist, fi(01/01/1999) la(11/01/2000) s2(MDY) unit(month) nunit(2)
<p>
        . xdatelist, fi(01Jan1990) la(01Oct2010) unit(quarter) format(%dDmCY)
        . return list
<p>
        . xdatelist, fi(01Jan1990) la(01Oct2010) unit(quarter) format(%dD_m_CY)
                sep(,)
        . return list
<p>
<p>
<b><u>Saved results</u></b>
<p>
    <b>xdatelist</b> saves the following results in <b>r()</b>:
<p>
    Macros         
      <b>r(numlist)</b>          list of numeric dates
      <b>r(strlist)</b>          list of dates in string format
<p>
    If <b>format()</b> is not specified, then <b>r(strlist)</b> is not returned.
<p>
<p>
<b><u>Author</u></b>
<p>
    Roger Newson, Imperial College London, UK.  Email:
    r.newson@imperial.ac.uk
<p>
<p>
<b><u>Also see</u></b>
<p>
 Manual:  <b>[R] Functions</b>, <b>[D] dates and times</b>, <b>[P] numlist</b>.
On-line:  help for <b>functions</b>, dates and times, <b>nlist</b>, <b>numlist</b>, <b>datelist</b>
</pre>