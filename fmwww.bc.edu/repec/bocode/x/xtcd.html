<pre>
<p>
<b>help xtcd</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
    <b>xtcd</b> -- Investigating Variable/Residual Cross-Section Dependence
<p>
<p>
<b><u>Syntax</u></b>
<p>
    <b>xtcd</b> <i>varlist</i> [<i>if</i>] [<i>in</i>] [<b>,</b> <b>resid</b> <b>off</b>]
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>xtcd</b> implements the Pesaran (2004) CD test for cross-section dependence
    in panel time-series data.  The routine performs <i>the same CD test</i> as the
    <b>xtcsd </b><i>varname</i><b>, pesaran</b> command by De Hoyos and Sarafidis (2006) but (i)
    allows for multiple variable series to be tested at the same time and
    (ii) is <i>not</i> a post-estimation command: <b>xtcd</b> can be applied to variable
    series (e.g. pre-estimation analysis of cross-section dependence in the
    data) as well as to residuals, provided these have been previously
    computed as a separate variable series (see example below).
<p>
<p>
    <b><u>Background</u></b>
<p>
    Cross-section dependence in macro panel data has received a lot of
    attention in the emerging panel time series literature over the past
    decade (for an introduction to panel time series see Eberhardt, 2009).
    This type of correlation may arise from globally common shocks with
    heterogeneous impact across countries, such as the oil crises in the
    1970s or the global financial crisis from 2007 onwards. Alternatively it
    can be the result of local spillover effects between countries or
    regions. For a detailed discussion of the topic within cross-country
    empirics see Eberhardt and Teal (2011).  For a survey and application of
    existing cross-section dependence tests refer to Moscone and Tosetti
    (2009).
<p>
<p>
    <b><u>Empirical Implementation</u></b>
<p>
    The Pesaran CD-test employs the correlation-coefficients between the
    time-series for each panel member.  In the example dataset for N=128
    countries, for instance, this would be the 128 x 127 correlations between
    country i and all other countries, for i=1 to N-1. Referring to these
    estimated correlation coefficient between the time-series for country i
    and j as rho*_ij the Pesaran CD statistic is then computed as
<p>
       CD = sqrt[2/(N(N-1))] * [SUM_(i=1 to N-1) SUM_(j=i+1 to N) sqrt(T_ij rho
&gt; *_ij)]
<p>
    where T_ij is the number of observations for which the correlation
    coefficient was computed. Since macro panel data is frequently unbalanced
    we only present the above equation appropriate for both balanced and
    unbalanced panels. Under the null hypothesis of cross-section
    independence the above statistics is distributed standard normal for
    T_ij&gt;3 and N sufficiently large. The test is robust to nonstationarity
    (the spuriousness would show up in the averaging), parameter
    heterogeneity or structural breaks and was shown to perform well even in
    small samples.
<p>
<p>
<b><u>Options</u></b>
<p>
    <b>resid</b> identifies the data series tested as residuals. This leads to a
    small transformation in the data series to allow for unbalancedness in
    the panel: imagine a panel which includes one group for which only 20
    time-series observations are available, whereas for another group this
    number amounts to 40. If these are residual series from group-specific
    regressions, as is often the case in panel time series empirics, then the
    residuals will have been minimised over the time horizon, i.e. in the
    above example the residuals in the samples with T_1=20 and T_2=40 will
    average to zero (or close to zero) respectively. Imagine now that these
    two time series only overlap for T_12=10 years, since T_1 starts earlier
    than T_2 and the latter obviously stretches much more into the present
    than the former. In order to avoid distortions arising from the residuals
    for the two samples over the T_12 time horizon not to average to zero we
    first compute the deviations of each residual series from the time-series
    mean over the T_12 horizon before computing the correlation coefficient.
    <i>Note:</i> this option only makes a difference if the residuals are from a
    heterogeneous panel model (see example). The computations presently take
    somewhat longer than for the standard approach.
<p>
    <b>off</b> turns off the output table.
<p>
<p>
<b><u>Return values</u></b>
<p>
   Scalars
       <b>r(N_g)</b>             Number of panel members
<p>
   Matrices
       <b>r(nobs)</b>            Total number of obs used in the correlations (N x (N-
&gt; 1) x T_ij)
       <b>r(avgcorr)</b>         Averaged correlation coefficient
       <b>r(abscorr)</b>         Averaged absolute correlation coefficient
       <b>r(pesaran)</b>         Pesaran CD-statistic
       <b>r(numb_coeff)</b>      Number of correlations computed 
       <b>r(avg_obs)</b>         Average number of observations for each correlation
<p>
   Macros
       <b>r(varname)</b>         Name(s) of variable or residual series tested
<p>
<p>
<b><u>Example</u></b>
<p>
Download FAO production data for the agriculture sector in 128 countries
(1961-2002, unbalanced). See Eberhardt and Teal (2010) for more details on
data construction and deflation.
<p>
Variables used in illustration: ly log value-added per worker, ltr log
tractors per worker, llive log livestock per worker, lf log fertilizer per
worker, ln log land per worker (all with reference to the agricultural
sector). Note that the dataset is very large, such that it would be advisable
to increase the memory and matsize <i>before</i> loading the data.
<p>
    .clear
    .set mem 100m
    .set matsize 8000
<p>
Once the dataset is loaded into the program, set the panel dimensions: time
    variable - year, country identifier - clist2
    .tsset clist2 year
<p>
Investigate cross-section dependence in log agricultural value-added per
    worker
    .xtcd ly
<p>
Investigate cross-section dependence in all production function variables
    .xtcd ly ltr llive lf ln
<p>
Compute the residuals from an OLS production function with time fixed effects
    and test the residuals for cross-section dependence.
    .xi: reg ly ltr llive lf ln i.year
    .predict ols_res if e(sample), res
    .xtcd ols_res, resid
<p>
Compute the residuals from a heterogeneous parameter production function
    using the Pesaran &amp; Smith (1995) Mean Group estimator (xtmg if installed)
    with a country-specific linear trend. Then test the residuals for
    cross-section independence
    .xtmg ly ltr llive lf ln, trend robust res(mg_res)
    .xtcd mg_res, resid
<p>
Compute the residuals from a heterogeneous parameter production function
    using the Pesaran (2006) CCE Mean Group estimator (xtmg if installed) and
    then test the residuals
    .xtmg ly ltr llive lf ln, cce robust res(cce_res)
    .xtcd cce_res, resid
<p>
<p>
<b><u>References</u></b>
<p>
Eberhardt, Markus (2009) 'Nonstationary Panel Econometrics and Common Factor
    Models: An Introductory Reader', unpublished mimeo, available from here.
<p>
Eberhardt, Markus and Francis Teal (2011) 'Econometrics for Grumblers: A New
    Look at the Literature on Cross-Country Growth Empirics', <i>Journal of</i>
    <i>Economic Surveys</i>, Vol.25(1), pp.109–155.
<p>
Eberhardt, Markus and Francis Teal (2010) 'Mangos in the Tundra? Spatial
    Heterogeneity in Agricultural Productivity Analysis', Centre for the
    Study of African Economies, University of Oxford, unpublished working
    paper, available here.
<p>
Moscone, Francesco and Elisa Tosetti (2009) 'A Review And Comparison Of Tests
    Of Cross-Section Independence In Panels', <i>Journal of Economic Surveys</i>,
    Vol. 23(3), pp.528-561.
<p>
Pesaran, M. Hashem (2004) General Diagnostic Tests for Cross Section
    Dependence in Panels' IZA Discussion Paper No. 1240.
<p>
Pesaran, M. Hashem (2006) 'Estimation and inference in large heterogeneous
    panels with a multifactor error structure.' <i>Econometrica</i>, Vol. 74(4):
    pp.967-1012.
<p>
<p>
<b><u>Acknowledgements and Disclaimer</u></b>
<p>
This routine builds to a <i>very</i> large extent on the existing code for the
Pesaran (2004) CD test (xtcsd) by De Hoyos and Sarafidis (2006). Users should
refer to their help file for more details and acknowledge these authors. Any
errors are of course my own.
<p>
<p>
<b><u>Author</u></b>
<p>
Markus Eberhardt
Centre for the Study of African Economies
Department of Economics
University of Oxford
Manor Road, Oxford OX1 3UQ
markus.eberhardt@economics.ox.ac.uk 
<p>
<p>
<b><u>Also see</u></b>
<p>
Online: help for xtcsd (if installed), xtmg (if installed)
</pre>