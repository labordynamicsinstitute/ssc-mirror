<pre>
-------------------------------------------------------------------------------
help for <b>kdens2</b>
-------------------------------------------------------------------------------
<p>
<b><u>Bivariate kernel density estimation</u></b>
<p>
        <b>kdens2</b> <i>varnameY</i> <i>varnameX</i> [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] [<b>,</b> <b>n(</b><i>#</i><b>)</b> <b><u>xw</u></b><b>idth(</b><i>#</i><b>)</b>
                 <b><u>yw</u></b><b>idth(</b><i>#</i><b>)</b> <b>saving(</b><i>name</i><b>)</b> <b>replace</b> <b>nodraw</b> ]
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>kdens2</b> produces bivariate kernel density estimates using a Gaussian kernel
    and graphs the result using Adrian Mander's <b>surface</b> plot routine. If Y- and
    X-variable labels are available, they are used to label the graph.
<p>
<p>
<b><u>Options</u></b>
<p>
    <b>n(</b><i>#</i><b>)</b> specifies the number of points on the Y- and X-axes at which the
        density estimate is to be evaluated.  The default is min(_N,50).
<p>
    <b>xwidth(</b><i>#</i><b>)</b> specifies the halfwidth of the kernel, the width of the density
        window around each point of <i>varnameX</i>.  If <b>xwidth()</b> is not specified,
        then the "optimal" width is used; see <b>kdensity</b>.
<p>
    <b>ywidth(</b><i>#</i><b>)</b> specifies the halfwidth of the kernel, the width of the density
        window around each point of <i>varnameY</i>.  If <b>ywidth()</b> is not specified,
        then the "optimal" width is used; see <b>kdensity</b>.
<p>
    <b>saving(</b><i>name</i><b>)</b> causes the graph to be saved as <i>name</i>.gph.  If this graph
        already exists, the <b>replace</b> option must be used. The option also causes
        the data underlying the graph to be written to <i>name</i>.dta. If this file
        already exists, the <b>replace</b> option must be used.
<p>
    <b>nodraw</b> specifies that the 3D graph should not be drawn. However, if the
        <b>saving</b> option is invoked, the resulting data will be saved, and may be
        fed to another graphing routine such as Stata 12's <b>twoway contour</b> or
        <b>twoway contourline</b>.
<p>
<b><u>Examples</u></b>
<p>
    . webuse grunfeld, clear
<p>
    . gen linv = log(invest)
<p>
    . label var linv "Log[Investment]"
<p>
    . gen lmkt = log(mvalue)
<p>
    . label var lmkt "Log[Mkt value]"
 
    . kdens2 linv lmkt
<p>
    . kdens2 linv lmkt, n(100)
<p>
    . kdens2 linv lmkt, xw(.5) yw(.5)
<p>
    . kdens2 linv lmkt, saving(bivar) replace
<p>
<b><u>Author</u></b>
<p>
    Christopher F. Baum, Boston College, USA
    baum@bc.edu
<p>
<b><u>Acknowledgements</u></b>
<p>
    The graphics produced by this routne are generated by Adrian Mander's
    <b>surface</b> routine. Thanks to Friedrich Huebler and Maria Cecilia Calderon for
    identifying bugs and Tom Steichen for constructive suggestions.
<p>
<b><u>Also see</u></b>
<p>
    On-line: density
<p>
<p>
</pre>