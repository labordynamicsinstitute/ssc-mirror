<pre>
-------------------------------------------------------------------------------
help for <b>zoib</b>
-------------------------------------------------------------------------------
<p>
<b><u>Fitting a zero one inflated beta distribution by maximum likelihood</u></b>
<p>
        <b>zoib</b> <i>depvar </i>[<i>indepvars</i>] [<i>weight</i>] [<i>if</i>] [<i>in</i>] [<b>,</b> <b><u>onei</u></b><b>nflate(</b><i>varlist_o</i><b>)</b>
                 <b><u>zeroi</u></b><b>nflate(</b><i>varlist_z</i><b>)</b> <b>nozero</b> <b>noone</b> <b><u>phi</u></b><b>var(</b><i>varlist_p</i><b>)</b> <b><u>r</u></b><b>obust</b>
                 <b><u>cl</u></b><b>uster(</b><i>clustervar</i><b>)</b> <b><u>l</u></b><b>evel(</b><i>#</i><b>)</b> <i>maximize_options</i> ]
<p>
    <b>by</b> <i>...</i> <b>:</b> may be used with <b>zoib</b>; see help by.
<p>
    <b>fweight</b>s, <b>pweight</b>s, and <b>aweight</b>s are allowed; see help weights.
<p>
    When using Stata version 11 or higher, <i>indepvars</i>, oneinflate(),
    zeroinflate(), and phivar() may contain factor variables; see fvvarlist.
<p>
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>zoib</b> fits by maximum likelihood a zero one inflated beta distribution to
    a distribution of a variable <i>depvar</i>. <i>depvar</i> ranges between 0 and 1: for
    example, it may be a proportion.  It will estimate the probabilities of
    having the value 0 and/or 1 as separate processes.  The logic is that we
    can often think of proportions of 0 or 1 as being qualitatively different
    and generated through a different process as the other proportions.
<p>
    The zero one inflated beta distribution consists of three parts:
<p>
        a probability that <i>depvar</i> = 0
        a probability that <i>depvar</i> = 1
        the distribution of depvar given that 0 &lt; <i>depvar</i> &lt; 1
<p>
    This means that the likelihood is:
<p>
        [1-(Pr(<i>depvar = 0</i>)] * [1-Pr(<i>depvar = 1</i>)] * Beta(<i>depvar</i> | mu, phi) if 0 
&gt; &lt; <i>depvar</i> &lt; 1
        Pr(<i>depvar</i> = 0) if <i>depvar = 0</i>
        Pr(<i>depvar</i> = 1) if <i>depvar = 1</i>
<p>
    The zero inflation and one inflation parts of this model are by default
    included whenever the dependent variable contains the value 0 and 1
    respectively, and excluded otherwise. The user can force the exclusion of
    the of these parts by specifying the <b>nozero</b> and <b>noone</b> options.
<p>
    The the effects on the log odds of having the value 0 or 1 on the
    variable <i>depvar</i> are represented in the <b>zeroinflate</b> and <b>oneinflate</b>
    equations respectively. The remaining proportions are modelled using a
    beta-distribution useing the parameterization discussed in (e.g. Ferrari
    and Cribari-Neto 2004, Paolino 2001, or Smithson and Verkuilen 2006).
    These effects are also reported on the logit scale.
<p>
    An alternative to <b>zoib</b> is to assume the proportions represent rare events
    that did not have had the time to get a single realization, so the 0s and
    1s are created via the same process as all the other proportions.  In
    this case one can use a fractional logit model as proposed by Papke and
    Wooldridge (1996), which can be estimated using <b>glm</b>, see:  
    http://www.stata.com/support/faqs/stat/logit.html.
<p>
<b><u>Options</u></b>
<p>
    <b>zeroinflate()</b> specifies the variables the influence the log odds of
        having the value 0 on <i>depvar</i>. This option can only be specified if
        the value 0 exists in <i>depvar</i>.
<p>
    <b>oneinflate()</b> specifies the variables the influence the log odds of having
        the value 1 on <i>depvar</i>. This option can only be specified if the value
        1 exists in <i>depvar</i>.
<p>
    <b>nozero</b> specifies that no zero inflation equation is to be estimated. This
        implies that all observations with the value 0 on <i>depvar</i> will be
        ignored.
<p>
    <b>noone</b> specifies that no one inflation equation is to be estimated. This
        implies that all observations with the value 1 on <i>depvar</i> will be
        ignored.
<p>
    <b>phivar()</b> allow the user to specify each the scale parameter for the beta
        part of the zero one inflated beta distribution as a function of the
        covariates specified in the respective variable list. A constant term
        is always included in each equation.
<p>
    <b>robust</b> specifies that the Huber/White/sandwich estimator of variance is
        to be used in place of the traditional calculation; see <b>[U] 23.14</b>
        <b>Obtaining robust variance estimates</b>.  <b>robust</b> combined with <b>cluster()</b>
        allows observations which are not independent within cluster
        (although they must be independent between clusters).
<p>
    <b>cluster(</b><i>clustervar</i><b>)</b> specifies that the observations are independent
        across groups (clusters) but not necessarily within groups.
        <i>clustervar</i> specifies to which group each observation belongs; e.g.,
        <b>cluster(personid)</b> in data with repeated observations on individuals.
        See <b>[U] 23.14 Obtaining robust variance estimates</b>.  Specifying
        <b>cluster()</b> implies <b>robust</b>.
<p>
    <b>level(</b><i>#</i><b>)</b> specifies the confidence level, in percent, for the confidence
        intervals of the coefficients; see help level.
<p>
    <b>nolog</b> suppresses the iteration log.
<p>
    <i>maximize_options</i> control the maximization process; see help maximize. If
        you are seeing many "(not concave)" messages in the log, using the
        <b>difficult</b> option may help convergence.
<p>
<p>
<b><u>Examples</u></b>
<p>
<p>
<b>    use k401.dta, clear</b>
<p>
<b>    replace totemp = totemp/100</b>
<p>
<b>    zoib prate mrate totemp age sole,       ///</b>
<b>         oneinflate( mrate totemp age sole) </b>
<p>
<b>    mfx</b>
<p>
<p>
<p>
<b><u>Author</u></b>
<p>
    Maarten L. Buis, WZB
    maarten.buis@wzb.eu
<p>
<p>
<b><u>References</u></b>
<p>
    Cook, D.O., Kieschnick, R. and McCullough, B.D. 2008. Regression analysis
    of proportions in finance with self selection. <i>Journal of Empirical</i>
    <i>Finance</i> 15(5):860-867.
<p>
    Evans, M., Hastings, N. and Peacock, B. 2000. <i>Statistical distributions.</i>
    New York: John Wiley.
<p>
    Ferrari, S.L.P. and Cribari-Neto, F. 2004.  Beta regression for modelling
    rates and proportions.  <i>Journal of Applied Statistics</i> 31(7): 799-815.
<p>
    Johnson, N.L., Kotz, S. and Balakrishnan, N. 1995.  <i>Continuous univariate</i>
    <i>distributions: Volume 2.</i> New York: John Wiley.
<p>
    MacKay, D.J.C. 2003.  <i>Information theory, inference, and learning</i>
    <i>algorithms.</i>  Cambridge: Cambridge University Press (see p.316).
    http://www.inference.phy.cam.ac.uk/itprnn/book.pdf
<p>
    Papke, L.E. and Wooldridge, J.M. 1996.  Econometric Methods for
    Fractional Response Variables with an Application to 401(k) Plan
    Participation Rates. <i>Journal of Applied Econometrics</i> 11(6):619-632.
<p>
    Paolino, P. 2001.  Maximum likelihood estimation of models with
    beta-distributed dependent variables. <i>Political Analysis</i> 9(4): 325-346.
    http://polmeth.wustl.edu/polanalysis/vol/9/WV008-Paolino.pdf
<p>
    Smithson, M. and Verkuilen, J. 2006.  A better lemon squeezer? Maximum
    likelihood regression with beta-distributed dependent variables.
    <i>Psychological Methods</i> 11(1): 54-71.
<p>
<p>
<b><u>Acknowledgement</u></b>
<p>
    Jeroan Allison helpfully identified a bug in a pervious version of the
        <b>predict</b> function of <b>zoib</b>.
<p>
<p>
<b><u>Also see</u></b>
<p>
    Online: help for zoib postestimation, glm
<p>
</pre>