<pre>
-------------------------------------------------------------------------------
help for <b>vecar</b>                           (StataList distribution 04 March 2001)
-------------------------------------------------------------------------------
<p>
<b><u>Vector autoregression</u></b>
<p>
        <b>vecar</b> <i>depvarlist</i> [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] <b>,maxlag(</b><i>#</i><b>)</b> [ <b><u>noc</u></b><b>onstant</b>
              <b><u>e</u></b><b>xog</b>(<i>varlist</i>) <b><u>cov</u></b> <b><u>dfk</u></b> <b><u>noh</u></b><b>eader</b> <b><u>t</u></b><b>able</b> <b><u>l</u></b><b>evel(</b><i>#</i><b>)</b> <b><u>s</u></b><b>aving</b>(<i>name</i>)}
              <b><u>u</u></b><b>sing</b>(<i>name</i>) <b>uncorr</b> ]
<p>
<b>vecar</b> is for use with time-series data.  You must <b>tsset</b> your data before using
<b>vecar</b>; see help tsset.
<p>
<b>by</b> <i>...</i> <b>:</b> may be used with <b>vecar</b>; see help by.
<p>
<b>vecar</b> shares the features of all estimation commands; see help est.
<p>
<p>
The syntax of predict after <b>vecar</b> is
<p>
        <b>predict</b> [<i>type</i>] <i>newvarname</i> [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] [<b>,</b> <b><u>eq</u></b><b>uation(</b><i>eqno</i>[<b>,</b><i>eqno</i>]<b>)</b>
                { <b>xb</b> | <b>stdp</b> | <b><u>r</u></b><b>esiduals</b> | <b><u>d</u></b><b>ifference</b> | <b><u>stdd</u></b><b>p</b> }]
<p>
These statistics are available both in and out of sample; type "<b>predict</b> <i>...</i> <b>if</b>
<b>e(sample)</b> <i>...</i>" if wanted only for the estimation sample.
<p>
<p>
<b><u>Description</u></b>
<p>
<b>vecar</b> estimates vector autoregression (VAR) models. Each of the variables in
<i>depvarlist</i> is regressed on <i>maxlag</i> lags of <i>depvarlist</i>, a constant (unless
suppressed) and the exogenous variables provided in <i>varlist</i> (if any).  <i>varlist</i>
may contain time-series operators.
<p>
A set of "block F" tests evaluates the joint significance of each variable's
lagged values in each equation.
<p>
<p>
<b><u>Options</u></b>
<p>
<b>maxlag</b> must be specified, and must be at least 1.
<p>
<b>noconstant</b> omits the constant term from estimation.
<p>
<b>exog(</b><i>varlist</i><b>)</b> specifies the exogenous variables to be included in each
    equation.
<p>
<b>cov</b> displays the covariance matrix of the residuals between equations. The
    divisor of the covariance terms is T, the number of sample observations,
    unless the dfk option is invoked. A comparison of this model with the
    zero-lag model (as a likelihood ratio test) is computed. Three criteria
    often employed for lag length selection are produced: the AIC (Akaike
    Information Criterion), BIC (Bayes or Schwarz Information Criterion) and
    the HQ (Hannan-Quinn) criterion. The cov option also causes three tests on
    the residuals to be performed: the multivariate portmanteau test of Ljung
    and Box, implemented in <b>wntstmvq</b> (STB-60), the test for independence of the
    errors of Breusch and Pagan, implemented in <b>mvreg</b>, and the Doornik-Hansen
    omnibus test for multivariate normality, implemented in <b>omninorm</b>. These
    tests make use of Stata's matrix language; it may be necessary to use <b>set</b>
    <b>matsize</b> to increase the default matrix size before reading in the data.
<p>
<b>dfk</b> specifies the use of an alternate divisor in computing the covariance
    matrix for the equation errors.  As an asymptotically justified estimator,
    <b>vecar</b> by default uses the number of sample observations (T) as a divisor.
    When the dfk option is set, a small-sample adjustment is made and the
    divisor is taken to be sqrt(T - k).
<p>
<b>noheader</b> suppresses display of the table reporting F statistics, R-squared, and
    root mean square error above the coefficient table.
<p>
<b>table</b> displays the full coefficient table.
<p>
<b>level(</b><i>#</i><b>)</b> specifies the confidence level, in percent, for confidence intervals;
    see help level.
<p>
<b>saving(</b><i>name</i><b>)</b> specifies that the log determinant of the residual covariance
    matrix associated with this model is to be saved as <i>name</i>.
<p>
<b>using(</b><i>name</i><b>)</b> specifies the name of the model against which this model is to be
    tested. The saved model should have a greater lag length, so that the
    likelihood ratio test compares the more general saved model with the
    restricted model currently estimated.
<p>
<b>uncorr</b> specifies that the likelihood ratio tests for lag length implemented by
    <b>saving</b> and <b>using</b>, as well as the test against the zero-order model
    implemented by <b>cov</b>, are to be conducted without the adjustment for degrees
    of freedom advocated by Sims (1980). Without this option, the difference
    between log determinants of the respective covariance matrices is scaled by
    (T-c), where T is the number of observations and c is the number of
    regressors in each of the unrestricted model's equations. With the <b>uncorr</b>
    option, the multiplier is merely T.
<p>
<p>
<b><u>Options for </u></b><b><u>predict</u></b>
<p>
<b>equation(</b><i>eqno</i>[<b>,</b><i>eqno</i>]<b>)</b> specifies to which equation you are referring.
<p>
    <b>equation()</b> is filled in with one <i>eqno</i> for options <b>xb</b>, <b>stdp</b>, and <b>residuals</b>.
    <b>equation(#1)</b> would mean the calculation is to be made for the first
    equation, <b>equation(#2)</b> would mean the second, and so on.  Alternatively,
    you could refer to the equations by their names.  <b>equation(income)</b> would
    refer to the equation named income and <b>equation(hours)</b> to the equation
    named hours.
<p>
    If you do not specify <b>equation()</b>, results are as if you specified
    <b>equation(#1)</b>.
<p>
    <b>stddp</b> and <b>difference</b> refer to between-equation concepts.  To use these
    options, you must specify <b>equation(#1,#2)</b> or <b>equation(income,hours)</b>.  When
    two equations must be specified, <b>equation()</b> is not optional.
<p>
<b>xb</b>, the default, calculates the linear prediction from the estimated model.
<p>
<b>stdp</b> calculates the standard error of the linear prediction.
<p>
<b>residuals</b> calculates the residuals.
<p>
<b>difference</b> calculates the difference between the linear predictions of two
    equations in the system.
<p>
<b>stddp</b> calculates the standard error of the difference in linear predictions
    between two equations.
<p>
<p>
<b><u>Examples</u></b>
<p>
        . use http://fmwww.bc.edu/ec-p/data/macro/wgmacro.dta,clear
<p>
        . vecar dlinvestment dlincome dlconsumption , maxlag(2)
<p>
        . vecar dlinvestment dlincome dlconsumption , maxlag(2) table exog(qtr)
            cov
<p>
        . predict ihat,eq(dlinvestment)
<p>
        . predict ieps,resid eq(dlinvestment)
<p>
        . mat list e(Sigma)
<p>
        . dis "Log-likelihood with `e(maxlag)' lags: `e(ll)'"
<p>
        . vecar dlinvestment dlincome dlconsumption if tin(1965q1,), maxlag(3)
            exog(qtr)
<p>
To reproduce Lutkepohl, 1993, Table 4.4:
<p>
        . vecar dlinvestment dlincome dlconsumption if tin(1961q2,1978q4),
            maxlag(4) saving(4) uncorr
<p>
        . vecar dlinvestment dlincome dlconsumption if tin(1961q2,1978q4),
            maxlag(3) using(4) saving(3) uncorr
<p>
        . vecar dlinvestment dlincome dlconsumption if tin(1961q2,1978q4),
            maxlag(2) using(3) saving(2) uncorr
<p>
        . vecar dlinvestment dlincome dlconsumption if tin(1961q2,1978q4),
            maxlag(1) using(2) uncorr
<p>
To estimate a VAR for each unit of a panel :
<p>
        . use http://fmwww.bc.edu/ec-p/data/Greene2000/TBL15-1,clear
<p>
        . tsset firm year,yearly
<p>
        . by firm: vecar i f c, maxlag(2) exog(year)
<p>
<b><u>References</u></b>
<p>
Lutkepohl, Helmut, 1993. Introduction to Multiple Time Series Analysis, 2d ed.
 Berlin: Springer-Verlag.
<p>
Sims, Christopher, 1980. Macroeconomics and Reality. Econometrica 48, 1-49.
<p>
<p>
<b><u>Acknowledgements</u></b>
<p>
Thanks to Vince Wiggins for assistance modifying this code to interact
properly with predict, and to Richard Sperling for developing the AIC, BIC,
HQ criteria code. Remaining errors are my own.
<p>
<b><u>Author</u></b>
<p>
Christopher F Baum, Boston College, USA, baum@bc.edu
<p>
<p>
<b><u>Also see</u></b>
<p>
On-line:  help for est, reg3, mvreg, wntstmvq (if installed), omninorm (if
                   installed), regress, predict
</pre>