<pre>
-------------------------------------------------------------------------------
help for <b>varlag</b>                                                        [P.Joly]
-------------------------------------------------------------------------------
<p>
<b><u>Statistics to determine the appropriate lag length in VARs, ECMs</u></b>
<p>
        <b>varlag</b> [<i>varlist</i>] [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] <b>,</b> <b><u>l</u></b><b>ags(</b><i>#</i><b>)</b> [ <b><u>testl</u></b><b>ag(</b><i>#</i><b>)</b> <b><u>nom</u></b><b>ulti</b>
                          <b><u>ex</u></b><b>og</b>(<i>varlist</i>) <b><u>t</u></b><b>rend</b> <b><u>noc</u></b><b>onstant</b> <b><u>s</u></b><b>ingle</b> <b><u>nod</u></b><b>etail</b> <b>cov</b>
                          <b><u>cor</u></b><b>r</b> <b>large</b> <b><u>l</u></b><b>evel(</b><i>#</i><b>)</b> <i>vececm_options</i> ]
<p>
<p>
<b>varlag</b> is for use with time-series data.  You must <b>tsset</b> your data before using
these commands; see help tsset.
<p>
<i>varlist</i> may contain time-series operators; see help varlist.
<p>
<p>
<b><u>Description</u></b>
<p>
<b>varlag</b> reports various statistics that are meant to help select the proper lag
structure to use in the estimation of Vector autoregressions (VARs) and Error
Correction Models (ECMs).  For each lag length up to <b>lags(</b><i>#</i><b>)</b>, <b>varlag</b> reports
the Multivariate portmanteau (Ljung-Box) statistic for white noise residuals,
p-values from Omnibus tests of multivariate normality of the residuals, as well
as the Breusch-Pagan statistic for the independence of residuals between
equations.  <b>varlag</b> also performs likelihood ratio tests to test successive null
hypotheses of smaller lag length.
<p>
Whether a varlist is specified determines if the tests should be computed for a
VAR or an ECM.  If varlist is omitted, <b>varlag</b> assumes the tests are for an ECM
and options normally required by <b>vececm</b> must be specified; see help vececm.
This means that Johansen's ML cointegration rank test must have been performed
prior to running <b>varlag</b>; see help johans.  Otherwise, if varlist is specified,
<b>varlag</b> is implemented in the context of a VAR.
<p>
In the context of a VAR, <b>varlag</b> can report various other statistics for each
individual equation in the system and each lag length if option <b>single</b> is
declared.  It computes the RMSE, FPE, and Schwartz criterion, as well as
p-values of Breusch-Godfrey LM tests for autocorrelated disturbances of order
1, 4, and larger (up to <i>min</i>[.25*N,<b>testlag(</b><i>#</i><b>)</b>]).  The p-value of the
Breusch-Pagan LM statistic for heteroskedasticity is also reported as an
indicator of potential mispecification.  However, the univariate Ljung-Box
portmanteau statistic is not reported as these tests are not appropriate when
stochastic regressors other than lagged values of the dependent variable are
included in individuals regressions.
<p>
For each statistic, the apparent optimal number of lags is reported.
<p>
<p>
<b><u>Options</u></b>
<p>
<b>lags(</b><i>#</i><b>)</b> specifies the largest lag length to be considered.
<p>
<b>testlag(</b><i>#</i><b>)</b> specifies the largest lag length to use in LM tests of serial
    correlation as well as for Multivariate portmanteau statistics.  The
    default is for the portmanteau to use <i>min</i>([N/2]-2,40) and the LM to use
    <i>min</i>(.25*N,40).
<p>
<b>nomulti</b> suppresses the calculation multivariate statistics for the system such
    as Multivariate portmanteau statistics, Omnibus tests for multivariate
    normality or residuals (Doornik &amp; Hansen (1994)), and Breusch-Pagan tests
    for the independence of the residuals between equations, i.e., that the
    disturbance covariance matrix is diagonal.
<p>
<i>vececm_options</i> are options used with <b>vececm</b>; see help vececm.  Options such as
    <b>cir(</b><i>#</i><b>)</b> and <b>sm(</b><i>case</i><b>)</b> are required.
<p>
<b>exog(</b><i>varlist</i><b>)</b> is only allowed in the context of VARs (i.e. if a varlist is
    specified) and specifies the exogenous variables that enter the VAR. <b>vececm</b>
    takes its exogenous variables from those specified at johans.
<p>
<b>trend</b> is only allowed in the context of VARs and specifies that a linear trend
    be included in each equation.
<p>
<b>noconstant</b> is only allowed in the context of VARs and suppresses the inclusion
    of an intercept in each equation of the VAR.
<p>
<b>single</b> is only allowed in the context of VARs and displays diagnostic
    statistics for each individual equation in the system, for each lag length
    up to <b>lags(</b><i>#</i><b>)</b>.
<p>
<b>nodetail</b> is relevant only with <b>single</b> and suppresses the display of individual
    statistics for every lag length.  Instead, the optimal lag with respect to
    each statistic is reported.
<p>
<b>cov</b> requests the display of the variance-covariance matrix of residuals between
    equations.
<p>
<b>corr</b> requests the display of the correlation matrix of residuals between
    equations.
<p>
<b>large</b> specifies that large sample statistics are to be used, specifically, that
    the number of sample observations, <i>T</i>, be used as a divisor in computing the
    covariance matrix for the equation errors rather than alternate divisor,
    <i>T-K</i>.  The covariance matrix of equation errors is used in the sequence of
    likelihood ratio tests for smaller lag length.  As asymptotically justified
    estimators, vector autoregressions and error correction models may use
    large sample statistics.
<p>
<b>level(</b><i>#</i><b>)</b> specifies the confidence level, in percent, for confidence intervals
    of the coefficients; see help level.
<p>
<p>
<b><u>Examples</u></b>
<p>
        . use http://fmwww.bc.edu/ec-p/data/macro/wgmacro.dta, clear
<p>
        . varlag investment income consumption, l(8)
<p>
        . varlag investment income consumption, l(8) single corr
<p>
In Error correction models:
<p>
        . johans investment income consumption, lags(6)
        . varlag, lags(10) c(1) sm(1)
<p>
<p>
<b><u>Author</u></b>
<p>
Patrick Joly, Industry Canada
pat.joly@utoronto.ca
<p>
<p>
<b><u>Also see</u></b>
<p>
On-line:  help for vecar (if installed), vececm (if installed), johans (if
                   installed), reg3, wntstmvq, omninorm
<p>
</pre>