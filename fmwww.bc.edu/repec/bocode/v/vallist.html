<pre>
-------------------------------------------------------------------------------
help for <b>vallist</b>                                                       [P.Joly]
-------------------------------------------------------------------------------
<p>
<b><u>List distinct values of a variable</u></b>
<p>
        <b>vallist</b> <i>varname</i> [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] [<b>,</b> <b>sort</b> <b>freq</b> <b><u>rev</u></b><b>erse</b> <b><u>miss</u></b><b>ing</b>
                         <b><u>nol</u></b><b>abels</b> <b><u>q</u></b><b>uoted</b> <b><u>m</u></b><b>ax(</b><i>#</i><b>)</b> <b><u>w</u></b><b>ords</b> <b><u>f</u></b><b>ormat(%</b><i>fmt</i><b>)</b> <b><u>s</u></b><b>ep(</b><i>string</i><b>)</b>
                         <b><u>not</u></b><b>rim</b> <b>local(</b><i>macname</i><b>)</b> ]
<p>
<p>
<b><u>Description</u></b>
<p>
<b>vallist</b> puts a list of the distinct values of <i>varname</i>, which may be numeric or
string, into returned macro <b>r(list)</b> and displays that list.  Values are listed
according to the order in which they appear in the data unless option <b>sort</b> or
<b>freq</b> is specified.  Missing values are ignored unless <b>missing</b> is specified.
<p>
<b>vallist</b> may be used interactively, but is most likely to be useful to
programmers dealing with categorical or counted data.
<p>
<p>
<b><u>Remarks</u></b>
<p>
<b>1.</b> Earlier versions of <b>vallist</b> produced a sorted list.  Starting with version
   3.0, the list may be sorted as an option.
<p>
<b>2.</b> Numerical variables containing non-integer values are displayed using
   <i>varname</i>'s display format which may be overridden by option <b>format()</b>.  The
   output format is therefore similar (if not identical) to the output of the 
   list command.  Programmers who do not want to allow the listing of
   fractional values are advised to use the <b>levels</b> command instead, considered
   safer for this very reason.
<p>
<p>
<b><u>Options</u></b>
<p>
<b>sort</b> requests that the list be sorted alphanumerically.  Variables with value
    labels are sorted according to their numerical value.
<p>
<b>freq</b> requests that the list be sorted in descending order of frequency.  (Ties
    are broken up arbitrarily.)
<p>
<b>reverse</b> causes <b>vallist</b> to begin selecting distinct values starting from the
    bottom (last observation) of the data as opposed to the top (first
    observation).  If specified with <b>sort</b> or <b>freq</b> it produces the list of
    distinct values in reverse alphanumerical order or reverse (ascending)
    order of frequency, respectively.
<p>
<b>missing</b> specifies that missing values should also be listed.  Missing (i.e.
    empty) values of string variables are specified as <b>"missing"</b>.  Note that
    this description may be truncated with the <b>max()</b> option.
<p>
<b>nolabels</b> suppresses the use of labels for numeric variables with value labels.
<p>
<b>quoted</b> specifies that values should be placed in <b>`" "'</b>.  This may be useful for
    string values or value labels containing embedded spaces.
<p>
<b>max(</b><i>#</i><b>)</b> specifies that at most the first <i>#</i> characters of text (string values or
    value labels) should be used for each value.  For example, <b>max(32)</b> may be
    needed to cut down text to elements acceptable in Stata 7 as matrix row or
    column names.
<p>
<b>words</b> specifies that text should be truncated to the first whole `word', that
    is, at just before the first space after a non-space character.  For
    example, a string value of <b>"foo bar"</b> would be represented by <b>"foo"</b>.
<p>
<b>format(%</b><i>fmt</i><b>)</b> specifies a format for use.  This is likely to be most useful with
    non-integer numeric values.  A string format should be specified for string
    values or numeric values with value labels.
<p>
<b>sep(</b><i>string</i><b>)</b> specifies a separator other than a space, which is the default.
<p>
<b>notrim</b> suppresses trimming of leading and trailing spaces from string values or
    value labels.
<p>
<b>local(</b><i>macname</i><b>)</b> puts the list into local macro <i>macname</i>.
<p>
The sequence of operations is <b>max()</b>, <b>words</b>, <b>format()</b>, <b>sep()</b>.
<p>
<p>
<b><u>Saved results</u></b>
<p>
        <b>r(list)</b> contains the list of distinct values.
<p>
<p>
<b><u>Examples</u></b>
<p>
    . sysuse auto
    . vallist rep78
    . vallist rep78, sort
    . vallist gear_ratio, reverse
    . vallist mpg if foreign, sep(,) sort
    . vallist foreign, nolabels local(vals)
<p>
<p>
<b><u>Author</u></b>
<p>
Patrick Joly, Industry Canada
pat.joly@utoronto.ca
<p>
<p>
<b><u>Acknowledgements</u></b>
<p>
The original author was Nicholas J. Cox. With his full permission <b>vallist</b> is
now maintained by the current author.  Fred Wolfe suggested that missing values
be listable and raised the problem of embedded spaces.
<p>
<p>
<b><u>Also see</u></b>
<p>
On-line:  help for tabulate, listutil, levels (if installed)
</pre>