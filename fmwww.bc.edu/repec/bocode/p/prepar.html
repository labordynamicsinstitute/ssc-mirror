<pre>
-------------------------------------------------------------------------------
help for <b>prepar</b>                                                   (Feb 4, 2010)
-------------------------------------------------------------------------------
<p>
<b><u>Description</u></b>
<p>
Writes the code and data file needed to process variables in PARSCALE,
with the option to run PARSCALE and merge in the scores and standard errors.
<p>
        <b>prepar</b><i> varlist</i> <b>,</b> <b>ID</b><i>(subject id)</i> <b>RUnname</b><i>(string)</i> [<b>MINsize(</b><i>integer 20</i><b>))</b>
                 <b>SCALE(</b><i>string 1.7</i><b>)</b> <b>NQpt(</b><i>string 11</i><b>)</b> <b>CYcles(</b><i>string 1000</i><b>)</b>
                 <b>SCORE(</b><i>string EAP</i><b>)</b> <b>PARameterfile(</b><i>string</i><b>)</b> <b>SKIP(</b><i>varlist</i>}
                 <b>ALL(</b><i>integer 0</i><b>))</b> <b>CLeanup(</b><i>integer 0</i><b>))</b> ]
<p>
    where:
<p>
        <i>varlist</i> is the list of variables (items, blocks) to be included in
            the PARSCALE run.
<p>
        <b>ID</b> is the subject id variable.
<p>
        <b>runname</b> is the name of the PARSCALE run to be generated.
            code_<i>runname</i>.psl will be the PARSCALE input file,
            data_<i>runname</i>.txt will be the PARSCALE data file.
<p>
<b><u>Options</u></b>
<p>
        <b>MINsize</b> is the minimum category frequency (number of
            observations/category).  The default is 20.  Categories will be
            combined, if possible, to meet the minsize.  Any variable that
            does not have enough observations in at least 2 categories will
            be dropped.  If you do not want any categories combined, specify
            minsize(1).
<p>
        <b>SCALE</b> changes the scale parameter from the default of 1.7.
<p>
<b>nqpt</b> - changes the number of quadrature points from a default of 11.
<p>
<b>cycles</b> - changes the maximun number of iterations in PARSCALE stage 2 from
        the default of 1000.
<p>
        <b>SCORE</b> Default is EAP.  You can specify MLE or WML instead.
<p>
        <b>PARameterfile</b> calculates scores using an existing PARSCALE parameter
            file.
<p>
        <b>SKIP</b> uses the existing PARSCALE parameter file only for the variables
            specified here.
<p>
        <b>ALL</b> ALL(1) runs the PARSCALE code, and merges the scores and their
            standard errors into the original data set.
<p>
        <b>CLeanup</b> CLeanup(1) deletes the PARSCALE files when the merge is
            completed.  CLeanup(2) deletes all but the PAR file.  Only for
            use with the ALL option.
<p>
<b><u>Remarks</u></b>
<p>
        Drops any variable that does not have enough observations for at
            least 2 categories, and displays a warning message.
<p>
        Warning message for variables with more than 15 levels (PARSCALE will
            reject).  Letter codes automatically made for 2-digit values.
<p>
        Allows missing values.
<p>
        Allows character or numeric ID's up to 9 digits.
<p>
        Creates a numeric, 10-digit ID code for PARSCALE by adding
            1,000,000,000 to the ID, first converting string IDs to a unique
            number if needed.
<p>
        Default PARSCALE CALIB instructions are:
<p>
            &gt;CALIB GRADED, LOGISTIC, SCALE=1.7, NQPT=11, CYCLES=1000,
            CRIT=.001
<p>
            If you want other choices, you can edit the .PSL file before
            running it.  [Except for SCALE, CYCLES, and NQPT, which you can
            choose on the command line.]
<p>
        The maximum number of variables is 230.
<p>
        Written for Stata 8.0.
<p>
<b><u>Examples</u></b>
<p>
    prepar item1 - item13, id(id) ru(gender0)
<p>
    prepar item1 - item13, id(id) ru(gender0) par(PRO) minsize(1) scale(1)
        score(MLE)
<p>
    prepar item1 - item13, id(id) ru(gender0) par(PRO) minsize(1)
        skip(item1-item5) cleanup(2)
<p>
    prepar item1 - item13, id(id) ru(gender0) all(1) cleanup(1)
<p>
<p>
<b><u>Authors</u></b>
<p>
    Laura Gibbons and Paul Crane.  University of Washington, Copyright
    2005-2010.  Email: gibbonsl@u.washington.edu
<p>
We appreciate the assistance of Tom Koepsell and Rich Jones. 
<p>
<b><u>Also see</u></b>
<p>
    <b>difwithpar</b> and <b>runparscale</b>.
<p>
</pre>