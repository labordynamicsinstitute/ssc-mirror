<pre>
<b>help pvenn</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
    <b> Proportional Venn Diagrams</b>
<p>
<b><u>Syntax</u></b>
<p>
        <b>pvenn</b> [<i>var1 </i>[<i>... var3</i>]] [<b>,</b> [<i>manual_mode_opts</i>] <i>options</i>]
<p>
<a name="manual_mode_opts"></a>    <i>manual_mode_opts</i>                Description
    -------------------------------------------------------------------------
    Main
      <b>plabel</b>(lblname [lblname ...])  specifies a list of label names for the
                                      populations.
      <b>pA</b>(#)                          specifies the size of population A.
      <b>pB</b>(#)                          specifies the size of population B.
      <b>pC</b>(#)                          specifies the size of population C.
      <b>pAB</b>(#)                         specifies the size of overlap between
                                      population A &amp; B.
      <b>pAC</b>(#)                         specifies the size of overlap between
                                      population A &amp; C.
      <b>pBC</b>(#)                         specifies the size of overlap between
                                      population B &amp; C.
      <b>ptotal</b>(#)                      specifies the size of total population.
    -------------------------------------------------------------------------
<p>
<a name="options"></a>    <i>options</i>                         Description
    -------------------------------------------------------------------------
    Main
      <b>ang</b>(#)                         specifies the angle between the
                                      connecting lines of circle A/B center
                                      and the X axis, that is the relative
                                      location of circle B to circle A;
                                      default is 0.
      <b>pos</b>(#)                         specifies the relative location of
                                      circle C to circle A &amp; B; default is 1.
      <b>drawtotal</b>(#)                   draw a rectangle outside all circles to
                                      represent the total population size;
                                      default is 1.
      <b>drawlabel</b>(#)                   draw labels in circles indicating names
                                      of the populations; default is 1.
      <b>lc</b>(colorstylelist)             specifies a line color for each circle
                                      and rectangle; default is "cranberry
                                      emerald brown lavender".
      <b>lp</b>(linepatternstylelist)       specifies a line pattern for each circle
                                      and rectangle; default is "solid solid
                                      solid solid".
      <b>lw</b>(linewidthstylelist)         specifies a line widths for each circle
                                      and rectangle; default is "0.8 0.8 0.8
                                      0.8".
      <b>n</b>(#)                           specify the points (#*2) used to draw a
                                      circle; default is 20000.
      twoway_options                 specifies additional twoway options (not
                                      all of them area allowed), for example
                                      titles() and notes().
    -------------------------------------------------------------------------
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>pvenn</b> produces proportioned and positioned Venn diagrams, supporting
    2-circle and 3-circle Venn diagrams, as well as 1-circle diagram. <b>pvenn</b>
    can also draw a rectangle outside all circles to proportionally represent
    the total population size, when it is possible.  Proportional Venn
    diagrams attempts to make each of the zones (the circles, the outside
    rectangle, and the set intersections) proportional to the population
    (value) assigned to the zone. Note that, the overlap regions of 3-circle
    Venn diagrams are not always to scale, because an ideal solution is
    generally not possible using circles.
<p>
    There are two ways to use <b>pvenn</b>:
<p>
    <b>1. Generating Venn diagrams from dataset:</b> <b>pvenn</b> can draw Venn diagrams
    from one, two, or three variables.  The variables must only have value of
    0 and 1, where 1 means positive observation and 0 means negative
    observation.  With one variable specified, a 1-circle diagram will be
    created to show the size of positive observations, and if drawtotal(1) is
    specified, an outside rectangle would be drawn to propotionally represent
    the relative size of total population to the size of positive ones.  With
    two or three variables specified, 2-circle or 3-circle proportional Venn
    diagrams can be created. For example in the dataset below,
<p>
  . list popA popB popC
     +-----------------------+
     |   popA   popB   popC  |
     |-----------------------|
  1. |      1      0      0  |
  2. |      1      1      1  |
  3. |      0      1      1  |
  4. |      0      0      0  |
  5. |      1      0      1  |
     +-----------------------+
         
    Observation 1 belongs to population A but not population B or C;
    Observation 5 belongs to population A and C but not population B;
    total population = 5;
    population A = 3;
    population B = 2;
    population C = 3;
    overlap population A/B = 1;
    overlap population A/C = 2;
    overlap population B/C = 2;
<p>
    Observations with missing values are dropped.
<p>
    <b>2. Generating Venn diagrams from manual inputs:</b> When no variable is
    specified, <b>pvenn</b> can draw Venn diagrams using <i>manual_mode_opts</i>.  In the
    above example,
<p>
    . pvenn popA popB popC
    is equivalent to
    . pvenn, plabel(popA popB popC) pA(3) pB(2) pC(3) pAB(1) pAC(2) pBC(2)
        ptotal(5)
<p>
<b><u>Options Generating Venn diagrams from manual inputs</u></b>
<p>
        +------+
    ----+ Main +-------------------------------------------------------------
<p>
    The <i>manual_mode_opts</i> options are functional only when no variable is
        specified.
<p>
    <b>plabel</b>(lblname [lblname ...]) specifies a list of label names for the
        populations. Minimum 1 and maximum 3 labelnames should be specified.
<p>
    <b>pA</b>(#) specifies the size of population A; default is 0. If pA(0), circle
        A is not drawn.
<p>
    <b>pB</b>(#) specifies the size of population B; default is 0. If pB(0), circle
        B is not drawn.
<p>
    <b>pC</b>(#) specifies the size of population C; default is 0. If pC(0), circle
        C is not drawn.
<p>
    <b>pAB</b>(#) specifies the size of overlap between population A &amp; B; default is
        0.
<p>
    <b>pAC</b>(#) specifies the size of overlap between population A &amp; C; default is
        0.
<p>
    <b>pBC</b>(#) specifies the size of overlap between population B &amp; C; default is
        0.
<p>
    <b>ptotal</b>(#) specifies the size of total population; default is 0. If
        <b>ptotal(</b><i>0</i><b>)</b> is specified, outside rectangle is not drawn.
<p>
<b><u>Options</u></b>
<p>
        +------+
    ----+ Main +-------------------------------------------------------------
<p>
    <b>ang</b>(#) specifies the angle between the connecting lines of circle A/B
        center and the X axis, that is the relative location of circle B to
        circle A; default is 0.
<p>
    <b>pos</b>(#) specifies the relative location of circle C to circle A &amp; B;
        default is 1.  <b>pos(</b><i>1</i><b>)</b> circle C is drawn clockwise to the circle A &amp;
        B; <b>pos(</b><i>-1</i><b>)</b> circle C is drawn counterclockwise to the circle A &amp; B.
<p>
    <b>lc</b>(colorstylelist) specifies a line color for each circle and rectangle;
        default is "cranberry emerald brown lavender".  The sequence is
        circleA, circleB, circleC, and outside rectangle. Use . to skip an
        item in the list.
<p>
    <b>lp</b>(linepatternstylelist) specifies a line pattern for each circle and
        rectangle; default is "solid solid solid solid".  The sequence is
        circleA, circleB, circleC, and outside rectangle. Use . to skip an
        item in the list.
<p>
    <b>lw</b>(linewidthstylelist) specifies a line widths for each circle and
        rectangle; default is "0.8 0.8 0.8 0.8".  The sequence is circleA,
        circleB, circleC, and outside rectangle. Use . to skip an item in the
        list.
<p>
    <b>drawtotal(</b><i>1</i><b>)</b> draw a rectangle outside all circles to represent the total
        population size; default is 1. <b>drawtotal(</b><i>0</i><b>)</b> suppress the draw.
<p>
    <b>drawlabel(</b><i>1</i><b>)</b> draw labels in circles indicating names of the populations;
        default is 1. <b>drawlabel(</b><i>0</i><b>)</b> suppress the display of labels.
<p>
    <b>n</b>(#) specify the points (#*2) used to draw a circle; default is 20000.
        Refer to help twoway_function.
<p>
    twoway_options specifies additional twoway options (not all of them area
        allowed), for example titles() and notes().
<p>
<p>
<b><u>Examples</u></b>
<p>
    <b>1. Generating Venn diagrams from dataset:</b>
<p>
    The examples below highlight the use of the<b> pvenn</b> plot on the nlsw88
    dataset, which is pre-installed with Stata software.
<p>
    Click below to load dataset
<p>
    sysuse nlsw88
<p>
    Click below (after the dataset is loaded) to see the intersections among
    "never married" "college graduate" and "lives in south".
<p>
    pvenn never_married collgrad south
    pvenn never_married collgrad south, ang(30) drawtotal(0) pos(-1)
    pvenn never_married collgrad south, drawtotal(1) lc("black" "red") lw(0.1
        0.3 0.5 0.8) lp("_" "." "dash_dot" "-")
<p>
    Click below to see the intersections among "married" "lives in south" and
    "lives in central city".
<p>
    pvenn married south c_city
    In this case, total population cannot be represented as an outside
        rectangle.
<p>
    <b>2. Generating Venn diagrams from manual inputs:</b>
<p>
    1-circle diagram:
    pvenn, pA(10) pB(0) pC(0) pAB(0) pAC(0) pBC(0) ang(30) ptotal (30)
        drawtotal(1) pos(-1) plabel("Max" "Jan" "Winston")
    2-circle Venn diagram:
    pvenn, pA(10) pB(0) pC(30) pAB(0) pAC(3) pBC(0) ang(30) drawtotal(1)
        pos(-1) plabel("Max" "Jan" "Winston")
    pvenn, pA(10) pB(30) pC(0) pAB(0) pAC(0) pBC(3) ang(30) drawtotal(1)
        pos(-1) plabel("Max" "Jan" "Winston")
    3-circle Venn diagram:
    pvenn, pA(10) pB(30) pC(20) pAB(4) pAC(5) pBC(3) ang(30) ptotal(90)
        drawtotal(0) pos(1) plabel("Max" "Jan" "Winston") title(Example)
    pvenn, pA(45) pB(25) pC(50) pAB(18) pAC(5) pBC(3) ang(120) drawtotal(1)
        pos(-1) drawlabel(0) plabel("Max" "Jan" "Winston") title(Example)
    pvenn, pA(10) pB(30) pC(20) pAB(0) pAC(0) pBC(3) ang(30) drawtotal(1)
        pos(-1) plabel("Max" "Jan" "Winston") title(Example)
<p>
<b><u>Authors</u></b>
<p>
    Wenfeng (Winston) Gong &amp; Jan Osterman;
    Center for Health Policy and Inequity Research at Duke University,
        Durham, NC.
<p>
    Email gongwenf@gmail.com
<p>
<p>
<p>
</pre>