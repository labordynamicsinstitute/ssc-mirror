<pre>
<b>help for paramed</b>                                  Hanhua Liu and Richard Emsley
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
    <b>paramed</b> --   causal mediation analysis using parametric regression models
<p>
<p>
<b><u>Syntax</u></b>
<p>
        <b>paramed</b> <i>varname</i><b>,</b> avar(<i>varname</i>) mvar(<i>varname</i>) a0(<i>real</i>) a1(<i>real</i>)
                  m(<i>real</i>) yreg(<i>string</i>) mreg(<i>string</i>) [cvars(<i>varlist</i>)
                  <b><u>inter</u></b><b>action</b> <b><u>case</u></b><b>control</b> <b><u>full</u></b><b>output</b> c(<i>numlist</i>) <b><u>boot</u></b><b>strap</b>
                  reps(<i>integer 200</i>) level(cilevel) seed(<i>passthru</i>)]
<p>
    <b>varname</b> - this specifies the outcome variable.
<p>
    <b>avar(</b><i>varname</i><b>)</b> - this specifies the treatment (exposure) variable.
<p>
    <b>mvar(</b><i>varname</i><b>)</b> - this specifies the mediator variable.
<p>
    <b>a0(</b><i>real</i><b>)</b> - this specifies the baseline level of the treatment (exposure).
<p>
    <b>a1(</b><i>real</i><b>)</b> - this specifies the alternative treatment (exposure) level.
<p>
    <b>m(</b><i>real</i><b>)</b> - this specifies the level of mediator at which the controlled
        direct effect is to be estimated.  If there is no treatment
        (exposure)-mediator interaction the controlled direct effect is the
        same at all levels of the mediator and so an arbitary value can be
        chosen.
<p>
    <b>yreg(</b><i>string</i><b>)</b> - this specifies the types of regression to be implemented
        for the outcome variable. This can be either <i>linear</i>, <i>logistic</i>,
        <i>loglinear</i>, <i>Poisson</i> or <i>Negative binomial</i>.
<p>
    <b>mreg(</b><i>string</i><b>)</b> - this specifies the types of regression to be impelemented
        for the mediator.  This can be either <i>linear</i> or <i>logistic</i>.
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>paramed</b> performs causal mediation analysis using parametric regression
    models.  Two models are estimated: a model for the mediator conditional
    on treatment (exposure) and covariates (if specified), and a model for
    the outcome conditional on treatment (exposure), the mediator and
    covariates (if specified).  It extends statistical mediation analysis
    (widely known as Baron and Kenny procedure) to allow for the presence of
    treatment (exposure)-mediator interactions in the outcome regression
    model using counterfactual definitions of direct and indirect effects.
<p>
    <b>paramed</b> allows continuous, binary or count outcomes, and continuous or
    binary mediators, and requires the user to specify an appropriate form
    for the regression models.
<p>
    <b>paramed</b> provides estimates of the controlled direct effect, the natural
    direct effect, the natural indirect effect and the total effect with
    standard errors and confidence intervals derived using the delta method
    by default, with a bootstrap option also available.
<p>
<p>
<b><u>Options</u></b>
<p>
    <b>cvars(</b><i>varlist</i><b>)</b> - this option specifies the list of covariates to be
        included in the analysis.  Categorical variables need to be coded as
        a series of dummy variables before being entered as covariates.
<p>
    <b><u>inter</u></b><b>action</b> - this specifies whether a treatment (exposure)-mediator
        interaction is present (no interaction if this option is omitted).
<p>
    <b><u>full</u></b><b>output</b> - this option specifies the output mode, which can be either
        <i>reduced</i> or <i>full</i>. The reduced output is the default option (if this
        option is omitted). The results matrix contains the controlled direct
        effect, natural direct effect, natural indirect effect and total
        effect.  When the <i>full</i> option is specified, both conditional effects
        and effects evaluated at the mean covariate levels are shown.
<p>
    <b>c(</b><i>numlist</i><b>)</b> - this option is used when the output option is <i>full</i>.  When
        the output mode is <i>full</i>, fixed values must be provided for the
        covariates at which conditional effects are computed (the number of
        values must correspond to the number of covariates).
<p>
    <b><u>case</u></b><b>control</b> - this option is used for implementing mediation analysis
        when data arise from a case-control design, provided the outcome in
        the population is rare. If this option is omitted, the data will not
        be treated as from a case-control design.
<p>
    <b><u>boot</u></b><b>strap</b> - this specifies whether a bootstrap should be run to compute
        bias-corrected bootstrap confidence intervals. No bootstrap will be
        run if this option is omitted.
<p>
    <b>reps(</b><i>integer 200</i><b>)</b> - this specifies the number of replications for
        bootstrap. The default is 200.
<p>
    <b>level(</b><i>cilevel</i><b>)</b> - this specifies the confidence level for bootstrap. If
        this option is omitted, the current default level obtained from
        c(level) (from <b>creturn list</b>) will be used.
<p>
    <b>seed(</b><i>passthru</i><b>)</b> - this specifies the seed for bootstrap. If this option is
        omitted, a random seed will be used.
<p>
<p>
<b><u>Example</u></b>
<p>
    <b>. use paramed_example.dta</b>
<p>
    Continuous outcome, continuous mediator, a binary treatment coded 0 and
        1, two covariates, no interaction between treatment and mediator,
        delta method standard errors
<p>
    <b>. paramed y_cont, avar(treat) mvar(m_cont) cvars(var1 var2) a0(0) a1(1)</b>
        <b>m(1) yreg(linear) mreg(linear)</b>
<p>
    Continuous outcome, binary mediator, a binary treatment coded 0 and 1,
        two covariates, include an interaction between treatment and
        mediator, bootstrap standard errors with default bootstrap settings
<p>
    <b>. paramed y_cont, avar(treat) mvar(m_bin) cvars(var1 var2) a0(0) a1(1)</b>
        <b>m(1) yreg(linear) mreg(logistic) inter boot</b>
<p>
    Binary outcome, binary mediator, a binary treatment coded 0 and 1, no
        covariates, bootstrap standard errors with 1000 replications and
        fixing the seed to 1234
<p>
    <b>. paramed y_bin, avar(treat) mvar(m_bin) a0(0) a1(1) m(1) yreg(logistic)</b>
        <b>mreg(logistic) boot reps(1000) seed(1234)</b>
<p>
    Count outcome with a Poisson model, binary mediator, a binary treatment
        coded 0 and 1, two covariates, no interaction between treatment and
        mediator, bootstrap standard errors with 1000 replications and fixing
        the seed to 1234
<p>
    <b>. paramed y_poisson, avar(treat) mvar(m_bin) cvars(var1 var2) a0(0) a1(1)</b>
        <b>m(1) yreg(poisson) mreg(logistic) boot reps(1000) seed(1234)</b>
<p>
<p>
<b><u>Saved results</u></b>
<p>
    <b>paramed</b> saves the following results in <b>e()</b>:
<p>
    Matrices  
      <b>e(effects)</b>     matrix containing direct, indirect and total effect
                       estimates, standard errors, p-value and 95% confidence
                       intervals
<p>
<p>
<b><u>Authors</u></b>
<p>
    Hanhua Liu, Richard Emsley and Graham Dunn
        Centre for Biostatistics
        Institute of Population Health
        The University of Manchester
<p>
    Tyler VanderWeele and Linda Valeri
        Harvard School of Public Health
        Harvard University
<p>
    Email: richard.emsley@manchester.ac.uk or hanhua.liu@manchester.ac.uk
<p>
<p>
<b><u>Further reading</u></b>
<p>
Emsley RA, Liu H, Dunn G, Valeri L, VanderWeele TJ. (2012). Paramed: A command 
to perform causal mediation analysis using parametric models. <i>The Stata Journal</i>
&gt; .  In preparation.
<p>
Valeri L, VanderWeele TJ. (2012). Mediation analysis allowing for exposure-medi
&gt; ator interactions 
and causal interpretation: theoretical assumptions and implementation with SAS 
&gt; and SPSS macros.
<i>Psychological Methods</i>.  In Press.
<p>
VanderWeele TJ and Vansteelandt S. (2009). Conceptual issues concerning mediati
&gt; on, interventions and 
composition. <i>Statistics and Its Interface - Special Issue on Mental Health and </i>
<i>&gt; Social Behavioral Science, 2:457-468.</i>
<p>
<p>
<b><u>Acknowledgments</u></b>
<p>
This works was supported by the UK Medical Research Council Methodology Researc
&gt; h Programme (Grant number: G0900678)
and a UK Medical Research Council Career Development Award in Biostatistics (Gr
&gt; ant number: G0802418).
<p>
The command is based on the MEDIATION macros in SAS and SPSS by Linda Valeri an
&gt; d Tyler VanderWeele.
<p>
<p>
<b><u>Also see</u></b>
<p>
    Help: <b>[R] regress</b>, <b>[R] logit</b>, <b>[R] glm</b>
</pre>