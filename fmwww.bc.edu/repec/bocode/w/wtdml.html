<pre>
-------------------------------------------------------------------------------
help for <b>wtdml</b>
-------------------------------------------------------------------------------
<p>
<b><u>Maximum likelihood estimation with Waiting Time Distribution data</u></b>
<p>
        <b>wtdml</b>, [<b>prevd(</b><i>fr_dens</i><b>)</b> <b>hdens(</b><i>inc_dens</i><b>)</b> <b>ddens(</b><i>exit_dens</i><b>)</b>
                <b>cens(</b><i>cens_type</i><b>)</b> <b>norobust</b> <b>robust</b> <b>level(</b><i>#</i><b>)</b> <i>ml_model_opts</i>]
<p>
        <b>wtdml</b>
<p>
    <b>wtdml</b> is for use with Waiting Time Distribution data; see help wtd. You
    must <b>wtdset</b> your data before using this command; see help wtdset.
<p>
<b><u>Notes on syntax</u></b>
<p>
    <i>fr_dens</i> is one of
<p>
            <b>exp</b> | <b>lnorm</b> | <b>wei</b>
<p>
    <i>inc_dens</i> is one of
<p>
            <b>exp</b> | <b>unif</b>
<p>
    <i>exit_dens</i> is one of
<p>
            <b>exp</b> | <b>unif</b>
<p>
    In the current version <i>inc_dens</i> must equal <i>exit_dens</i>.
<p>
    <i>cens_type</i> is one of
<p>
            <b>depphi</b> | <b>dep</b> | <b>indep</b> | <b>none</b>
<p>
    <i>ml_model_opts</i> are (some!) options allowed with <b>ml model</b>, see help ml,
        such as maximum number of iterations, maximization technique, etc.
        You should rarely need this, and please keep in mind that no thorough
        validation have been made to ensure that all options will work!
<p>
<b><u>Description</u></b>
<p>
    <b>wtdml</b> performs maximum likelihood estimation for Waiting Time
    Distribution (wtd) data; see help wtd. <b>wtdml</b> without options and no '<b>,</b>'
    redisplays the results from the previously estimated model. On the other
    hand <b>wtdml,</b> without options fits the simplest possible model, as
    described below.
<p>
<b><u>Options for </u></b><b><u>wtdml</u></b>
<p>
    <b>prevd(</b><i>fr_dens</i><b>)</b> specifies the forward recurrence density to use. They are
        named after their corresponding interarrival density, i.e. <b>exp</b> means
        Exponential, <b>lnorm</b> means Log-Normal, and <b>wei</b> means Weibull. The
        forward recurrence density <i>f(t)</i> for an interarrival density <i>g(t)</i> is
        given by
<p>
                        <i>f(t)</i> = <i>S(t) / mu</i>
<p>
        where <i>S(t)</i> is the survivor function for <i>g(t)</i> and <i>mu</i> is the mean for
        <i>g(t)</i>. If not specified it defaults to <i>exp</i>.
<p>
        The actual parametrizations used are:
<p>
        <b>FR-Exponenential</b>:
<p>
                <i>f(t) = exp(-(eb * t)) * eb</i>
<p>
        where <i>eb = exp(beta)</i>.
<p>
        <b>FR-Weibull</b>:
<p>
                <i>f(t) = exp(-(eb * t) ^ea - lngamma(1 + 1/ea)) * eb</i>
<p>
            where <i>ea = e(alpha)</i> and <i>eb = exp(beta)</i>.
<p>
        <b>FR-Log-Normal</b>:
<p>
                <i>f(t) = normprob(-(ln(x) - mu)/exp(lns)) / exp(mu + exp(2 *</i>
                        <i>lns)/2)</i>
<p>
            where <i>lns = ln(sigma)</i>.
<p>
<p>
    <b>hdens(</b><i>inc_dens</i><b>)</b> specifies the incidence density over the observation
        interval to be Exponential or Uniform. If not specified it defaults
        to <i>exp</i>.
<p>
    <b>ddens(</b><i>exit_dens</i><b>)</b> specifies the exit density over the observation interval
        to be Exponential or Uniform. If not specified it defaults to <i>exp</i>, if
        <b>cens()</b> is not set to <i>none</i>.
<p>
    <b>cens(</b><i>cens_type</i><b>)</b> specifies the dependency structure between event and exit
        times. <b>depphi</b> implies dependency on both initial disease status and
        long term dependency between event and exit times among
        non-prevalents (as measured by the parameter <i>phi</i>, hence the name).
        <b>dep</b> implies dependency on initial disease status only. <b>indep</b> implies
        full independence between event and exit times regardless of initial
        treatment status.  <b>none</b> implies that no model should be fitted for
        exit times, and only event times be considered.
<p>
    <b>robust</b> specifies that the Huber/White/sandwich estimator of variance is
        to be used in place of the traditional calculation in the estimation.
        <b>robust</b> combined with <b>cluster()</b> (must be set with <b>wtdset</b>) further
        allows observations which are not independent within cluster
        (although they must be independent between clusters). See help wtdset
        for further information.
<p>
    <b>norobust</b> specifies that the estimation should <b>not</b> use the
        Huber/White/sandwich estimator of variance, even though this was
        specified in the <b>wtdset</b> statement, see help wtdset.
<p>
    <b>level(</b><i>#</i><b>)</b> is the standard confidence-level option. It specifies the
        confidence level, in percent, for confidence intervals of the
        coefficients. The default is <b>level(95)</b> or as set by <b>set level</b>; see
        help level.
<p>
<b><u>Remarks</u></b>
<p>
    A more detailed description of the parameters is given in the paper by
    Støvring and Vach (2005), see help wtd. Briefly, the parameters are:
<p>
        <i>p</i> is prevalence
<p>
        <i>lambda</i> is incidence rate
<p>
        <i>d</i>[i] is i'th exit rate (1 is for prevalents, 0 for non-prevalents,
            and if i is missing then it is the joint rate for all)
<p>
        <i>phi</i> measures departure from independence between event and exit times
            among non-prevalents
<p>
        <i>alpha</i>, <i>beta</i>, <i>mu</i>, and <i>sigma</i> are the parameters of the forward
            recurrence density
<p>
    Note that the maximization procedure involves numerical integration. This
    is implemented through the use of a Monte Carlo technique with antithetic
    sampling. This results in rather fast code yielding high precision
    (although it may still take a while depending on problem, problem size,
    and hardware), but it does result in small (usually very small) random
    error in estimates. Thus, on a re-run with exact same data, you will
    observe a small change in estimates. This should be considered a feature,
    as it allows for direct evaluation of the uncertainty due to the
    numerical integration, but can be avoided by setting the seed prior to
    maximization, see help seed.
<p>
<b><u>Examples</u></b>
<p>
    <b>. wtdset event exit, i(id) start(31dec1996) end(31dec1997) scale(365)</b>
<p>
    <b>. wtdml, prevd(wei) cens(depphi)</b>
<p>
    <b>. wtdml, prevd(exp) hdens(exp) cens(none)</b>
<p>
    <b>. wtdml, /* same as above */</b>
<p>
    <b>. wtdml /* redisplays results */</b>
<p>
<b><u>Also see</u></b>
<p>
</pre>