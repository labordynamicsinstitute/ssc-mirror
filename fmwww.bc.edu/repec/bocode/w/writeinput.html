<pre>
-------------------------------------------------------------------------------
help for <b>writeinput</b>
-------------------------------------------------------------------------------
<p>
<b><u>Write dataset in memory to new do-file as an </u></b><b><u>input</u></b><b><u> command</u></b>
<p>
    <b>writeinput</b> <i>varlist</i> [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] <b>using</b> <i>newfile.do</i> [ <b>,</b> <b><u>n</u></b><b>ote(</b><i>string</i><b>)</b>
        <b><u>rep</u></b><b>lace</b> <b><u>nocl</u></b><b>ear</b> ]
<p>
<b><u>Description</u></b>
<p>
  <b>writeinput</b> writes data (or a subset of data) in memory to a do-file (.do)
  as an input statement.  This is useful for creating self-contained data
  examples that can be distributed with code in a do-file. Since Stata 11,
  the do-file editor has larger file size capacity, so large example datasets
  can be included in do-files (see:
  http://www.stata.com/stata11/doedit.html).
<p>
  When creating an example dataset or snippet to include in something like a
  homework example, lecture slide, email to Stata Technical Support, or a
  posting on Statalist, one might want to create an<b> input</b> (see input)
  command, allowing the recipient to directly write the example data into
  memory, rather than relying on copied/pasted free-form data (which might
  not format or wrap properly for the recipient and lead to
  miscommunication).
<p>
  Additionally, <b>input</b> requires formats of string variables be included in the
  varlist as well as double quotes around string variable data where there is
  an embedded space.  <b>writepinput</b> eases the process of creating a<b> input</b>
  version of the example data by adding this additional formatting
  automatically.
<p>
<b><u> Required</u></b> 
<p>
    <b>using</b> specifies <i>newfile.do</i> to be created and must have a .do file
        extension.
<p>
    <i>varlist</i> is the list of variables to be included in the<b> input</b> command
        created in <i>newfile.do</i>
<p>
<b><u> Options</u></b> 
<p>
    <b><u>rep</u></b><b>lace</b> option to replace existing do-file with the same name.
<p>
    <b><u>n</u></b><b>ote(</b><i>string</i><b>)</b> option to include a note (marked as a comment with
        asterisks) placed at the bottom of the<b> input</b> command written the the
        new do-file.
<p>
    <b><u>nocl</u></b><b>ear</b> specifies that no clear command is to be written to the top of
        the new do-file.  This is useful for<b> input</b>ing data horizontally (as
        new variables) to a dataset already in memory (assuming the extant
        dataset has equal or more observations).
<p>
    <b>if</b> and <b>in</b> are allowed.
<p>
<p>
<b><u> Examples</u></b>
<p>
    <b>. sysuse auto, clear</b>
    <b>. writeinput make mpg price for in 1/5 using "test1.do", repl</b>
    <b>. writeinput make mpg price for if for==0 in 20/60 using "test2.do", ///</b>
        <b>replace n(Here's some notes)</b>
    <b>. writeinput make if for==1 &amp; pri&gt;200 in 1/50 using "test3.do", ///</b>
        <b>replace n(write some notes here)</b>
    <b>. type "test3.do"</b>
<p>
// <b>input</b> data from "test3.do" as new variables in the existing dataset //
    <b>. rename make make2</b>
    <b>. do "test3.do"</b>
<p>
<b><u>Author</u></b>
<p>
    Eric A. Booth, Texas A&amp;M University
    ebooth@ppri.tamu.edu
<p>
<b><u>Also see</u></b>
<p>
    On-line:  help for input; file write;  doedit
<p>
</pre>