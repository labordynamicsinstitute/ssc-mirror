<pre>
-------------------------------------------------------------------------------
help for <b>whotdeck</b>
-------------------------------------------------------------------------------
<p>
<p>
<b><u>Multiple Imputation using the Approximate Bayesian Bootstrap (hotdeck) with wei</u></b>
<b><u>&gt; ghts</u></b>
<p>
        <b>whotdeck</b> [<i>varlist</i>] [<b>using</b>] [<b>if</b><i> exp</i>] [<b>in</b><i> exp</i>] , <b>predmis(</b><i>string</i><b>)</b> [
                           <b>by(</b><i>varlist</i><b>)</b> <b>store</b> <b>rep:lace</b> <b>output</b> <b>noise</b> <b>quiet</b>
                           <b>generate(</b><i>varname</i><b>)</b> <b>command(</b><i>string</i><b>)</b> <b>parms(</b><i>string</i><b>)</b>
                           <b>predmis(</b><i>string</i><b>)</b> <b>impute(</b><i>#</i><b>)</b> ]
<p>
<p>
<b><u>Description</u></b>
<p>
<b>whotdeck</b> will tabulate the missing data patterns within the <b>varlist</b>.  A row of
data with missing values in any of the variables in the <b>varlist</b> is defined as a
`missing line' of data, similarly a `complete line' is one where all the
variables in the <b>varlist</b> contain data. The <b>whotdeck</b> procedure replaces the
<b>varlist</b> variables in the `missing lines' with the corresponding values in the
`complete lines'.  <b>Whotdeck</b> should be used several times within a multiple
imputation sequence since missing data are imputed stochastically, with weights
determined by a logistic regression model of the missing data process, rather
than deterministically.
<p>
This is an adapted form of the Approximate Bayesian Bootstrap method of Rubin
and Schenker(1986); first a bootstrap sample of lines are sampled with
replacement from the entire dataset. Then a logistic regression model specified
by <b>predmis</b> is fitted to estimate the missingness weights. Then <b>nmiss</b> lines are
sampled, using the weights, with replacement from the <b>nobs</b> complete lines of
data.
<p>
One major assumption with the <b>whotdeck</b> procedure is that the missing data are
either missing completely at random (MCAR) or is missing at random (MAR)
conditional on the logistic regression model of the missing mechanism specified
in the option <b>predmis</b>. Additionally the sampling can be stratified using the <b>by</b>
option.
<p>
If a dataset contains a multivariate missingness pattern then it may contain
very few complete lines of data. The <b>whotdeck</b> procedure will not work very well
in such circumstances. There are more elaborate methods that <b>only</b> replace
missing values, rather than the whole row, for imputed values.  These
multivariate multiple imputation methods are discussed by Schafer(1997).
<p>
<b><u>Options</u></b>
<p>
<b>predmis(</b><i>string</i><b>)</b> specifies the linear predictor of the missingness model
<p>
<b>by(</b><i>varlist</i><b>)</b> specifies categorical variables defining strata within which 
the imputation is to be carried out.
<p>
<b>store</b>  specifies whether the imputed datasets are saved to disk.
<p>
<b>using</b>  specifies the root of the imputed datasets filenames. The default is
"imp" and hence the datasets will be saved as imp1.dta, imp2.dta, ....
<p>
<b>command(</b><i>string</i><b>)</b> specifies the analysis performed on every imputed dataset.
<p>
<b>noise</b> specifies whether the individual analyses are displayed. By default the
combined estimates are displayed.
<p>
<b>parms(</b><i>string</i><b>)</b>  specifies the parameters of interest from the
analysis. If the <b>command</b> is a regression command then the parameter list can
include a subset of the variables specified in the regression command.The 
final output consists of the combined estimates of these parameters.
For non-standard commands that are "regression" commands the <b>parms</b> option
looks at the estimation matrix e(b) and requires the column names to identify
the coefficients of interest.
<p>
<b>impute(</b><i>#</i><b>)</b> specifies the number of imputations to be used.
<p>
<p>
<b><u>Examples</u></b>
<p>
 whotdeck y x, predmis(sex age) command(logit y x) parms(x _cons) impute(5)
Do not save imputed datasets but carry out a logistic regression on the imputed
dataset and display the coefficients for x and the constant term of the model. 
&gt; Use the variables
age and sex in the model for predicting missingness
<p>
<b><u>Author</u></b>
<p>
Adrian Mander, Glaxo Smithkline, Harlow, UK.
<p>
Click here to see Adrian Mander's WEB site
Email adrian.p.mander@gsk.com
<p>
<b><u>Also see</u></b>
<p>
On-line: help for hotdeck (if installed). 
</pre>