<pre>
-------------------------------------------------------------------------------
help for <b>casefat</b>
-------------------------------------------------------------------------------
<p>
<b><u>Calculates case fatality ratio from incomplete epidemic data</u></b> 
<p>
        <b>casefat</b> [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] , <b>dead(</b><i>deathvar</i><b>)</b> <b>rec(</b><i>recvar</i><b>)</b> <b>t(</b><i>eventtime</i><b>)</b>
                [ <b>gen(</b><i>prefix</i><b>)</b> <b>replace</b> <b>greenwood</b> <b>untrans</b> <b>origin(</b><i>originvar</i><b>)</b>
                <b>cens(</b><i>censtime</i><b>)</b> ]
 
<p>
<b><u>Description</u></b>
<p>
    <b>casefat</b> estimates the case fatality ratio (CFR), the proportion of cases
    who ultimately die of the disease, using incomplete data such as would be
    available part-way through an epidemic: some patients are observed to
    have died or recovered, but others are still ill.
<p>
<p>
<b><u>Options</u></b>
<p>
<b>dead(</b><i>deathvar</i><b>)</b> and <b>rec(</b><i>recvar</i><b>)</b> are indicator variables for death and recovery
    respectively. Both options are required. <i>deathvar</i> = 1 means death, <i>recvar</i>
    = 1 means recovery, and both equal to 0 means that the subject is
    censored.
<p>
<b>t(</b><i>eventtime</i><b>)</b> is required. It records the time of death, recovery or censoring
    for each subject.  If the option <b>origin(</b><i>originvar</i><b>)</b> is not specified, then
    <i>eventtime</i> is the time since the patient became at risk of death or
    recovery, which would normally be the time since infection. If
    <b>origin(</b><i>originvar</i><b>)</b> is specified then <i>originvar</i> is the calendar time the
    subject became at risk and <i>eventtime</i> is the calendar time of death,
    recovery or censoring
<p>
<b>gen(</b><i>prefix</i><b>)</b> creates three new variables, <i>prefix</i>0, <i>prefix</i>1 and <i>prefix</i>t.
    <i>prefix</i>0 and <i>prefix</i>1 are the estimated cumulative incidence functions for
    death and recovery at time <i>prefix</i>t.  If <b>replace</b> is also specified, then
    any existing variables with these names are replaced.
<p>
<b>greenwood</b> requests that the variance-covariance matrix of the survivor
    function be calculated using Greenwood's formula.
<p>
<b>untrans</b> requests that confidence intervals be calculated on the untransformed
    scale. The default is to use the logit scale.
<p>
<b>cens(</b><i>censtime</i><b>)</b> specifies a calendar time at which the data are to be
    censored, to illustrate what the estimates would have been if the
    analysis had been carried out then. This option only makes sense if
    <b>t(</b><i>eventtime</i><b>)</b> refers to calendar time.
 
<p>
<p>
<b><u>Remarks</u></b>
<p>
  The data should be in the form of one record per person.
 
  The Kaplan-Meier-like estimate of the CFR, its standard error, and theta0
  and 1-theta1, the estimated lower and upper bounds of the CFR, are
  calculated according to the formulae given in:
        Ghani, A. C. et al. Methods for estimating the case fatality ratio
        for a novel emerging infectious disease.
        American Journal of Epidemiology September 2005 Vol 162 No 5
 
  In addition, two more simple estimates of the CFR are calculated. These
  are:
 
        E1=D/C and E2=D/(D+R)
 
  where C, D and R are the numbers of cases, deaths and recoveries observed
  so far. Jeffreys binomial confidence intervals are calculated for these two
  statistics.
 
<p>
<b><u>Examples</u></b>
<p>
    <b>. casefat, t(t) dead(dead) rec(rec)</b>
 
    <b>. casefat, t(t) dead(dead) rec(rec) gen(theta) replace</b>
 
<p>
<b><u>Authors</u></b>
    
            Jamie Griffin and Azra Ghani
            Imperial College, London
            jamie.griffin@imperial.ac.uk
         
            Updated 7th May 2009
  
</pre>