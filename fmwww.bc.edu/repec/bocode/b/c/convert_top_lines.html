<pre>
<p>
-------------------------------------------------------------------------------
help for <b>convert_top_lines</b>
-------------------------------------------------------------------------------
<p>
<b><u>Convert the first one or two observations to variable names and lables.</u></b>
<p>
        <b>convert_top_lines</b> [, <b>line2labels list drop</b>]
<p>
<b><u>Description</u></b>
<p>
    <b>convert_top_lines</b> will take values in the first observation, and use them
    as variable names.  Optionally, it will take values in the second
    observation, and use them as variable labels.  This works only when all
    datatypes are string, and the existing names are v1, v2, etc.
<p>
<p>
<b><u>Options</u></b>
<p>
    <b>line2labels</b> specifies that values in the second observation are to be
        taken as variable labels.
<p>
    <b>drop</b> specifies that the first, and possibly the second observations are
        to be dropped - after the names and labels are extracted from them.
        With this option, the first observation is always dropped; when
        combined with <b>line2labels</b>, the second observation is also dropped.
        Typically you would want to specify this option, since, if you need
        to use this program, then these particular observations do not
        contain "regular" data, and don't belong with the others.
<p>
    <b>list</b> specifies that the first three observations will be listed (after
        the renaming, but prior to the optional <b>drop</b> operation), so you can
        see the information that has been converted to names and labels.
        Typically, in the first observation, you will see values equaling the
        names, and the third observation would typically contain regular data
        values.
<p>
<p>
<b><u>Remarks</u></b>
<p>
    This is intended to aid in clearing up some problems that may occur with
    <b>insheet</b>.
<p>
    Often, comma-separated-value (csv) files have the variable names in the
    first line.  If the data follow, starting on the second line, then
    <b>insheet</b> knows what to do; it uses the values in the first line as the
    variable names, and collects the regular data beginning with the second.
<p>
    But sometimes, csv raw data files come with descriptive information in
    the second line, in addition to variable names in the first.  This
    descriptive information is often suitable as variable labels.  But
    <b>insheet</b> is not able to handle that situation, and will...
<p>
        a, use default names, v1, v2, v3, etc.
<p>
        b, use long string datatypes, such as str68.
<p>
    <b>insheet</b>, as it stands at the time of this writing, is not set up to
    recognize this situation, and it invokes its "take everything as string"
    mode.  Thus, it selects datatypes that can accomodate the values in all
    the lines, including the second, where those long descriptions dwell.
    Often, in this situation, the datatype is tailored to that one longest
    value, and all other "actual" data values are much shorter, and possibly
    numeric.
<p>
    This program is meant to partly remedy that situation.  It will first
    check that all the variables are named v1, v2, etc.  Then it renames them
    to the values contained in the first line, with these names converted to
    lower case.  With the <b>line2labels</b> option, the values in the second line
    become variable labels.
<p>
    Typically, you would want the <b>line2labels</b> optioon, because, if you don't
    have descriptive information in the second line, then <b>insheet</b> probably
    would have succeeded at taking variable names from the first line (if
    they exist therein), and you wouldn't be needing this program.  But this
    feature was made optional for the sake of generality and to give you more
    control.
<p>
    Some truncation may occur when the values in the second line are read
    into the variables during insheet, and possibly when these values are
    converted to variable labels. (The latter would occur with Stata SE
    only.) Whenever this possibility is detected (when the length of the
    value is &gt;=80), a note is added to the variable, indicating the
    possibility of truncation.
<p>
<p>
<b><u>Examples</u></b>
<p>
      <b>. convert_top_lines</b>
<p>
      <b>. convert_top_lines, line2labels list drop</b>
<p>
<p>
<b><u>Additional Remarks</u></b>
<p>
    In the situation where you would want to use this, all datatypes are
    initially string, which may not be appropriate after the operation is
    completed.  But it is beyond the scope of <b>convert_top_lines</b> to try to
    remedy that situation.  Thus, you may want to follow this with some
    changes to datatypes, such as with <b>compress</b> and <b>destring</b>.
<p>
           --------------------------------------------------------------------
            <b>Technical note:</b> While the presence of string types may
            be ultimately undesirable for most variables, it makes
            the operations within <b>convert_top_lines</b> possible, as
            variable names and labels are string values.
           --------------------------------------------------------------------
<p>
    This always converts the names to lower case, which would be a problem if
    some names are distinguished only by case.  If users find they need to be
    able to control that, they should contact the author.
<p>
    If you are using <b>insheet</b> on a large csv file with descriptive information
    in the second line, then you may need a large amount of memory just for
    the <b>insheet</b> operation.  Once <b>convert_top_lines</b> is done, followed by
    appropriate changes to datatypes, the dataset will be much smaller, and
    you can return to using less memory.  See memory.
<p>
<p>
<b><u>Author</u></b>
<p>
    David Kantor, Institute for Policy Studies, Johns Hopkins University.
    Email dkantor@jhu.edu if you observe any problems.
<p>
<b><u>Also see</u></b>
<p>
    insheet, datatypes, destring, compress
<p>
</pre>