<pre>
.-
help for ^barplot^
.-
<p>
Bar plot
--------
<p>
    ^barplot^ yvarlist xvar [^if^ exp] [^in^ range]
    [ ^, w^idth^(^string^) b^ase^(^string^) m^onths ^join^
    graph_options ]
<p>
Description
-----------
<p>
^barplot^ produces a plot of the variables in yvarlist against xvar.
Each variable in yvarlist is plotted as a series of unshaded bars rising
above or falling below one or more base lines. The height of each bar is
given by the y variable, the width via the width option, the base via
the base option and the horizontal centre of each bar by xvar.
<p>
^barplot^ could be used, for example, to
<p>
    plot monthly totals or other time series as a series of touching
    bars, positive and negative values shown upwards and downwards
    (rainfall/evaporation, profit/loss, income/expenditure)
<p>
    show histograms, especially those with more than 50 bins (classes)
    or unequal bin widths (class intervals), or with unshaded bars
<p>
    show the difference between two histograms as a series of bars that
    may be positive or negative
<p>
    show J.W. Tukey's rootograms, with the square root of frequencies on
    the y axis.
<p>
Note especially in the case of histograms or rootograms that the
frequencies must be calculated beforehand.
<p>
Through the ^width()^ option, ^barplot^ could be used to produce
overlapping or underlapping bars, if desired for some reason.
<p>
<p>
Options
-------
<p>
^width(^string^)^ specifies how the widths of the bars are determined.
    ^width(^widthvar^)^ specifies that they are given by widthvar.
    ^width(^#^)^ specifies that they are constant and equal to #.
    The default is ^width(1)^.
<p>
^base(^string^)^ specifies how the bases of the bars are determined.
    ^base(^basevar^)^ specifies that they are given by basevar.
    ^base(^#^)^ specifies that they are constant and equal to #.
    The default is ^base(0)^.
<p>
^months^ without ^xlabel( )^ automatically produces
    ^xla(1,2,3,4,5,6,7,8,9,10,12)^.
<p>
^join^ specifies that bars that do not touch will be joined, i.e.
    connected by fragments of a baseline. Separate bars usually look
    better on histograms containing gaps (bins with zero frequency).
    Joined bars often look better with time series plots.
<p>
graph_options are options allowed with ^graph, twoway^, other than
    ^symbol^ and ^connect^, which are set to ^i^ and ^L^ for each y
    variable, and ^xlabel^ by itself. Note that these options do not
    include ^shading^.
<p>
<p>
Examples
--------
<p>
        . ^barplot pop age^
        . ^barplot rain month, mon^
        . ^barplot males females age^
<p>
    Histogram from data:
<p>
        . ^genfreq r if r &gt; 0, w(1) b(Br) f(Fr)^
        . ^barplot Fr Br, w(1)^
<p>
    OR  . ^histplot r if r &gt; 0, w(1)^
<p>
    Histogram from data, discrete variables:
<p>
        . ^egen freq = count(rep78), by(rep78)^
    OR  . ^genfreq rep78, fg(freq)^
<p>
        . ^barplot freq rep78, w(0.5) yla xla(1,2,3,4,5)^
<p>
    Histogram with unequal bin widths (Snedecor and Cochran, 1989,
    p.19):
<p>
        . ^input centre width freq^
        . ^112.5 25 38^
        . ^137.5 25 27^
        . ^162.5 25 15^
        . ^187.5 25 11^
        . ^250 100 4^
        . ^350 100 4^
        . ^450 100 1.8^
        . ^550 100 2^
        . ^700 200 1.2^
        . ^900 200 0.2^
        . ^barplot freq centre, w(width) l2(Frequency per 25000)^
            ^b2(Population in 000) yla^
<p>
    Superimposed histograms for different groups:
<p>
        . ^genfreq length, w(5) bg(Blength) fg(Flength) by(foreign)^
        . ^gen Flengthf = Flength if foreign^
        . ^gen Flengthd = Flength if !foreign^
        . ^barplot Flengthf Flengthd Blength, w(5)^
<p>
    Normal and inverted histograms for different groups:
        . ^gen nFlf = -Flength if foreign^
        . ^barplot nFlf Flengthd Blength, w(5)^
<p>
    Separate histograms for different groups:
<p>
        same colour:
        . ^barplot Flength Blength, w(5) by(foreign)^
<p>
        different colours:
        . ^barplot Flengthf Flengthd Blength, w(5) by(foreign)^
<p>
    Superimposed histograms for different variables:
<p>
        . ^genfreq n, w(0.5) bg(Bn) fg(Fn)^
        . ^genfreq x, w(0.5) bg(Bx) fg(Fx)^
        . ^stack Bx Fx Bn Fn, into(B F) wide clear^
        . ^barplot Fx Fn B, w(0.5)^
<p>
    Separate histograms for different variables:
        . ^barplot Fx Fn B, w(0.5) by(_stack)^
<p>
<p>
Author
------
<p>
         Nicholas J. Cox, University of Durham, U.K.
         n.j.cox@@durham.ac.uk
<p>
<p>
Also see
--------
<p>
On-line: help for @graph@, @spikeplt@ (if installed), @genfreq@ (if
         installed), @histplot@ (if installed)
<p>
</pre>