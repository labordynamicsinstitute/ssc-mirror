<pre>
<b>help oeratio</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
    <b>oeratio</b> --   ratio of observed to expected outcomes
<p>
<b><u>Syntax</u></b>
<p>
        <b>oeratio</b> [{depvar predictvar}] [<i>if</i>] [<i>in</i>] [<b>,</b> <i>options</i>]
<p>
    <i>options</i>               Description
    -------------------------------------------------------------------------
    Main
      <b><u>se</u></b><b>only</b>              suppress the display; calculate only the standard
                            error; programmer's option
      <b><u>lev</u></b><b>el(</b><i>#</i><b>)</b>            specify confidence level; if not specified system
                            default is used.
    -------------------------------------------------------------------------
    <b>by</b> is allowed; see <b>[D] by</b>.
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>oeratio</b> calculates the ratio of the number of observed and expected
    outcomes of note.  If <i>depvar</i> and <i>predictvar</i> (the variable specifying the
    individual probability of a positive outcome for each subject) are not
    specified, the command must follow a <b>logit</b> or <b>logistic</b> command.
<p>
<b><u>Options</u></b>
<p>
        +------+
    ----+ Main +-------------------------------------------------------------
<p>
    <b>seonly</b> restricts the calculation to only make calculations required to
        generate the standard error and ratio of observed to expected
        outcomes.
<p>
    <b>level</b> set the confidence level. If not specified, the default confidence
        level is used; see <b>[R] level</b>.
<p>
<p>
<b><u>Remarks</u></b>
<p>
    The variance is calculated using the Bernoulli distribution: that is if p
    is the prediction variable: variance = sum(p*(1-p)). In its current form
    the standard error, confidence intervals and z-score calculated do not
    take into account the error of the model.
<p>
    This command was developed in order to calculate the standardized
    mortality ratio (SMR) for intensive care units (ICU) when applying
    logistic mortality prediction models such as MPM, APACHE, PRISM or PIM
    models to unit data as part of benchmarking procedures.
<p>
<b><u>Examples</u></b>
<p>
    ---------------------------------------------------------------------------
    Setup
        <b>. webuse lbw2</b>
    Logistic regression on even records
        <b>. logit low age lwt race2 race3 smoke ptl ht ui if mod(id,2)==0</b>
    Ratio of observed to expected outcomes when model applied to odd records
        <b>. oeratio if mod(id,2)==1</b>
    ---------------------------------------------------------------------------
    externally validated logistic regression model covariates applied to lbw
    data
        <b>. generate p = invlogit(-2 + (0.05* age))</b>
        <b>. oeratio low p</b>
    ---------------------------------------------------------------------------
<p>
<b><u>Saved Results</u></b>
<p>
    <b>logit</b> saves the following in <b>r()</b>:
<p>
    Scalars   
      <b>r(N)</b>           number of observations
      <b>r(predicted)</b>   number of outcomes predicted
      <b>e(obs)</b>         number of outcomes observed
      <b>e(ratio)</b>       ratio of observed to predicted outcomes
      <b>e(se)</b>          standard error
      <b>e(z)</b>           z score of the difference between observed and predicted
                       outcome
<p>
<p>
<b><u>Also see</u></b>
<p>
    Calculating standardised mortality <i>rate</i> (as opposed to <i>ratio</i>) <b>[ST]</b>
             <b>stptime</b>;
</pre>