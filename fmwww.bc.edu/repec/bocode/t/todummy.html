<pre>
<b>help todummy</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
     <b>todummy</b> -- Create dummy variables
<p>
<p>
<b><u>Syntax</u></b>
<p>
        <b>todummy</b> <i>varlist</i> [<i>if</i>] [<i>in</i>] <b>,</b> { <b><u>v</u></b><b>alues(</b><i>vlist</i><b>)</b>|<i>keyword</i> } [<i>options</i>]
<p>
<p>
     where <i>vlist</i> is a list of values specified in one or more <i>numlist</i><i>s</i> of the
form
<p>
        [<b>=</b>]<i>numlist</i> [<b>\</b> [<b>=</b>]<i>numlist</i> <i>...</i>]
<p>
<p>
    <i>options</i>                Description
    -------------------------------------------------------------------------
    * <b><u>v</u></b><b>alues(</b><i>vlist</i><b>)</b>        specify values to be coded 1
      <b><u>p</u></b><b>ercentile</b>           interpret <i>vlist</i> as list of percentiles
      <b><u>c</u></b><b>ut</b>                  interpret <i>vlist</i> as cutpoints
<p>
    *<i>Keywords</i>
      <b><u>l</u></b><b>evels</b>               create one dummy for each level of the original
                             variable
      <b><u>med</u></b><b>ian</b>               assign value 1 if the original variable is greater
                             or equal to the 50th percentile
      <b>q</b>                    create one dummy for each quartile of the original
                             variable
<p>
    <i>Names</i>
      <b><u>g</u></b><b>enerate(</b><i>namelist</i><b>)</b>   create dummies <i>name</i><i>1</i>, <i>name</i><i>2</i>, ...
      <b><u>pre</u></b><b>fix(</b><i>pre</i><b>)</b>          use <i>pre</i> as prefix for created dummies
      <b><u>suff</u></b><b>ix(</b><i>suff</i><b>)</b>         use <i>suff</i> as suffix for created dummies
      <b>stub(</b><i>stub</i><b>)</b>           use <i>stub</i><i>1</i>, <i>stub</i><i>2</i>, ... as dummies' names
      <b>replace</b>              replace existing variables with dummies
      <b><u>nonam</u></b><b>es</b>              do not use value labels as variable names (<b>levels</b>)
<p>
    <i>Labels</i>
      [<b><u>r</u></b>]<b><u>l</u></b><b>abel(</b><i>lbllist</i><b>)</b>    use <i>label</i><i>1</i>, <i>label</i><i>2</i>, ... as variable labels
      <b><u>novarl</u></b><b>abel</b>           do not assign variable labels
<p>
    <i>Missing values</i>
      <b><u>m</u></b><b>issing</b>              create dummy for missings (<b>levels</b>) or copy missing
                             values
<p>
    <i>Advanced</i>
      <b><u>nosk</u></b><b>ip</b>[<b>(</b>drop<b>)</b>]       do not skip creation of existing dummies
      <b>ro(</b><i>rel</i>.<i> operator</i><b>)</b>    specify relational operator
      <b><u>noexc</u></b><b>lude</b>            use all observations to create dummies, even if
                             excluded by <b>if</b> and/or <b>in</b> qualifiers
    -------------------------------------------------------------------------
     * one of <b>values()</b> or <i>keyword</i> must be specified
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>todummy</b> creates indicator variables (also called dummies) from variables
    in <i>varlist</i>. There may either one or multiple dummies be created from each
    variable. If one dummy per variable is created, default names are
    <i>d_</i><i>varname</i>.
<p>
<a name="opt"></a><p>
<b><u>Options</u></b>
<p>
    <b>values(</b><i>vlist</i><b>)</b> assigns value 1 if the original variable equals the values
        specified in <i>vlist</i>, 0 otherwise. There will be as many dummies per
        variable as there are <i>numlists</i> in <i>vlist</i>. The first created dummy will
        be coded 1 if the original variable equals the values in the first
        <i>numlist</i>, the second dummy will be 1 if the original variable equals
        the values in the second <i>numlist</i> and so on. If more than one dummy is
        created the default names are <i>varname</i><i>J</i>, where <i>J</i> indicates the number
        of the dummy created from the original variable. The dummies will not
        have variable labels. Non-integer values and missing values (i.e. <b>.</b>,
        <b>.a</b>, <b>.b</b>, ..., <b>.z</b>) are allowed in <i>numlists</i>. If <i>numlist</i> has missing
        values, the created dummy will <b>not</b> have missing values.
<p>
    <b>percentile</b> interprets <i>vlist</i> as a list of percentiles (which must be
        between 0 and 100). If a <i>numlist</i> contains only one percentile, the
        created dummy variable will be coded 1 if the original variable is
        greater or equal to this percentile. Specifying <i>k</i> percentiles, where
        <i>k</i> &gt; 1, will result in <i>k</i> + 1 dummies created. The first dummy will be
        coded 1 if the original variable is lower than or equal to the first
        specified percentile, the second dummy will be coded 1 if the
        original variable takes on values between the first and the second
        percentile and so on. An equal sign (<b>=</b>) in front of a <i>numlist</i> causes
        the first and last dummy not to be created. Thus, specifying <i>k</i>
        percentiles will result in <i>k</i> - 1 dummies. If more than one dummy per
        variable is created, default names are <i>varname</i><i>J</i>, where <i>J</i> indicates
        the number of the dummy created from the original variable. The
        dummies' variable labels are <i>varname</i> (<i>P</i>), where <i>P</i> indicates the
        values of the percentiles the dummy represents.
<p>
    <b>cut</b> interprets <i>vlist</i> as cutpoints. If a <i>numlist</i> contains only one value,
        the created dummy variable will be coded 1 if the original variable
        is greater or equal to this value. Specifying <i>k</i> values, where <i>k</i> &gt; 1,
        will result in <i>k</i> + 1 dummies created. The first dummy will be coded 1
        if the original variable is lower than or equal to the first
        specified value, the second dummy will be coded 1 if the original
        variable falls into the range between the first and the second value
        and so on. An equal sign (<b>=</b>) in front of a <i>numlist</i> causes the first
        and last dummy not to be created.  Thus, specifying <i>k</i> values will
        result in <i>k</i> - 1 dummies. If more than one dummy per variable is
        created, default names are <i>varname</i><i>J</i>, where <i>J</i> indicates the number of
        the dummy created from the original variable. The dummies' variable
        labels are <i>varname</i> (<i>R</i>), where <i>R</i> indicates the range of values the
        dummy represents. Values may contain missings (i.e. <b>.</b>, <b>.a</b>, <b>.b</b>, ...,
        <b>.z</b>) and non-integers. If <i>numlist</i> has missing values, the created
        dummies will <b>not</b> have missing values.
<p>
    <b>levels</b> creates one dummy for each level of the original variable.  This
        is similar to what tabulate does (note however, that only numerical
        variables are allowed with <b>todummy</b>). Extended missing values (<b>.a</b>, <b>.b</b>,
        ..., <b>.z</b>) are copied from the original variable. Value labels from the
        original variable are used as variable names for the created dummies.
        If there are no value labels, default names are <i>varname</i><i>J</i>, where <i>J</i>
        indicates the number of the dummy created from the original variable.
        The dummies' variable labels are <i>varname</i> (<i>L</i>), where <i>L</i> is the level.
<p>
    <b>median</b> assigns value 1 if the original variable is greater or equal to
        its median. The created dummies will not have variable labels.
<p>
    <b>q</b> creates one dummy for each quartile of the original variable.  Thus,
        four dummies will be created from each variable. The first dummy will
        be coded 1 if the original variable is lower than or equal to its
        25th percentile, the second dummy will be 1 if the original variable
        takes on values between the 25th and 50th percentile, and so on. The
        dummies' variable labels are <i>varname</i> (<i>P</i>), where <i>P</i> indicates the
        values of the percentile the dummy represents.
<p>
    <b>generate(</b><i>namelist</i><b>)</b> creates dummies <i>name</i><i>1</i>, <i>name</i><i>2</i>, ... . The number of
        names specified must equal the number of dummies to be created.
<p>
    <b>prefix(</b><i>pre</i><b>)</b> uses <i>pre</i> as prefix for created dummies. If <b>generate</b> and
        <b>suffix</b> are not specified, default prefix is <i>d_</i>, if one dummy per
        variable is to be created. Option <b>prefix</b> may be combined with
        <b>generate</b>, <b>suffix</b> and <b>stub</b>.
<p>
    <b>suffix(</b><i>suff</i><b>)</b> uses <i>suff</i> as suffix for created dummies. The option may be
        combined with <b>generate</b>, <b>prefix</b> and <b>stub</b>.
<p>
    <b>stub(</b><i>stub</i><b>)</b> uses <i>stub</i><i>J</i> as dummies' names. Here <i>J</i> is the number of the
        created dummy per variable. The number of stubs specified must equal
        the number of variables in <i>varlist</i>.  The option may be combined with
        <b>prefix</b> and <b>suffix</b>.
<p>
    <b>replace</b> replaces existing variables in <i>varlist</i> with dummies. May not be
        specified with <b>generate</b>, <b>prefix</b>, <b>suffix</b> or <b>stub</b>. If more than one
        dummy per variable is created, <b>replace</b> is not allowed.
<p>
    <b>nonames</b> does not use value labels as dummies' names. If specified,
        dummies' names are <i>varname</i><i>J</i>, where <i>J</i> indicates the number of the
        dummy created from the original variable.  Value labels will be used
        as variable labels for the created dummies.  Only allowed with
        <b>levels</b>.
<p>
    [<b>r</b>]<b>label(</b><i>lbllist</i><b>)</b> specifies variable labels for the created dummies. If
        more dummies are created than names are specified, the dummies will
        not be labeled. Specifying <b>rlabel</b> allows re-using the labels for each
        original variable, meaning that dummies created from <i>varname1</i> will
        have the same labels as dummies created from <i>varname2</i>. Specify <b>"</b><i>lbl</i><b>"</b>
        if <i>lbl</i> contains embedded spaces.
<p>
    <b>novarlabel</b> does not use variable labels for the dummies. May not be
        specified with [<b>r</b>]<b>label</b>.
<p>
    <b>missing</b> creates a dummy for missing values in the original variable if
        specified with <b>levels</b>. If specified with <b>values</b>, <b>median</b>, or <b>q</b> it
        causes missing values (<b>.</b>, <b>.a</b>, <b>.b</b>, ..., <b>.z</b>) to be copied from the
        original variable. These values will by default be coded as system
        missings (.) if <i>numlist</i> has no missing values. If <i>numlist</i> has missing
        values, there will <b>not</b> be missing values in the created dummies,
        unless <b>missing</b> is specified.
<p>
    <b>noskip</b>[<b>(</b>drop<b>)</b>] specifies how to handle existing dummies. In some cases
        <b>todummy</b> checks the existence of dummy names 'on the fly', meaning not
        until the dummies are created.  If a dummy's name already exists in
        the dataset, default is to skip the creation of this dummy. This is
        not considered an error. Therefore a message is displayed but the
        program will not terminate. Specifying <b>noskip</b> will create a dummy in
        these cases, choosing a valid variable name. If <b>noskip(</b><i>drop</i><b>)</b> is
        specified, the existing variable will be dropped before creating the
        dummy. Note that this option differs from <b>replace</b>, which allows
        variables specified in <i>varlist</i> to be replaced with dummies.
<p>
    <b>ro(</b><i>rel</i>.<i> operator</i><b>)</b> specifies the relational operator used with <b>percentile</b>
        or <b>cut</b>. Default is <b>&gt;=</b>, meaning value 1 is assigned if the original
        variable is greater or equal to the specified value. Specifying <b>ro</b>
        has no effect if more than one dummy per variable is created.
<p>
    <b>noexclude</b> specifies that observations excluded by the <b>if</b> and/or <b>in</b>
        qualifiers are to be used to calculate the percentile or get the
        levels of the original variable. Only allowed with <b>percentile</b> or
        <b>levels</b>.
<p>
<p>
<b><u>Examples</u></b>
<p>
        <b>. sysuse nlsw88 ,clear</b>
<p>
    Create a dummy variable indicating observations with wages above the
    median wage.
<p>
        <b>. todummy wage ,values(50) percentile</b>
<p>
    Do the same using a <i>keyword</i> instead of <b>values</b> and <b>percentile</b>
<p>
        <b>. todummy wage ,median</b>
<p>
    Create three dummy variables, the first indicating persons older than 45,
    the second indicating persons older than 40 and a third indicating
    persons between ages 38 and 40.
<p>
        <b>. todummy age ,values(45 \ 40 \ = 38 40) cut</b>
<p>
    Create a dummy indicating persons working less than 40 hours.
<p>
        <b>. todummy hours ,values(40) cut ro(&lt;) generate(workhrs)</b>
<p>
    Create 3 x 4 dummies, representing the four quartiles for the variables
    age, wage and hours.
<p>
        <b>. todummy age wage hours ,q rlabel("1st Q" "2nd Q" "3rd Q" "4th Q")</b>
<p>
    Create two dummies, one indicating managers, the second indicating sales.
<p>
        <b>. todummy occupation ,values(2 \ 3) generate(managers sales)</b>
<p>
    Create a dummy for each level of race. Dummies names are white, black and
    other.
<p>
        <b>. todummy race ,levels</b>
<p>
    Create two dummies, one indicating whites, the other indicating blacks or
    others.
<p>
        <b>. todummy race ,values(1 \ 2 3) generate(white other)</b>
<p>
<p>
<b><u>Remarks</u></b>
<p>
    Major changes have been introduced in version 1.2.0 21jul2011 of the
    program. The most important one regards the handling of missing values.
    In the current version missing values in the original variable will, in
    some cases, be coded 0 in the created dummies. This was not the case in
    versions prior to 1.2.0. Make sure to specify option <b>missing</b> to prevent
    this behavior if you do not find it convenient. Also option <b>noexclude</b> has
    changed. The default now is to only use observations not excluded by the
    <b>if</b> and/or <b>in</b> qualifiers, calculating percentiles and getting the levels
    of variables. It was the other way round in earlier versions.
<p>
    Old syntax is still supported if compatible with new functionalities.  No
    longer supported are options <b>binary</b> (introduced in version 1.1.1) and
    <b>cut(</b><i>numlist</i><b>)</b> if <i>numlist</i> contains more than one number. Also, in the
    current version, at least one option must be specified.
<p>
    An older version (1.1.2 21may2011) of <b>todummy</b> is available from the
    author.
<p>
<p>
<b><u>Acknowledgments</u></b>
<p>
    The programs dummies by Nicholas J. Cox and dummieslab by Philippe Van
    Kerm and Nick Cox were inspiring. The latter is especially useful to
    create dummies for each level of the original variable in a more
    sophisticated way.
<p>
<p>
<b><u>Author</u></b>
<p>
    Daniel Klein, University of Kassel, klein.daniel.81@gmail.com
<p>
<p>
<b><u>Also see</u></b>
<p>
    Online: tabulate
<p>
    if installed: dummies2, dummieslab, dummies
</pre>