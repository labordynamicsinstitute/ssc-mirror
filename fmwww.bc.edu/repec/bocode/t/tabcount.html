<pre>
-------------------------------------------------------------------------------
help for <b>tabcount</b>
-------------------------------------------------------------------------------
<p>
<b><u>Tabulate frequencies</u></b>
<p>
        <b>tabcount</b> <i>varlist</i> [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] [<i>weight</i><b> = </b><i>exp</i>] [<b>,</b>
               { <b>v(</b><i>value_list</i><b>)</b> | <b>v1(</b><i>value_list</i><b>)</b> } <b>v2(</b><i>value_list</i><b>)</b>
               <b>v3(</b><i>value_list</i><b>)</b> ...
               { <b>c(</b><i>condition_list</i><b>)</b> | <b>c1(</b><i>condition_list</i><b>)</b> } <b>c2(</b><i>condition_list</i><b>)</b>
               <b>c3(</b><i>condition_list</i><b>)</b> ...
               <b>zero</b> <b><u>miss</u></b><b>ing</b> <b>replace</b> <b>freq(</b><i>newvarname</i><b>)</b> <b><u>mat</u></b><b>rix(</b><i>matrix_name</i><b>)</b>
               <i>tabdisp_options</i> ]
<p>
<p>
        <b>by ... :</b> may be used with <b>tabcount</b>; see <b>help by</b>.
<p>
        <b>fweight</b>s and <b>iweight</b>s may be specified.
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>tabcount</b> tabulates frequencies for up to 7 variables.  Its main
    distinctive features are that zero frequencies of one or more specified
    values are always shown in the table (i.e. entirely empty rows, columns,
    etc. are not omitted) and that reduced datasets and/or matrices
    containing the frequencies may also be saved.
<p>
<p>
<b><u>Options</u></b>
<p>
    <b>v()</b>, <b>v1()</b>, etc. (<b>v</b> options) and/or <b>c()</b>, <b>c1()</b>, etc. (<b>c</b> options) are
        required.  For each variable one <b>v</b> option or one <b>c</b> option is
        required. Suppose you specify <b>tabcount foreign rep78</b>.  <b>foreign</b> is the
        first variable, for which you must specify either <b>v1()</b> or <b>c1()</b>.
        <b>rep78</b> is the second variable, for which you must specify either <b>v2()</b>
        or <b>c2()</b>.
<p>
        A <b>v</b> option specifies a list of values which define the categories of
        a variable that are to be counted. A numlist of numeric values will
        be expanded. Value labels will be used for display when they exist.
        String values containing spaces or quotes should be given in double
        quotes or compound double quotes. Thus <b>v1(1/5)</b> specifies that the
        integers 1 through 5 are the categories of the first variable to be
        tabulated.
<p>
        A <b>c</b> option specifies a list of conditions which define the categories
        of a variable that are to be counted. Conditions are treated as true
        or false. In particular, conditions whose first non-space character
        is &gt;, &lt;, !  or ~ will be treated as specifying an inequality, so make
        sure you use correct Stata syntax, i.e. one of &gt; &gt;= &lt; &lt;= != or ~=
        should be given.  Any value given without one of these preceding
        characters is treated as if it were preceded by ==. So if your
        conditions are<b> &lt;=3 4 5 6 &gt;7</b> the categories will be &lt;=3, (equal to) 4,
        ... (equal to) 6 and &gt;7. The text given will be taken literally, so
        that <b>"&gt; 7"</b> produces the same counts as <b>&gt;7</b> but the display will be as
        given. Note the need for protecting the space by quotes. There is no
        requirement that the categories be exclusive or exhaustive. Thus
        <b>c1(&lt;=10 &lt;=20 &lt;=30 &lt;=40)</b> is fine. There is no special syntax for
        specifying closed intervals. See the examples for one commonly used
        device.
<p>
        If there is just one variable tabulated, then <b>v()</b> is a synonym for
        <b>v1()</b> and <b>c()</b> is a synonym for <b>c1()</b>.
<p>
    <b>zero</b> specifies that zeros are to be shown as such in the table.  The
        default is to blank them out. Irrespective of this option, zeros are
        always saved as such by the <b>matrix()</b> and <b>replace</b> options.
<p>
    <b>missing</b> specifies that missing values of <i>varlist</i> are not automatically to
        be excluded.
<p>
    <b>replace</b> specifies that the dataset is to be replaced by a dataset showing
        combinations of categories and their frequencies.  This option may
        not be specified with <b>by:</b>.  The replacement dataset is the basis for
        many other tables not produced by <b>tabcount</b>. Note useful functions
        under functions and egen, in particular the function <b>sum()</b> for
        cumulative sums and the <b>egen</b> functions <b>sum()</b> for totals and <b>pc()</b> for
        percents and proportions. See also the last example below.
<p>
    <b>freq(</b><i>newvarname</i><b>)</b> is for use with <b>replace</b> and specifies an alternative to
        the default variable name <b>_freq</b> used for frequencies.
<p>
    <b>matrix(</b><i>matrix_name</i><b>)</b> specifies a matrix name to hold frequencies. This
        option may not be specified if there are three or more variables in
        <i>varlist</i> or with <b>by:</b>.
<p>
    <i>tabdisp_options</i> are options of tabdisp other than <b>by()</b>, <b>cellvar()</b>,
        <b>missing</b> and <b>totals</b>.
<p>
<p>
<b><u>Examples</u></b>
<p>
    . tabcount rep78, v(1/5)
<p>
    . bysort foreign: tabcount rep78, v(1/5)
<p>
    . generate mpg2 = 5 * int(mpg/5)
    . label var mpg2 "Mileage (mpg)"
    . forval i = 10(5)40 {
    .         label def mpg2 `i' "`i'-", modify
    . }
    . label val mpg2 mpg2
    . tabcount rep78 mpg2, v1(1/5) v2(10(5)40)
<p>
    . tabcount foreign rep78, v1(0 1) v2(1/5) matrix(counts)
<p>
    <b>run</b> this as a do file:
    . sysuse auto, clear
    . preserve
    . tabcount foreign rep78, v1(0/1) v2(1/5) replace
    . egen pcfreq = pc(_freq), by(foreign)
    . bysort foreign (rep78) : gen cupc = sum(pcfreq)
    . noi di _n as txt "{title:Repair record and car type}" _c
    . noi di "{txt:Percents and cumulative percents}" _c
    . noi tabdisp foreign rep78, c(pcfreq cupc) format(%2.1f)
    . restore
<p>
<p>
<b><u>Author</u></b> 
<p>
    Nicholas J. Cox, University of Durham, U.K.
    n.j.cox@durham.ac.uk
<p>
<p>
<b><u>Acknowledgements</u></b> 
<p>
    Kit Baum, Michael Blasnik and Shannon Driver made many useful comments on
    problems of this kind and how to tackle them. Hildegard Schaeper found a
    bug and pointed out a difficulty in the handling of weights. Rufus
    Browning pointed out two errors in the examples.
<p>
         
<b><u>Also see</u></b>
<p>
    On-line:  help for tabulate, table, tabdisp, contract
<p>
</pre>