<pre>
-------------------------------------------------------------------------------
help for <b>tkdensity</b>
-------------------------------------------------------------------------------
<p>
<b><u>Univariate kernel density estimation, calculation on transformed scale</u></b> 
<p>
        <b>tkdensity</b> <i>varname</i> [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] [<b>,</b> <b><u>g</u></b><b>enerate(</b>newvar_x newvar_d<b>)</b>
                 <b><u>t</u></b><b>rans(</b><i>transformation</i><b>)</b> <b><u>graph</u></b><b>opts(</b><i>line_opts</i><b>)</b> <i>kdensity_options</i>
                 ]
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>tkdensity</b> estimates and graphs kernel density estimates for the density
    function of numeric variable <i>varname</i>, doing the calculations on a
    specified transformed scale and back-transforming to show density versus
    the original scale. It is a convenience wrapper for kdensity.
<p>
<b><u>Remarks</u></b>
<p>
    For a monotone transformation t(x) the principle is that for densities f
<p>
        estimate of f{x} = estimate of f{t(x)} * |dt/dx|.
<p>
    For discussion and references, see Cox (2004, pp.76-78).
<p>
    On cube roots, see also Cox (2011).
<p>
<p>
<b><u>Options</u></b> 
<p>
    <b>trans()</b> specifies the transformation to be used. Transformations
        implemented are
<p>
        natural logarithm, which may be specified by <b>ln</b> or <b><u>loga</u></b><b>rithm</b>, and
        which is the default; for this values must all be strictly positive
        (&gt;0);
<p>
        cube root, which may be specified by <b><u>cube</u></b><b> root</b>; for this values may
        be negative, zero, or positive;
<p>
        square root, which may be specified by <b>root</b> or <b><u>square</u></b><b> root</b>; for this
        values must all be zero or positive;
<p>
        reciprocal, which may be specified by <b><u>rec</u></b><b>iprocal</b>; for this values
        must all be strictly positive (&gt;0);
<p>
        logit, which may be specified by <b>logit</b>; for this values must all be
        within (0,1) (and so not equal to 0 or 1).
<p>
        See underlining above for permitted abbreviations of keywords.
<p>
    <b>generate()</b> stores the results of the estimation.  <i>newvar_x</i> will contain
        the points at which the density is estimated.  <i>newvar_d</i> will contain
        the density estimate.
<p>
    <b>graphopts(</b><i>line_options</i><b>)</b> specifies options of line used to tune the
        graphical display of the density.
<p>
    <i>kdensity_options</i> are options of kdensity. Note that <b>kdensity</b> is called
        with option <b>nograph</b> and that in any case the density estimates it
        would graph would be on the transformed scale, so graphics options
        are excluded here. See also the option just above.  Note also that
        bandwidths are measured on the transformed scale.
<p>
<p>
<b><u>Examples</u></b> 
<p>
    <b>. sysuse auto, clear</b>
<p>
    <b>. tkdensity mpg, trans(ln) kernel(biweight) bw(0.25)</b>
<p>
<p>
<b><u>Author</u></b>
<p>
    Nicholas J. Cox, Durham University
    n.j.cox@durham.ac.uk
<p>
<p>
<b><u>References</u></b> 
<p>
    Cox, N.J. 2004.  Graphing distributions.  <i>Stata Journal</i> 2: 66-88. See
        esp. pp.76-78.
        http://www.stata-journal.com/sjpdf.html?articlenum=gr0003
<p>
    Cox, N.J. 2011.  Stata tip 96: Cube roots.  <i>Stata Journal</i> 11: 149-154.
<p>
<p>
<b><u>Also see</u></b> 
<p>
    kdensity
<p>
</pre>