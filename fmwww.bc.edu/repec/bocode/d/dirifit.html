<pre>
-------------------------------------------------------------------------------
help for <b>dirifit</b>
-------------------------------------------------------------------------------
<p>
<b><u>Fitting a Dirichlet distribution by maximum likelihood</u></b>
<p>
        <b>dirifit</b> <i>depvarlist</i> [<i>weight</i>] [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] [<b>,</b> {
                 <b><u>alpha</u></b><b>var(</b><i>varlist_a</i><b>)</b> <b>alpha1|2|3|..|</b><i>k</i><b>(</b><i>varlist_a_j</i><b>)</b> } | {
                 <b><u>mu</u></b><b>var(</b><i>varlist_m</i><b>)</b> <b><u>phi</u></b><b>var(</b><i>varlist_p</i><b>)</b>
                 <b>mu1|2|3|...|</b><i>k</i><b>(</b><i>varlist_m_j</i><b>)</b> <b><u>b</u></b><b>aseoutcome(</b><i>var</i><b>)</b> <b><u>alt</u></b><b>ernative</b> }
                 <b><u>r</u></b><b>obust</b> <b><u>cl</u></b><b>uster(</b><i>clustervar</i><b>)</b> <b><u>l</u></b><b>evel(</b><i>#</i><b>)</b> <i>maximize_options</i> ]
<p>
    <b>by</b> <i>...</i> <b>:</b> may be used with <b>dirifit</b>; see help by.
<p>
    <b>fweight</b>s and <b>aweight</b>s are allowed; see help weights.
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>dirifit</b> fits by maximum likelihood a Dirichlet distribution to a set of
    variables <i>depvarlist</i>.  Each variable in <i>depvarlist</i> ranges between 0 and 1
    and all variables in <i>depvarlist</i> must, for each observation, add up to 1:
    for example, they may be proportions.
<p>
    Note that cases will be ignored if the one or more of the dependent
    variables has a value less than or equal to zero or more than or equal to
    one or if the dependent variables don't add up to one.
<p>
    <b>dirifit</b> uses one of two parameterizations:
<p>
        A conventional parameterization with shape parameters <i>alpha_j</i> &gt; 0
        (one for each variable in <i>depvarlist</i>) (e.g. Evans et al. 2000 or Kotz
        et al. 2000) will be used if only <i>depvarlist</i> is specified or if one
        or more of <b>alphavar()</b> and <b>alpha1|2|3|...|</b><i>k</i><b>()</b> is specified.  <i>alpha_j</i>
        is reported on the logarithmic scale to ensure that it remains
        positive. The conventional parameterization is especially useful when
        no covariates are present.
<p>
        An alternative parameterization with location parameters <i>mu_j</i> (one
        for each variable in <i>depvarlist</i> except the <i>baseoutcome</i>) and scale
        parameter <i>phi</i> will be used if one or more of <b>muvar()</b>,
        <b>mu1|2|3|...|</b><i>k</i><b>()</b>, <b>baseoutcome()</b>, and <b>phivar()</b> is specified or if the
        <b>alternative</b> option is specified.  The alternative parameterization is
        especially useful when covariates are present. <i>mu_j</i> are reported on
        the multinomial logit scale so that they stay between 0 and 1, and
        add up to one. In order to help interpretation, various types of
        marginal effects can be calculated with ddirifit. <i>phi</i> is reported on
        the logarithmic scale to ensure that it remains positive. This
        parameterization is analogous to the parameterization proposed by
        Paolino (2001), Ferrari and Cribari-Neto (2004), and Smithson and
        Verkuilen (2006) for the beta distribution.
<p>
<p>
<b><u>Options</u></b>
<p>
    <b>alphavar()</b> and <b>alpha1|2|3|...|</b><i>k</i><b>()</b> allow the user to specify each
        parameter in the conventional parameterization as a function of the
        covariates specified in the variable list. The covariates in
        <b>alphavar()</b> are common to <i>all</i> parameters, while <b>alpha1|2|3|...|</b><i>k</i><b>()</b>
        allow the user to specify (additional) covariates for the first,
        second, third, ..., <i>k</i> th parameter. The order of the parameters is
        determined by the order of <i>depvarlist</i>.  A constant term is always
        included in each equation.
<p>
    <b>muvar()</b>, <b>mu1|2|3|...|</b><i>k</i><b>()</b>, and <b>phivar()</b> allow the user to specify each
        parameter in the alternative parameterization as a function of the
        covariates specified in the respective variable list. The covariates
        in <b>muvar()</b> are common to <i>all mu</i> parameters, while <b>mu1|2|3|...|</b><i>k</i><b>()</b>
        allow the user to specify (additional) covariates for the first,
        second, third, ..., <i>k</i> th mu parameter. The order of the parameters is
        determined by the order of <i>depvarlist</i>. A constant term is always
        included in each equation.
<p>
    As implied above, just one parameterization should be chosen.
<p>
    <b>alternative</b> ensures that the alternative parameterization is used instead
        of the conventional parameterization if only <i>depvarlist</i> is specified.
        This option cannot be used with <b>alphavar()</b> or <b>alpha1|2|3|...|</b><i>k</i><b>()</b>.
<p>
    <b>baseoutcome</b> variable in <i>depvarlist</i> that will be the baseoutcome. The
        default is the first variable of <i>depvarlist</i>. This option cannot be
        used with <b>alphavar()</b> or <b>alpha1|2|3|...|</b><i>k</i><b>()</b>.
<p>
    <b>robust</b> specifies that the Huber/White/sandwich estimator of variance is
        to be used in place of the traditional calculation; see <b>[U] 20.14</b>
        <b>Obtaining robust variance estimates</b> (<b>[U] 23.14</b> in version 8).  <b>robust</b>
        combined with <b>cluster()</b> allows observations which are not independent
        within cluster (although they must be independent between clusters).
<p>
    <b>cluster(</b><i>clustervar</i><b>)</b> specifies that the observations are independent
        across groups (clusters) but not necessarily within groups.
        <i>clustervar</i> specifies to which group each observation belongs; e.g.,
        <b>cluster(personid)</b> in data with repeated observations on individuals.
        See <b>[U] 20.14 Obtaining robust variance estimates</b> (<b>[U] 23.14</b> in
        version 8).  Specifying <b>cluster()</b> implies <b>robust</b>.
<p>
    <b>level(</b><i>#</i><b>)</b> specifies the confidence level, in percent, for the confidence
        intervals of the coefficients; see help level.
<p>
    <b>nolog</b> suppresses the iteration log.
<p>
    <i>maximize_options</i> control the maximization process; see help maximize. If
        you are seeing many "(not concave)" messages in the log, using the
        <b>difficult</b> option may help convergence.
<p>
<p>
<b><u>Saved results</u></b>
<p>
    In addition to the usual results saved after <b>ml</b>, <b>dirifit</b> also saves the
    following, as appropriate:
<p>
        <b>e(b_alpha1)</b> to <b>e(b_alpha</b><i>k</i><b>)</b> (where <i>k</i> is the number of variables in
        <i>depvarlist</i>) are row vectors containing the parameter estimates from
        each equation in the conventional parameterization.
<p>
        <b>e(b_phi)</b> and <b>e(b_mu1)</b> to <b>e(b_mu</b><i>k</i><b>)</b> (where <i>k</i> is the number of variables
        in <i>depvarlist</i>) except for the <i>baseoutcome</i>, are row vectors containing
        the parameter estimates from each equation in the alternative
        parameterization.
<p>
        <b>e(length_b_alpha1)</b> to <b>e(length_b_alpha</b><i>k</i><b>)</b> or <b>e(length_b_mu1)</b> to
        <b>e(length_b_mu</b><i>k</i><b>)</b> and <b>e(length_b_phi)</b> contain the lengths of these
        vectors. If no covariates are specified in an equation, the
        corresponding vector has length equal to 1 (the constant term);
        otherwise, the length is one plus the number of covariates.
<p>
        
<b><u>Examples</u></b>
<p>
<p>
<b>    use http://fmwww.bc.edu/repec/bocode/c/citybudget.dta, clear</b>
<p>
<b>    dirifit governing safety education recreation social urbanplanning, ///</b>
<b>        mu(minorityleft noleft houseval popdens)</b>
<p>
<b>    ddirifit, at(minorityleft 0 noleft 0 )</b>
<p>
    (click to run)
<p>
<b><u>Authors</u></b>
<p>
    Maarten L. Buis, Universitaet Tuebingen
    maarten.buis@uni-tuebingen.de
<p>
    Nicholas J. Cox, Durham University
    n.j.cox@durham.ac.uk
<p>
    Stephen P. Jenkins, University of Essex
    stephenj@essex.ac.uk
<p>
<p>
<b><u>Acknowledgement</u></b>
Philipp Rehm provided a bug report.
<p>
<p>
<b><u>References</u></b>
<p>
    Evans, M., Hastings, N. and Peacock, B. 2000. <i>Statistical distributions.</i>
    New York: John Wiley.
<p>
    Ferrari, S.L.P. and Cribari-Neto, F. 2004.  Beta regression for modelling
    rates and proportions.  <i>Journal of Applied Statistics</i> 31(7): 799-815.
<p>
    Kotz, S., Balakrishnan, N., Johnson, N.L. 2000.  <i>Continuous multivariate</i>
    <i>distributions: Volume 1.</i> New York: John Wiley.
<p>
    MacKay, D.J.C. 2003.  <i>Information theory, inference, and learning</i>
    <i>algorithms.</i>  Cambridge: Cambridge University Press (see pp.316-318).
    http://www.inference.phy.cam.ac.uk/itprnn/book.pdf
<p>
    Paolino, P. 2001.  Maximum likelihood estimation of models with
    beta-distributed dependent variables. <i>Political Analysis</i> 9(4): 325-346.
    http://polmeth.wustl.edu/polanalysis/vol/9/WV008-Paolino.pdf
<p>
    Smithson, M. and Verkuilen, J. 2006.  A better lemon squeezer? Maximum
    likelihood regression with beta-distributed dependent variables.
    <i>Psychological Methods</i> 11(1): 54-71.
<p>
<b><u>Also see</u></b>
<p>
    Online: help for dirifit_postestimation, betafit, fmlogit (if installed)
<p>
</pre>