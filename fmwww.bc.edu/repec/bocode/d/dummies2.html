<pre>
<b>help dummies2</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
     <b>todummies</b> -- Create indicator variables from categorical variable or vice
versa
<p>
<p>
<b><u>Syntax</u></b>
<p>
     Create indicator variables from categorical variable
<p>
        <b>todummies</b> <i>varname</i> [<i>levspec</i> [<i>levspec ...</i>]] [<i>if</i>] [<i>in</i>] [ <b>,</b> <i>to_options</i>]
<p>
<p>
     where <i>levspec</i> is
<p>
        <i>#</i> [<b>"</b><i>varlabel</i><b>"</b>] | <b>(</b><i>numlist</i> [<b>"</b><i>varlabel</i><b>"</b>]<b>)</b>
<p>
     and parentheses and double quotes are required.
<p>
<p>
     Create categorical variable from indicator variables
<p>
        <b>fromdummies</b> <i>varlist</i> [<i>if</i>] [<i>in</i>] <b>,</b> <b><u>g</u></b><b>enerate(</b><i>newvarname</i><b>)</b> [<i>from_options</i>]
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>todummies</b> creates indicator variables (also called dummy variables) from
    one categorical variable.
<p>
    One indicator variable is created for each specified level of the
    categorical variable. Enclosing more than one level in parentheses,
    creates one dummy variable, indicating observations for which <i>varname</i>
    equals one of these values. Omitted levels will be coded as missing
    values in the created indicator variables. Omitting all levels, results
    in one indicator for each level of the original variable (see tabulate).
<p>
    <b>min</b> and <b>max</b> may be used as <i>#</i> and in <i>numlist</i> to refer to the minimum and
    maximum of <i>varname</i>. Consecutive <i>#</i> may be specified as a numlist of the
    form <i>from</i><b>/</b><i>to</i> (There is no space between <i>from</i>, <b>/</b> and <i>to</i>). There may not be
    more than 249 distinct values specified.
<p>
    Indicator variables will be labeled according to the value labels of the
    categorical variable, if no variable labels are specified. If <i>varname</i> has
    no value label attached, the dummies will not be labeled.
<p>
<p>
    <b>fromdummies</b> creates one categorical variable from binary indicator
    variables. It thus reverses
<p>
        <b>tabulate</b> <i>varname</i> <b>,generate(</b><i>stubname</i><b>)</b>
<p>
    A value label is defined for <i>newvarname</i>, associating variable labels
    attached to variables in <i>varlist</i> with the corresponding values in
    <i>newvarname</i>.
<p>
<p>
<b><u>Options</u></b>
<p>
        +------------+
    ----+ to_options +-------------------------------------------------------
<p>
    <b><u>g</u></b><b>enerate(</b><i>namelist</i>|<i>stub</i><b>)</b> specifies names for the indicator variables. If
        one <i>stub</i> is specified, dummies <i>stub</i><b>1</b>, <i>stub</i><b>2</b>, <i>...</i> will be created. If
        <b>generate</b> is not specified, <i>stub</i> defaults to<i> varname</i>.
<p>
    <b><u>ref</u></b><b>erence(</b><i>numlist</i><b>)</b> specifies values of <i>varname</i> to be used as the
        reference category. No additional indicator variable will be created.
        Instead, observations for which <i>varname</i> equals one of the values in
        <i>numlist</i> are coded 0 in all indicator variables. <b>rest</b> may be specified
        as reference, meaning all (nonmissing) values not specified in
        <i>levspec</i>. This option is ignored if no levels are specified.
<p>
    <b>sic</b> changes the default <i>stub</i> to <i>varname</i> as typed (possibly abbreviated),
        if <b>generate</b> is not specified. If only one indicator variable is
        created, <b>sic</b> suppreses numeric suffixes.
<p>
    <b><u>novarl</u></b><b>abel</b> prevents labeling the indicator variables.
<p>
<p>
        +--------------+
    ----+ from_options +-----------------------------------------------------
<p>
    <b><u>g</u></b><b>enerate(</b><i>newvarname</i><b>)</b> specifies the name for the categorical variable.
        This is a required option.
<p>
    <b><u>ref</u></b><b>erence</b> creates the categorical variable, even if the dummies do not
        add up to 1. Observations for which all dummies are 0, are coded <i>k</i> +
        1, where <i>k</i> is the number of indicator variables.  The value label
        "reference" is added. <b>fromdummies</b> aborts with an error if the sum of
        the dummies is larger than 1.
<p>
    <b><u>nam</u></b><b>es</b> in the created value label, associates variable names in <i>varlist</i>
        with corresponding values in <i>newvarname</i>.
<p>
    [<b><u>no</u></b>]<b><u>vall</u></b><b>abel</b>[<b>(</b><i>lblname</i><b>)</b>] defines <i>lblname</i> as a value label for the
        categorical variable. Default <i>lblname</i> is <i>newvarname</i>. <b>novallabel</b> does
        not create a value label for the categorical variable.
<p>
    <b><u>varl</u></b><b>abel(</b><i>name</i><b>)</b> specifies a variable label for the categorical variable.
        There is no default variable label.
<p>
<p>
<b><u>Remarks</u></b> 
<p>
    <b>todummies vs.</b> <b>todummy</b>
<p>
    <b>todummies</b> is useful to create indicator variables from one categorical
    variable, if some of the levels are to be collapsed.
<p>
    Say we have a variable, <b>foo</b>, with 5 levels: values 1 to 5. We want to
    create one binary variable, indicating level 1 and another indicator
    variable, representing levels 2 to 3. Level 4 is the reference, and level
    5 represents missing values.
<p>
    There are many ways to create our variables. Here is one:
<p>
        <b>. recode foo (3 = 2)(5 = .), generate(bar)</b>
        <b>. tabulate bar ,generate(foobar)</b>
<p>
    We can now use variables <b>foobar1</b> and <b>foobar2</b> in our analysis, omitting
    variable <b>foobar3</b> as the reference.
<p>
    Here is how we use <b>todummies</b> to create the indicator variables
<p>
        <b>. todummies foo 1 (2 3) ,reference(4) generate(foobar)</b>
<p>
    Basically we collapsed the two lines of code above, into one line.  Note
    that <b>foobar3</b> is not created in this example.
<p>
    We can also use <b>todummy</b> to create the indicator variables, coding
<p>
        <b>. todummy foo if (foo != 5) ,values(1 \ 2 3 \ 4) stub(foobar)</b>
<p>
    As with <b>todummies</b>, we have one line of code, but the need to specify an 
    if qualifier makes this approach less convenient.  The <b>if</b> qualifier makes
    sure that all observations with value 5 in variable <b>foo</b> are coded <b>.</b>
    (missing value) in the created indicator variables. Because specifying an
    <b>if</b> qualifier is easily forgotten, I recommend using <b>todummies</b>. Also, from
    a more technical point of view, <b>todummy</b> is very slow.
<p>
<p>
<b><u>Examples</u></b>
<p>
        <b>. sysuse nlsw88</b>
        <b>. todummies race 2 (1 3) ,generate(black other)</b>
        <b>. fromdummies black other ,generate(race2)</b>
<p>
        <b>. todummies occ (1/2 "High occ.") 3/4 ,reference(9 10) sic</b>
        <b>. fromdummies occ? ,generate(occu) names reference</b>
<p>
<p>
<b><u>Acknowledgments</u></b>
<p>
    <b>dummies2</b> is inspired by dummies and dummieslab by Nick Cox and Philippe
    van Kerm.
<p>
<p>
<b><u>Author</u></b>
<p>
    Daniel Klein, University of Kassel, klein.daniel.81@gmail.com
<p>
<p>
<b><u>Also see</u></b>
<p>
    Online: tabulate, fvvarlist (Stata 11 an higher)
<p>
    if installed: dummies, dummieslab, todummy
</pre>