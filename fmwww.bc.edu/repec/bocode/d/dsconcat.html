<pre>
-------------------------------------------------------------------------------
help for <b>dsconcat</b>                                                (Roger Newson)
-------------------------------------------------------------------------------
<p>
<p>
<b><u>Concatenate a list of Stata data files into the memory</u></b>
<p>
        <b>dsconcat</b> <i>filename_list</i> [ <b>,</b> <b><u>sub</u></b><b>set(</b>[<i>varlist</i>] [<i>if</i>] [<i>in</i>]<b>)</b>
                     <b><u>dsi</u></b><b>d(</b><i>newvarname</i><b>)</b> <b><u>dsn</u></b><b>ame(</b><i>newvarname</i><b>)</b> <b><u>obs</u></b><b>seq(</b><i>newvarname</i><b>)</b>
                     <b><u>nol</u></b><b>abel</b> <b><u>nold</u></b><b>sid</b> ]
<p>
    where <i>filename_list</i> is a list of filenames separated by spaces.  If any
    filename in the list is specified without an extension, then <b>.dta</b> is
    assumed.
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>dsconcat</b> is a multiple-file version of <b>use</b>. It takes, as input, a list of
    filenames, assumed to belong to Stata data files, and creates a new
    dataset in memory, containing a concatenation of the input data files.
    The new dataset contains all variables in all the input datasets (or a
    subset of variables specified by the <b>subset</b> option), and all observations
    in all the input datasets (or a subset of observations specified by the
    <b>subset</b> option), ordered primarily by source dataset and secondarily by
    order of observations within source dataset.  For any one variable in the
    output dataset, values of the variable are set to missing in any
    observation from an input dataset not containing that variable.
    Optionally, <b>dsconcat</b> creates new variables specifying, for each
    observation, the input file of origin and/or the sequential order of the
    observation in its input file of origin.
<p>
<p>
<b><u>Options</u></b>
<p>
    <b>subset(</b>[<i>varlist</i>] [<i>if</i>] [<i>in</i>]<b>)</b> specifies a subset of variables and/or
        observations in each of the input datasets, to be included in the
        concatenated output dataset in memory.  The value of the <b>subset()</b>
        option is a combination of a <i>varlist</i> and/or an <b>if</b> qualifier and/or an
        <b>in</b> qualifier.  Each of these is optional.  However, they must be
        valid for all input datasets, according to the rules used by the <b>use</b>
        command.
<p>
    <b>dsid(</b><i>newvarname</i><b>)</b> specifies a new integer variable to be created,
        containing, for each observation in the new dataset, the sequential
        order, in the <i>filename_list</i>, of the input dataset of origin of the
        observation.  If <b>noldsid</b> is not specified, then <b>dsconcat</b> creates a
        value label for the <i>newvarname</i> with the same name, assigning, to each
        positive integer <b>i</b> from 1 to the number of input filenames in the
        <i>filename_list</i>, a label equal to the filename of the <b>i</b>th input
        dataset.  If a value label of that name already exists in one of the
        input datasets, and <b>nolabel</b> is not specified, then <b>dsconcat</b> adds new
        labels, but does not replace existing labels.
<p>
    <b>dsname(</b><i>newvarname</i><b>)</b> specifies a new string variable containing, for each
        observation in the new dataset, the name of the input dataset of
        origin of that observation, truncated if necessary to the maximum
        string variable length in the version of Stata being used.
<p>
    <b>obsseq(</b><i>newvarname</i><b>)</b> specifies a new integer variable containing, for each
        observation in the new dataset, the sequential order of that
        observation in its input dataset of origin.  If the <b>subset()</b> option
        is specified, then the sequential order of each observation is
        defined as its sequential order amongst the subset of observations in
        the original dataset specified by the <b>subset()</b> option, excluding
        observations in the original dataset excluded by the <b>subset()</b> option.
<p>
    <b>nolabel</b> prevents <b>dsconcat</b> from copying value label definitions from the
        input datasets.
<p>
    <b>noldsid</b> specifies that the new variable generated by the <b>dsid()</b> option
        will have no value label.  This implies that the values of the new
        variable specified by the <b>dsid()</b> option will be listed as dataset
        sequence numbers, not as dataset names.  This option is useful if the
        input datasets are very numerous and/or are repeated and/or are
        temporary files with uninformative names.  It is ignored if no <b>dsid()</b>
        option is specified.
<p>
<p>
<b><u>Remarks</u></b>
<p>
    <b>dsconcat</b> is a multi-file version of <b>use</b>.  However, it is different in
    that it overwrites existing datasets automatically (as <b>collapse</b> and 
    <b>contract</b> do), instead of than requiring a <b>clear</b> option (as <b>use</b> does).
<p>
<p>
<b><u>Examples</u></b>
<p>
        <b>. dsconcat auto1 auto2 auto3 auto4,dsid(dsseq) obs(obsnum)</b>
        <b>. sort dsseq obsnum</b>
<p>
        <b>. dsconcat "Microsoft is inferior" Unix_is_superior</b>
            <b>IdontknowaboutMacOS</b>
<p>
    The following example creates a dataset containing variables <b>make</b>,
    <b>foreign</b>, <b>mpg</b> and <b>weight</b> in the first 53 observations of each of the
    datasets <b>auto1</b>, <b>auto2</b>, <b>auto3</b> and <b>auto4</b>, with the input dataset name
    stored in the new string variable <b>dslab</b>:
<p>
        <b>. dsconcat auto1 auto2 auto3 auto4, subset(make foreign mpg weight in</b>
            <b>1/53) dsn(dslab)</b>
<p>
<p>
<b><u>Author</u></b>
<p>
    Roger Newson, Imperial College London, UK.  Email:
    r.newson@imperial.ac.uk
<p>
<p>
<b><u>Also see</u></b>
<p>
     Manual:  <b>[D] append</b>, <b>[D] save</b>, <b>[D] use</b>
</pre>