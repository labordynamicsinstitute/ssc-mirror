<pre>
-------------------------------------------------------------------------------
help for <b> dpredict</b>                                     juraj.katriak@iskwien.at
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
        <b>dpredict</b> -- Dynamic forecasting for ARIMA(p,d,q) models
<p>
<b><u>Syntax</u></b>
<p>
        <b>dpredict</b> [<i>varlist</i> ] <b>,</b> <i>from(#)</i> <i>to(#)</i> <i>periods(#)</i> [<i>lvl</i>] <b>:</b>  <i>command</i>
<p>
    <i>options</i>                     Description
    -------------------------------------------------------------------------
      <b><u>f</u></b><b>rom(</b><i>#</i><b>)</b>                   the number of the last observation of the
                                  first subsample
      <b><u>t</u></b><b>o(</b><i>#</i><b>)</b>                     the number of the last observation of the
                                  last subsample
      <b><u>p</u></b><b>eriods(</b><i>#</i><b>)</b>                horizon (no. of periods) of the dynamic
                                  forecasts
      <b><u>l</u></b><b>vl</b>                       specifies that the dependent variable of the
                                  arima-command is in levels, rather than in
                                  differences
      <b><u>nor</u></b><b>ecursive</b>               specifies that the subsamples will have a
                                  fixed size, rather than grow
    -------------------------------------------------------------------------
    <i>command</i> must be a valid arima estimation command
<p>
<b><u>Description</u></b>
<p>
    <b>dpredict</b> calculates dynamic predictions from the <i>command</i>, which must be
    the <i>arima</i> command.  The predictions calculated by <b>dpredict</b> are all
    out-of-sample predictions, each based on a different subsample. The
    horizon of the predictions (how many periods ahead) is specified by the
    <i>periods(#)</i> option. The subsamples, which the predictions are based on,
    change sequentially starting with the subsample delimited by 1/<i>from(#)</i> up
    to 1/<i>to(#)</i>. If the <i>norecursive</i> option is specified, then the subsamples
    will have a fixed size of <i>from(#)</i> observations, i.e.  the first subsample
    will be 1/<i>from(#)</i> and the last (<i>to(#)</i>-<i>from(#)</i>)/<i>to(#)</i>.
<p>
    If the <i>lvl</i> options is not specified, then the direction-of-change
    statistic is computed assuming that the dependent variable of the
    supplied arima-commmand is in differences corresponding to the forecast
    horizon specified in <i>periods(#)</i> (i.e. if the forecast horizon is e.g. 3
    then the it is assumed that the dependent variable is of the form of
    s3.<i>dep_var</i>).
<p>
    If <i>varlist</i> is supplied then in each step the last observation in the
    current subsample of the all variables in specified in arima (including
    the dependent) is replaced by the corresponding observation from <i>varlist</i>.
    Hence, if <i>varlist</i> is supplied, it must contain the same number of
    variables as the arima command. This allows for the possibility that the
    last observation of some variables in the dataset must, in fact, be
    predicted, because it is not available at the time when making the
    forecasts.
<p>
<b><u>Saved Results</u></b>
<p>
    <b>dpredict</b> saves in r(): scalars , r(RMSE), r(MAE) and r(DOC), containing
    the computed statistcs RMSE, MAE, DOC and matrices , r(Yhat) and
    r(ResMat), which contain the out-of-sample predictions and residuals
    respectively. Additionaly a matrix , r(DOCmat), with elements 1 (if the
    direction of change was predicted correctly) and 0 (if not) is saved.
<p>
<b><u>Remarks</u></b>
<p>
    The statistisc computed along with the predictions are: RMSE - root mean
    square error, MAE - mean absolute errror and DOE - direction of change
    (gives the proportion of correctly predicted values of <i>dep_var</i>)
<p>
<b><u>Examples</u></b>
<p>
    <b>. use http://www.stata-press.com/data/r9/wpi1</b>
<p>
    <b>. gen wpi_df = d.wpi</b>
<p>
    <b>. dpredict , f(80) t(124) p(1) : arima wpi_df , arima(1,0,1)</b>
<p>
<b><u>Author</u></b>
<p>
    J. Katriak, ISK Vienna, juraj.katriak@iskwien.at
<p>
<b><u>Also see</u></b>
<p>
    Online: help for arima, arima_postestimation
<p>
</pre>