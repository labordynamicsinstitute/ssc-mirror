<pre>
-------------------------------------------------------------------------------
help for <b>apc_ie</b>
-------------------------------------------------------------------------------
<p>
<b><u>Intrinsic estimator for age-period-cohort effects in generalized linear models</u></b>
<p>
    Syntax
<p>
        <b>apc_ie</b> <i>depvar</i> [<i>indepvars</i>] [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] [<i>weight</i>] <b>,</b> [<b>age(</b><i>varname</i><b>)</b>
              <b>period(</b><i>varname</i><b>)</b> <b>cohort(</b><i>varname</i><b>)</b> <b><u>gen</u></b><b>erate(</b><i>newvarname</i><b>)</b>
              <i>glm_options</i> ]
<p>
    Replay syntax
<p>
        <b>apc_ie</b> [<b>,</b> <b><u>nohead</u></b><b>er</b> <b><u>le</u></b><b>vel(</b><i>cilevel</i><b>)</b> <b><u>ef</u></b><b>orm</b> ]
<p>
    <b>apc_ie</b> allows all <i>varlists</i> and <i>weights</i> that are allowed by <b>glm</b>.
<p>
<p>
<b><u>Description</u></b>
<p>
<b>apc_ie</b> estimates generalized linear models with age, period and cohort effects
using the intrinsic estimator (IE) described by Yang, Fu and Land (2004). The
structure of the design matrix -- i.e., the numbers of age groups and time
periods -- may affect the estimates obtained from conventional CGLIM
estimators. (See apc_cglim.) The IE employs a special principal components
regression that removes the influence of the null (column) space of the design
matrix on the estimator.
<p>
<p>
<b><u>Methods</u></b>
<p>
The IE estimates a constrained parameter vector that corresponds to the
projection of the model parameter on the non-null (column) subspace of the
design matrix. <b>apc_ie</b> computes this constrained parameter vector by a special
principal components regression.
<p>
The estimation algorithm proceeds by first applying an orthonormal matrix
transformation to the <i>X'X</i> matrix of the linear model (or its equivalent in a
generalized linear model). This transformation produces the nonzero eigenvalues
and corresponding eigenvectors of the matrix. The principal components
regression then is estimated by using these eigenvectors as variables. After
estimation of the principal components regression model, the orthonormalizing
matrix transformation is used in reverse to transform the estimated regression
coefficients back to the original age, period, and cohort effects for ease of
interpretation.
<p>
Instead of omitting one reference category from each set of indicator
variables, the IE uses the constraint that the sum of coefficients in each set
is zero. The algorithm in <b>apc_ie</b> adds an indicator variable for each unique
value of <i>age</i>, <i>period</i> and <i>cohort</i> to the list of independent variables, but omits
one category for each of <i>age</i>, <i>period</i> and <i>cohort</i> for computational purposes.
Because <i>age</i>+<i>cohort</i>=<i>period</i>, one additional indicator variable is redundant.
<b>apc_ie</b> therefore replaces the <i>A-1+P-1+C-1</i> indicator variables with the
<i>A-1+P-1+C-2</i> principal components that correspond to nonzero eigenvalues. After
estimating the principal components regression, the IE uses the zero-sum
constraints to obtain estimates for the deleted age, period and cohort
categories.
<p>
Because the IE -- including the coefficients obtained from zero-sum constraints
-- is a linear transformation of the coefficients in the principal components
model, the variance-covariance matrix of the IE is <i>V_ie=B*V_pc*B'</i>, where <i>B</i> is a
transformation matrix and <i>V_pc</i> is the variance-covariance matrix of the
principal components estimator.  See glm for options for computing
variance-covariance matrices in generalized linear models; <b>apc_ie</b> simply
applies a transformation to whatever variance-covariance matrix you choose to
compute.
<p>
The IE is always defined based on principal components of a design matrix that
has one observation per age-by-period cell. Missing data or multiple
observations per cell do not affect which principal components are used in
calculating the IE. Likewise, the principal components do not depend on
<i>indepvars</i> or <i>weights</i>, if any. However, if any of the <i>indepvars</i> are collinear
with <i>age</i>, <i>period</i> or <i>cohort</i>, or if too many cells in the age-by-period matrix
have no data, eliminating only one principal component does not resolve the
identification problem. <b>apc_ie</b> returns an error when this happens.
<p>
<p>
<b><u>Options</u></b>
<p>
<b>age(</b><i>varname</i><b>)</b>, <b>period(</b><i>varname</i><b>)</b> and <b>cohort(</b><i>varname</i><b>)</b> specify the <i>age</i>, <i>period</i> and
    <i>cohort</i> variables. At least two of these three must be specified. If all
    three are specified, they must satisfy <i>age</i>+<i>cohort</i>=<i>period</i>.  If only two are
    specified, the missing variable is generated according to
    <i>age</i>+<i>cohort</i>=<i>period</i>.
<p>
<b>generate(</b><i>newvarname</i><b>)</b> stores the generated value of <i>age</i>, <i>period</i> or <i>cohort</i> in a
    new variable.
<p>
<i>glm_options</i> can be any valid options for <b>glm</b>.
<p>
<p>
<b><u>References</u></b>
<p>
Yang, Y., Fu, W., and Land, K. 2004. A Methodological Comparison of
    Age-Period-Cohort Models: The Intrinsic Estimator and Conventional
    Generalized Linear Models. <i>Sociological Methodology</i> 34(1), 75-110.
<p>
<p>
<b><u>Authors</u></b>
<p>
Sam Schulhofer-Wohl
Department of Economics
The University of Chicago
1126 E. 59th St.
Chicago, IL 60637
sschulh1@uchicago.edu
<p>
Yang Yang, Ph.D.
Department of Sociology
Population Research Center and Center on Aging at NORC
The University of Chicago
1126 E. 59th St.
Chicago, IL 60637
(O) 773-834-1113
yangy@uchicago.edu
<p>
<p>
<b><u>Also see</u></b>
<p>
Online: help for glm; apc_cglim (if installed).
</pre>