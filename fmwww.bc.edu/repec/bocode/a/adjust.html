<pre>
.-
help for ^adjust^                                    (STB-46: sg89.2)
.-
<p>
Adjusted predictions and probabilities after estimation
-------------------------------------------------------
<p>
     ^adjust^ var[^=^ #] [var[^=^ #] ...] [^if^ exp] [^in^ range]^,^ ^by(^varli
&gt; st^)^ [{^xb^|^p^r}
          {^stdp^|^stdf^|^noe^rror} ^g^enerate^(^newvar1 [newvar2]^)^ ^xblab^el
&gt; ^(^["]text["]^)^
          ^prlab^el^(^["]text["]^)^ ^stdplab^el^(^["]text["]^)^ ^stdflab^el^(^[
&gt; "]text["]^)^
          &lt;tabdisp_options&gt;]
<p>
Where allowed @tabdisp@ options are: ^f^ormat^(%^fmt^)^, ^cen^ter, ^l^eft, ^cel
&gt; lw^idth^(^#^)^,
^csep^width^(^#^)^, ^scsep^width^(^#^)^, and ^stubw^idth^(^#^)^.  See @tabdisp@
&gt;  for help.
<p>
<p>
Description
-----------
<p>
After an estimation command ^adjust^ provides adjusted predictions of xbeta (th
&gt; e
means in a linear-regression setting) or probabilities (available after certain
estimation commands).  The estimate is computed for each level of the ^by^
variable(s) setting the variable(s) specified in var[= #] [var[= #] ...] to
their mean or to the specified number if the = # part is used.  Variables used
in the estimation command but not included in either the ^by^ variable list or
the ^adjust^ variable list are left at their current values, observation by
observation.  In this case ^adjust^ displays the average estimated prediction o
&gt; r
probability for each level of the ^by^ variables.
<p>
<p>
Options
-------
<p>
^by(^varlist^)^ is required and specifies the variable(s) whose levels determin
&gt; e
    the subsets of the data for which adjusted predictions are to be computed.
    The variables in the ^by^ option are not required to be involved in the
    original estimation command.
<p>
^xb^ indicates that the linear prediction from the estimation command is to be
    used.  This produces predicted values (means in the linear-regression
    setting) and is equivalent to the ^xb^ option of @predict@.  Realize that
    depending on the estimation command the ^xb^ values may not be in the
    original units of the dependent variable.
<p>
^pr^ is an alternative to ^xb^ and indicates that predicted probabilities are t
&gt; o be
    computed.  The ^pr^ option is only allowed after a few commands (@blogit@,
    @bprobit@, @dprobit@, @logistic@, @logit@, and @probit@).  The default is ^
&gt; xb^ if ^pr^ is
    not specified.
<p>
^stdp^, ^stdf^, and ^noerror^ specify the kind of standard error reported for e
&gt; ach
    mean.  ^stdp^, the default, uses the standard error of the linear predictio
&gt; n
    and is available only with the ^xb^ option.  ^stdf^ uses the standard error
&gt;  of
    the forecast which is the standard error of the linear prediction plus the
    residual.  ^stdf^ may be specified only with the ^xb^ option and after line
&gt; ar-
    regression estimation commands (@boxcox@, @corc@, @fit@, @hlu@, @prais@, @r
&gt; egdw@,
    @regress@, and @rreg@).  ^noerror^ specifies that no error term is to be us
&gt; ed and
    hence no standard errors for the means reported in the table.
<p>
^generate(^newvar1 [newvar2]^)^ generates one or two new variables.  If one 
    variable is specified then the adjusted predictions for each observation
    are generated in ^newvar1^ (holding the appropriate variables to their mean
&gt; s
    or other specified values).  If ^pr^ is specified then the predictions are 
    probabilities.  If ^newvar2^ is specified then the standard errors from
    either the ^stdp^ or ^stdf^ option are placed in the second variable.
<p>
^xblabel()^, ^prlabel()^, ^stdplabel()^, and ^stdflabel()^ allow you to change 
&gt; the
    labels for ^xb^, ^pr^, ^stdp^, and ^stdf^ in the output produced by ^adjust
&gt; ^.  This
    also changes the variable labels for the variables created by the ^generate
&gt; ^
    option.
<p>
Remarks
-------
<p>
If you have restricted your estimation command to a portion of the data using
^if^ or ^in^ then you will generally want to use the same conditions with ^adju
&gt; st^.
However, there may be legitimate reasons for using different data to perform
the estimation and to obtain adjusted predictions.
<p>
An interesting way to use ^adjust^ is after using @xi@ with the estimation comm
&gt; and.
Another interesting use of ^adjust^ is to specify a categorical variable both i
&gt; n
the variable list being set to a specific value and as a ^by^ variable.  This i
&gt; s
helpful in examining the predictions for several groups as if they were set at
a particular group's value (possibly also holding some other variables to
certain values also).
<p>
^adjust^ is implemented to follow the same estimation commands as listed in the
help for @predict@.  However, ^adjust^ currently is not allowed after @anova@
(because we can not obtain the variable names from the beta vector), @areg@
(because @predict@ doesn't handle the absorbed variable as expected), and
multiple-equation estimation commands.  ^adjust^ only uses @predict@.  It does
not use any specialized predict commands such as @fpredict@, @glmpred@, and @xt
&gt; pred@.
<p>
^adjust^ is similar to ^adjmean^ and ^adjprop^ written by Joanne Garrett (see S
&gt; TB-43
sg33.1).  There are some differences between this command and those.  First,
^adjmean^ and ^adjprop^ internally use @regress@ and @logistic@ and are not ava
&gt; ilable
for other estimation commands.  In comparison, ^adjust^ does not perform the
estimation command, but instead is a post estimation command and will work
after a large number of single equation estimation commands.  A second
difference is that ^adjust^ lets you specify up to seven variables in the ^by^
option.  ^adjust^ also allows ^by^ variables that were not used in the estimati
&gt; on
command.  Variables used in the estimation command are left at their individual
values if the variables are not specified in the ^adjust^ command.  Another
difference is that ^adjmean^ and ^adjprop^ compute confidence intervals and
optionally display them in a graph, while ^adjust^ does not.  ^adjust^ really i
&gt; s a
front end process for @predict@.  It sets up the values at which predictions ar
&gt; e
desired and then displays them using @tabdisp@.  This means that ^adjust^ does 
&gt; not
provide confidence intervals directly, but will provide ^stdp^ or ^stdf^ estima
&gt; tes
of error under the same conditions that @predict@ would produce them.
<p>
<p>
Examples
--------
<p>
After a regression:
<p>
        . ^regress price mpg weight turn foreign^
        . ^adjust mpg weight turn, by(foreign)^
        . ^adjust mpg weight turn, by(foreign) stdf^
<p>
This time we set some variables to specific values instead of their mean.
<p>
        . ^adjust mpg=25 weight turn=35.2, by(foreign) noerror^
<p>
We can generate variables containing the predictions and errors.
<p>
        . ^adjust mpg weight, by(foreign) gen(pred err)^
<p>
We can use multiple ^by^ variables and they aren't required to have been used i
&gt; n
the estimation command.
<p>
        . ^adjust mpg weight, by(foreign rep78)^
<p>
After a @logit@ estimation command:
<p>
        . ^logit foreign weight mpg^
        . ^adjust mpg, by(rep78) pr^
        . ^adjust mpg, by(rep78)^
<p>
After a @probit@ estimation command:
<p>
        . ^probit foreign weight mpg^
        . ^adjust mpg, by(rep78) pr^
        . ^adjust mpg, by(rep78) gen(xb ee)^
<p>
Using @xi@ with the estimation command followed by ^adjust^:
<p>
        . ^xi : regress price I.rep78 mpg weight turn^
        . ^adjust mpg weight turn, by(rep78)^
<p>
Both set a variable and use it as a ^by^ variable:
<p>
        . ^regress price mpg weight turn foreign^
        . ^adjust weight foreign=0, by(foreign)^
Compare this to:
        . ^adjust weight, by(foreign)^
and this:
        . ^adjust weight foreign=1, by(foreign)^
<p>
<p>
Author
------
<p>
     Kenneth Higbee
     StataCorp
     email: tech-support@@stata.com
<p>
<p>
Also see
--------
<p>
    STB:  STB-46 sg89.2, STB-45 sg89.1, STB-44 sg89
          STB-43 sg33.1 (for ^adjmean^ and ^adjprop^)
 Manual:  ^[R] predict^
          ^[U] 26 Estimation and post-estimation commands^
          
</pre>