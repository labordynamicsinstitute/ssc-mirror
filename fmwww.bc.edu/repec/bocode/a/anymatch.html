<pre>
<b>help anymatch</b>
<p>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
    <b>anymatch</b> -- distance matching based on any metric
<p>
<a name="s_Syntax"></a><p>
<b><u>Syntax</u></b>
<p>
    <b>anymatch</b> [<i>varlist</i>], <b>id(</b><i> </i><b>)</b> <b><u>met</u></b><b>ric(</b><i> </i><b>)</b> [<i>options</i>]
<p>
<a name="s_Description"></a><p>
<b><u>Description</u></b>
<p>
    <b>anymatch</b> provides a fast and easy way to perform distance matching
    based on any metric of choice. It mathces identifiers or attributes
    from one to another based on the metric distance. It also counts the
    number of nearest observations that lay within a certain metric
    distance.
<p>
    <b>anymatch</b> is also capable of sibling matching, extracting id and
    attributes of siblings within a family.
<p>
<a name="s_Options"></a><p>
<b><u>Options</u></b>
<p>
        +------+
    ----+ Main +-------------------------------------------------------------
<p>
    <b>id(</b><i>varname</i><b>)</b> unique identifiers. They cannot be missing.
<p>
    <b><u>met</u></b><b>ric(</b><i>varname</i><b>)</b> any metric of choice.
<p>
    <b><u>don</u></b><b>or(</b><i>varname</i><b>)</b> an indicator for donor. Neighbors will be found for
            them. The default is 1 for everyone.
<p>
    <b><u>rec</u></b><b>ipient(</b><i>varname</i><b>)</b> an indicator for recipients. They are candidate to
            be someone's neighbor. The default is 1 for everyone.
<p>
    <b><u>near</u></b><b>est(</b><i>#</i><b>)</b> the number of nearest neighbors to be found. <b><u>near</u></b><b>est(</b>.<b>)</b>
            will make it look until it runs out of potential neighbors.
            The default is 5.
<p>
    <b><u>min</u></b><b>imum(</b><i>#</i><b>)</b> the minimum distance in the metric provided.
<p>
    <b><u>max</u></b><b>imum(</b><i>#</i><b>)</b> the maximum distance in the metric provided.
<p>
    <b>count</b> count the number of neighbors within the area upto <b><u>near</u></b><b>est(</b><i>#</i><b>)</b>
<p>
    <b><u>noi</u></b><b>sily</b> display the progress on the screen.
<p>
<p>
        +--------------+
    ----+ Nomenclature +-----------------------------------------------------
<p>
    <b>dist(</b><i> </i><b>)</b> name of variables to contain distances/differences. The
            default is "dist"
<p>
    <b>count(</b><i> </i><b>)</b> name of variable to contain the number of neighbors. The
            default is "count".
<p>
    <b><u>pre</u></b><b>fix(</b><i> </i><b>)</b> prefix. The default is "_".
<p>
    <b><u>suf</u></b><b>fix(</b><i> </i><b>)</b> non-index suffix before the indices. The default is none.
<p>
<p>
<b><u>Hints</u></b>
<p>
    If you have more than one datasets, they need to be appeneded into
    one dataset. They should have the same name for metric so that it
    will appear in the same column.
<p>
    Use donor( ) option to indicate the potential pool from which a match
    will be found. See an example below.
<p>
    Use recipient( ) option to indicate locations for which a match will
    be found. See an example below.
<p>
    Use noisily option to see the progress on the screen.
<p>
<a name="s_0"></a><p>
<b><u>Examples</u></b>
<p>
    * suggestions on how to create unique identifier
    gen id = _n
    egen id = group(state county)
<p>
    * The nearest price and the difference from it
    sysuse auto, clear
    gen id=_n
    keep price id
    anymatch price, id(id) metric(price) near(1) dist(price_diff)
    browse
<p>
    * sibling matching with family id as metric and the maximum distance
    of 0
    sysuse auto, clear
    ren mpg family
    ren price income
    gen id=_n
    sort family id
    keep family id income
    anymatch income, id(id) met(family) max(0) near(10)
    browse
<p>
<p>
<b><u>Remarks</u></b>
<p>
    <b><u>min</u></b><b>imum(</b><i> </i><b>)</b> and <b><u>max</u></b><b>imum(</b><i> </i><b>)</b> are inclusive, i.e. &gt;= and &lt;=.
    Conflicts between options should be reported with detailed examples
            to the address below.
<p>
<p>
<b><u>Author</u></b>
<p>
    Roy Wada
    roywada@hotmail.com
<p>
</pre>