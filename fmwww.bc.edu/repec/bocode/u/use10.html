<pre>
<b>help use10</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
    <b>use10</b> --   Use Stata 10 format dataset in Stata 9
<p>
<p>
<b><u>Syntax</u></b>
<p>
    Load Stata-10 format dataset in Stata 9
<p>
        <b>use10</b> <i>filename</i> [<b>,</b> <b>clear</b> <b><u>nol</u></b><b>abel</b> <b>saving(</b><i>filename</i><b>)</b> <b>replace</b>]
<p>
<p>
    Load subset of Stata-10 format dataset
<p>
        <b>use10</b> [<i>varlist</i>] [<i>if</i>] [<i>in</i>] <b>using</b> <i>filename</i> [<b>,</b> <b>clear</b> <b><u>nol</u></b><b>abel</b>]
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>use10</b> loads into memory a dataset previously saved by Stata 10 or
    compatible software.  If <i>filename</i> is specified without an extension, <b>.dta</b>
    is assumed. If your <i>filename</i> contains embedded spaces, remember to
    enclose it in double quotes.
<p>
    In the second syntax for <b>use10</b>, a subset of the data may be read.
<p>
    <b>use10</b> is written in Mata and requires Stata 9. Datasets written with <b>save</b>
    in Stata 9 can be loaded in Stata 8 with standard <b>use</b> command.
<p>
    <b>use10</b> will automatically call standard Stata's <b>use</b> command if it
    determines that the file is not in Stata 10 format. Hence it is safe to
    always open data with <b>use10</b> rather than <b>use</b>.
<p>
    Stata 10 files may contain more formatting then Stata 9 format can
    accomodate.  This applies to <u>date and time formats</u> only. It does not
    apply to <u>data types</u>.  This program will automatically replace formats
    that are potentially incompatible with Stata 9 with a default format (in
    this version it is %15.0g). Although some date and time formats can be
    accomodated in Stata 9 without a loss, the exact rules for validation
    were not known at the time this program was written. Replacement of
    potentially incompatible formats with a default format is also a
    preferred strategy of Stata 10 when saving data in Stata 9 format with
    <b>saveold</b>. <b>use10</b> lists original data types and formats for each variable.
    Skilled users can change file <b>use10reformat.ado</b> to accomodate any changes
    in formats they demand. Corresponding instructions are located in the
    <b>use10reformat.ado</b> file.  Deleting this file is not recommended (but it is
    possible: <b>use10</b> will still work).
<p>
<b><u>Performance</u></b>
    <b>use10</b> loads ~420MB file slightly slower (&lt;10%) than it takes Stata to
    <b>saveold</b> and <b>use</b> the same file (48.75 seconds vs 32.17+12.34 seconds).
    Conversion is always done for the whole dataset and only after that
    particular data is selected based on the specified if- and
    in-restrictions and variables list.
<p>
<b><u>Compatibility</u></b>
    <b>use10</b> is tested in 32-bit Stata for Windows. It is written in Mata and
    should be compatible with all OSes that Stata runs on, supports HILO and
    LOHI Stata datasets and should also be compatible with large datasets
    (&gt;2GB, from Stata 64-bit).
<p>
<b><u>Error messages</u></b>
    <b>use10</b> will attempt to detect if the file is ill-formed and issue standard
    Stata error messages in such a case, but (as it is the case with Stata's
    <b>use</b>) loading corrupt datasets is unlikely to succeed. Non-standard
    messages of <b>use10</b> include:
<p>
    <i>"Warning: file does not conform to Stata-10 specification (file signature</i>
        <i>114)"</i>
<p>
    This message is issued when file signature is different from what is
        expected according to Stata 10 file format. This is just a warning,
        it is most often a signal that the file is originating from an
        earlier Stata - the program will attempt to load the dataset with
        standard <b>use</b> command and all further messages (if any) are coming
        from Stata itself.
<p>
    <i>"Warning! NNN variable(s) have different format after conversion"</i>
<p>
    This message is a signal that some incompatible formats were detected in
        the dataset and the user must verify (and if necessary manually
        redefine formats for some variables). It is the responsibility of
        <b>use10reformat.ado</b> to find an appropriate new format for an
        incompatible format and inform the user of any such replacement. By
        default, all variables are listed with their respective data storage
        types, and formats. If the format is changed, this is indicated by a
        red star preceding variable name and the new format displayed in
        brackets after the original format.
<p>
<b><u>Options</u></b>
<p>
    <b>clear</b> specifies that it is okay to replace the data in memory, even
        though the current data have not been saved to disk.
<p>
    <b>nolabel</b> prevents value labels in the saved data from being loaded.  It is
        unlikely that you will ever want to specify this option.
<p>
<b>saving(</b><i>filename</i><b>)</b> specifies where the converted file should be saved. If this op
&gt; tion is not specified - a temporary
location is used.
<p>
<b>replace</b> (makes sense only with option <b>saving(</b><i>filename</i><b>)</b> allows the file specifie
&gt; d in <b>saving(</b><i>filename</i><b>)</b> to be replaced.
<p>
<b><u>Some technical details</u></b>
    <b>use10</b> is an rclass command
    <b>use10</b> uses global variable <i>use10_newformat</i> during it's work
    <b>use10</b> sets <b>r(</b><i>fn</i><b>)</b> to the original (Stata-10 format) dataset unless the
        option <b>saving</b> is specified. In that case <b>r(</b><i>fn</i><b>)</b> will be set to the
        name specified in <b>saving</b>
    When option <b>saving(</b><i>filename</i><b>)</b> is specified with an if- or in-qualifiers
        (or both) the dataset is converted in full, saved to the specified
        file, and a portion of it is subsequently loaded.
    If option <b>replace</b> was specified, file with the name specified in option
        <b>saving(</b><i>filename</i><b>)</b> is deleted regardless of whether <b>use10</b> succeedes or
        not.
<p>
<b><u>Author</u></b>
<p>
    <b>use10</b> was written by <i>Sergiy Radyakin</i>, sradyakin(at)worldbank.org
<p>
<p>
<b><u>Examples</u></b>
<p>
The following example will copy a Stata 10 format demo dataset from Stata Corp 
&gt; website and load it in Stata 9.
<p>
    <b>. tempfile auto10</b>
    <b>. copy http://www.stata-press.com/data/r10/auto.dta `auto10'</b>
    <b>. use10 `auto10'</b>
-------------------------------------------------------------------------------
 Variable name                      Type   Format[New Format]
-------------------------------------------------------------------------------
 make                               str18   %-18s
 price                              int     %8.0gc
 mpg                                int     %8.0g
 rep78                              int     %8.0g
 headroom                           float   %6.1f
 trunk                              int     %8.0g
 weight                             int     %8.0gc
 length                             int     %8.0g
 turn                               int     %8.0g
 displacement                       int     %8.0g
 gear_ratio                         float   %6.2f
 foreign                            byte    %8.0g
-------------------------------------------------------------------------------
(1978 Automobile Data)
<p>
<p>
    <b>. use10 make rep78 foreign using `auto10', clear</b>
<p>
<p>
For local files use command <b>use10</b> in the same fashion you use <b>use</b>, e.g.:
<p>
    <b>. use10 var1 var2 using dataset10.dta if (var1&gt;0) &amp; (var2&lt;.), clear</b>
<p>
<p>
<b><u>Also see</u></b>
<p>
    Manual:  <b>[D] use</b>
<p>
    Online:  <b>[D] use</b>, <b>[D] sysuse</b>, <b>[D] webuse</b>
</pre>