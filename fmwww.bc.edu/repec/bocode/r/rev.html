<pre>
<b>help rev</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
     <b>rev</b> -- Reverse values of variables
<p>
<p>
<b><u>Syntax</u></b>
<p>
        <b>rev</b> <i>varlist</i> [<i>if</i>] [<i>in</i>] [<b>,</b> <i>options</i>]
<p>
<p>
    <i>options</i>                Description
    -------------------------------------------------------------------------
    <i>names</i>
      <b><u>pre</u></b><b>fix(</b><i>str</i><b>)</b>          use <i>str</i> as prefix for new variables
      <b><u>g</u></b><b>enerate(</b><i>newvarlist</i><b>)</b> create new variables <i>name</i><i>1</i>, <i>name</i><i>2</i>, <i>...</i>
      <b><u>suff</u></b><b>ix(</b><i>str</i><b>)</b>          use <i>str</i> as suffix for new variables
      <b>replace</b>              replace variables with reversed version
<p>
    <i>labels</i>
      <b><u>l</u></b><b>abel(</b><i>namelist</i><b>)</b>      specify names for value labels
      <b><u>nol</u></b><b>abel</b>              do not define a value label for new variables
      <b>modify</b>               modify exisiting value labels
      <b><u>m</u></b><b>ask(</b><i>str</i><b>)</b>            handle numeric prefix in value labels
<p>
    <i>functionality</i>
      <b><u>r</u></b><b>everse(</b><i>numlist</i><b>)</b>     reverse values specified in <i>numlist</i>
      <b><u>s</u></b><b>wap(</b><i>numlist</i><b>)</b>        swap values specified in <i>numlist</i>
      <b><u>copy</u></b><b>rest</b>             copy values excluded by the <b>if</b> and/or <b>in</b> qualifier
    -------------------------------------------------------------------------
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>rev</b> reverses the value order of each variable specified in <i>varlist</i>. The
    created variable <i>rv_</i><i>varname</i> contains the (distinct) values of the
    original variable in reversed order. A new value label is defined
    accordingly.
<p>
    <b>Remarks:</b> Variables are assumed to have integer values incremented by one.
    If variables have integer values not incremented by one, specify the
    values to be reversed in option <b>reverse</b>. <b>rev</b> also handles variables that
    contain non-integer values.
<p>
<p>
<b><u>Options</u></b>
<p>
    <b>prefix(</b><i>str</i><b>)</b> uses <i>str</i> as prefix for the new variables' names. May be
        combined with <b>generate</b> and/or <b>suffix</b>. The default prefix is <b>rv_</b> and
        is set if none of <b>prefix</b>, <b>generate</b>, <b>suffix</b> or <b>replace</b> is specified.
<p>
    <b>generate(</b><i>namelist</i><b>)</b> creates new variables <i>name</i><i>1</i>, <i>name</i><i>2</i>, <i>...</i>. May be
        combined with <b>prefix</b> and/or <b>suffix</b>.
<p>
    <b>suffix(</b><i>str</i><b>)</b> uses <i>str</i> as suffix for the new variables' names. May be
        combined with <b>generate</b> and/or <b>prefix</b>.
<p>
    <b>replace</b> replaces variables in <i>varlist</i> with their reversed version. If
        variables have value labels attached these labels are modified
        accordingly. Thus, <b>replace</b> implies <b>modify</b>.  Alternatively a new
        label, specified in <b>label</b>, may be defined.  May not be combined with
        <b>prefix</b>, <b>generate</b> or <b>suffix</b>.
<p>
    <b>label(</b><i>namelist</i><b>)</b> uses names as value label names for the created
        variables. Either one name or as many names as new variables may be
        specified. If only one name is specified the value label defined for
        the first variable in <i>varlist</i> is attached to all successive
        variables. Default is to use new variables' names as value label
        names.
<p>
    <b>nolabel</b> specifies that no value labels will be defined for the new
        variables. If specified with <b>replace</b> any value label attached to
        variables is detached but not dropped from memory. Value labels are
        left unmodified.
<p>
    <b>modify</b> allows exisitng value labels to be overwritten.
<p>
    <b>mask(</b><i>str</i><b>)</b> indicates that value labels have a numeric prefix assigned
        using numlabel with <b>mask</b> option. If <b>numlabel ,mask(</b><i>mask</i><b>)</b> has been
        used previously, value labels defined by <b>rev</b> will not be appropriate
        unless the same <b>mask</b> is specified. Note that <b>rev</b> handles a <b>numlabel</b>
        command without <b>mask</b> option automatically.
<p>
    <b>reverse(</b><i>numlist</i><b>)</b> reverses values specified in <i>numlist</i>. In <b>reverse(1 2 3</b>
        <b>4)</b> values <b>1</b> and <b>4</b>, and values <b>2</b> and <b>3</b> are swapped. <b><u>v</u></b><b>alid</b> is a synonym
        for <b>reverse</b>. Up to 249 values may be specified. See example.
<p>
    <b>swap(</b><i>numlist</i><b>)</b> swaps values specified in <i>numlist</i> pairwise.  Thus, in
        <b>swap(1 2 3 4)</b> values <b>1</b> and <b>2</b>, and values <b>3</b> and <b>4</b> are swapped.  Up to
        249 values may be specified.
<p>
    <b>copyrest</b> copies values excluded by the <b>if</b> and/or <b>in</b> qualifier from the
        original variable.
<p>
<p>
<b><u>Examples</u></b>
<p>
    In a fictional dataset we want to reverse the value order of three
    variables. We can do so using recode.
<p>
        <b>. recode var1 (5 = 1)(4 = 2)(2 = 4)(1 = 5) ,prefix(rec_)</b>
        <b>. recode var2 (7 = 1)(6 = 2)(5 = 3)(3 = 5)(2 = 6)(1 = 7)</b>
            <b>,prefix(rec_)</b>
        <b>. recode var3 (4 = 1)(3 = 2)(2 = 3)(1 = 4) ,prefix(rec_)</b>
<p>
    Using <b>rev</b> we get the same result (and the appropriate value labels)
    typing only one line of code.
<p>
        <b>. rev var1 var2 var3 ,prefix(rec_)</b>
<p>
<a name="valid"></a><p>
    <u>The </u><b><u>reverse</u></b><u> option</u>
<p>
        <b>. tabulate var1</b>
<p>
                     var1 |      Freq.     Percent        Cum.
        ------------------+-----------------------------------
                    agree |          2       14.29       14.29
                undecided |          3       21.43       35.71
                 disagree |          4       28.57       64.29
        strongly disagree |          5       35.71      100.00
        ------------------+-----------------------------------
                    Total |         14      100.00
<p>
        <b>. label list var1</b>
        var1:
                   1 strongly agree
                   2 agree
                   3 undecided
                   4 disagree
                   5 strongly disagree
                   9 missing
<p>
    Note that the minimum valid value in the data (which is 2) is not the
    theoretical minimum value in the underlying Likert-item (which is 1).
    Without specifying <b>reverse</b> we get:
<p>
        <b>. rev var1</b>
<p>
        <b>. tabulate rv_var1</b>
<p>
                  rv_var1 |      Freq.     Percent        Cum.
        ------------------+-----------------------------------
        strongly disagree |          5       35.71       35.71
                 disagree |          4       28.57       64.29
                undecided |          3       21.43       85.71
                    agree |          2       14.29      100.00
        ------------------+-----------------------------------
                    Total |         14      100.00
<p>
        <b>. label list rv_var1</b>
        
        rv_var1:
                  1 strongly agree
                  2 strongly disagree
                  3 disagree
                  4 undecided
                  5 agree
                  9 missing
<p>
    Note that 'strongly disagree' is coded '2', whereas we want it to be
    coded '1'. Specifying the <b>reverse</b> option yields the appropriate result.
<p>
        <b>. rev var1 ,reverse(1/5)</b>
<p>
        <b>. tabulate rv_var1</b>
<p>
                 rv_var1  |      Freq.     Percent        Cum.
        ------------------+-----------------------------------
        strongly disagree |          5       35.71       35.71
                 disagree |          4       28.57       64.29
                undecided |          3       21.43       85.71
                    agree |          2       14.29      100.00
        ------------------+-----------------------------------
                    Total |         14      100.00
<p>
        <b>. label list rv_var1</b>
        rv_var1:
                  1 strongly disagree
                  2 disagree
                  3 undecided
                  4 agree
                  5 strongly agree
                  9 missing
<p>
                          
<b><u>Acknowledgments</u></b>
<p>
    There are several programs that serve the same purpose as <b>rev</b>.  The
    omscore command written by Marc Jacobs in 1992, revrs by Kyle C. Longest
    and vreverse command by Nick Cox, to name a view.  Implemented in
    official Stata there is the <b>gsort</b> command which can (in some cases) be
    used to reverse the value order of variables.  Looking at these programs
    was very helpful writing <b>rev</b>.
<p>
    The name <b>rev</b> is borrowed from the same-named egen function by Nick Cox
    who also recommended to change the name from <b>revv</b>.
<p>
    Marc Kaulisch suggested option <b>suffix</b>.
<p>
<p>
<b><u>Author</u></b>
<p>
    Daniel Klein, University of Bamberg, klein.daniel.81@gmail.com
<p>
<p>
<b><u>Also see</u></b>
<p>
    Online: gsort, recode, label
<p>
    if installed: omscore, revrs, vreverse
</pre>