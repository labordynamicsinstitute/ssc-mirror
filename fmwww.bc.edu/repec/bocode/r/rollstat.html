<pre>
<b>help rollstat</b>
<p>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
       <b>rollstat</b> -- Rolling-window statistics for <i>time series</i> or <i>panel data</i>
<p>
<p>
<b><u>Syntax</u></b>
<p>
        <b>rollstat</b> [<i>varlist</i>] [<i>if</i>] [<i>in</i>] <b>,</b> <b><u>s</u></b><b>tatistic(</b><i>statname</i><b>)</b> [ <i>options</i> ]
<p>
    <i>options</i>                   Description
    -------------------------------------------------------------------------
    Main
      <b><u>s</u></b><b>tatistic(</b><i>statname</i><b>)</b>     report specified statistic (required option).
<p>
    Options
      <b>w(</b><i>#</i><b>)</b>                    number of consecutive data points in each
                                sample (it should be an integer grater than
                                one), default <b>w(</b><i>3</i><b>)</b>.
      <b>force</b>                   forces results to be computed when some of a
                                particular window's values are missing.
    -------------------------------------------------------------------------
    User must<b> tsset</b> for time series or panel data <i>before</i> using <b>rollstat</b>; see
      <b>[TS] tsset</b>.
<p>
<p>
<p>
<a name="statname"></a>        <i>statname</i>       definition
        ---------------------------------------------------------------------
        <b>mean</b>            mean
        <b>sum</b>             sum
        <b>sd</b>              standard deviation
        <b>Var</b>             variance
        <b>min</b>             minimum
        <b>max</b>             maximum
        <b>N</b>               count of nonmissing observations
        ---------------------------------------------------------------------
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>rollstat</b> generates a new variable named <b>_`statistic´`w´_varname</b> (<i>i.e.</i>
    _sd3_gdp for the 3 period standard deviation of GDP) containing the
    rolling calculation of the specified statistic (under the aegis of <b>tsset</b>)
    with window size defined in option w.  Results are placed at the end of
    the window. Although <b>rollstat</b> works with unbalanced panels (where the
    start and/or end points differ across units), <b>rollstat</b> does not allow
    gaps within the observations of a time series; that is, the value of an
    observation for a given period may be missing, but the observation itself
    must be defined. Gaps in time series may be dealt with via <b>tsfill</b>; see
    <b>[TS] tsfill</b>.
<p>
<p>
        +---------+
    ----+ Options +----------------------------------------------------------
<p>
    <b>w(</b><i>#</i><b>)</b> defines the window size. If there are missing data, the actual
        number of observations used by <b>rollstat</b> may be less than <b>w(</b><i>#</i><b>)</b>.
<p>
    <b>force</b> forces results to be computed when some of a particular window's
        values are missing (and data has at least two observations).  when
        <b>force</b> is set, <b>rollstat</b> starts accumulating from the first two
        observations of the sample until it reaches the desired window size.
        Then it continues with the defined window size to the end of sample.
<p>
<b><u>Examples</u></b>
<p>
    <b>. tsset year, y</b>
<p>
    <b>. rollstat gdp cpi, s(sd)</b>
    <b>. rollstat gdp, s(mean) w(5)</b>
    <b>. rollstat gdp, s(sd) force</b>
<p>
<b><u>Acknowledgements</u></b>     
<p>
We acknowledge useful advice of Christopher F. Baum on previous version of this
&gt;  routine.
<p>
<b><u>Authors</u></b>
<p>
Maximo Sangiacomo &amp; Demian Panigo
<b>Email:  </b>msangia@hotmail.com
<b>Email:  </b>panigo@gmail.com
</pre>