<pre>
-------------------------------------------------------------------------------
<b>help: </b><b>r2nlsur</b>                                                        <b>dialog:</b> <b>r2</b>
<b>&gt; nlsur</b>
-------------------------------------------------------------------------------
<p>
<b>        </b>+-------+
<b>    </b>----+<b> Title </b>+------------------------------------------------------------
<p>
<b> r2nlsur: Overall NL-SUR System R2 - Adjusted R2 - F Test - Chi2 Test</b>
<p>
<b>        </b>+--------+
<b>    </b>----+<b> Syntax </b>+-----------------------------------------------------------
<p>
<b> r2nlsur</b>
<p>
<b>        </b>+-------------+
<b>    </b>----+<b> Description </b>+------------------------------------------------------
<p>
  r2nlsur computes Overall Nonlinear Seemingly Unrelated Regression (NL-SUR)
  System R2, Adj. R2, F-Test, and Chi2-Test after:
   - (NL-SUR) Nonlinear Seemingly Unrelated Regression <b>nlsur</b> for sets of
  equations.
<p>
  r2nlsur used Four types of criteria and tests, as discussed in:
  <b>McElroy(1977), Judge et al(1985), Dhrymes(1974), Greene(1993), and</b>
  <b>Berndt(1991)</b>.
 
      see eq.12.1.33-36 in Judge et al(1985, p.477).
<p>
   <b>1- Berndt  System R2</b> = 1-|E'E|  / |Yb'Yb|
   <b>2- McElroy System R2</b> = 1-(U'W*U)/ (Y'W*Y)
   <b>3- Judge   System R2</b> = 1-(U'U)  / (Y'Y)
                           Q
   <b>4- Dhrymes System R2</b> = Sum [R2i (yi' Dt yi']/[Y(I(Q) # Dt)Y]
                          i=1
   <b>5- Greene  System R2</b> = 1-(Q/trace(inv(Sig))*SYs)
<p>
  Judge and Dhrymes are identical results.
<p>
  From each type of these system R2's, <b>r2nlsur</b> can calculate Adjusted R2,
  F-Test, and Chi2-Test:
<p>
    <b>Adjusted R2</b> = 1-(1-R2)*((QN-Q)/(QN-K))
         <b>F-Test</b> = R2/(1-R2)*[(QN-K)/(K-Q)]
      <b>Chi2-Test</b> = -N*(log(1-R2))
<p>
where
   |E'E| = determinant of residual matrix (NxQ)
 |Yb'Yb| = determinant of dependent variables matrix in deviation from mean (Nx
&gt; Q)
      yi = dependent variable of eq. i (Nx1)
       Y = stacked vector of dependent variables (QNx1)
       U = stacked vector of residuals (QNx1)
       W = variance-covariance matrix of residuals (W=inv(Omega) # I(N))
       N = number of observations
       K = Number of Parameters
       Q = Number of Equations
     R2i = R2 of eq. i
      Dt = I(N)-JJ'/N, with J=(1,1,...,1)' (Nx1)
     SYs = (Yb1*Yb2*...Ybq)/N
     Sig = Sigma hat Matrix
 Degrees of Freedom F-Test    = (K-Q), (QN)
 Degrees of Freedom Chi2-Test = (K-Q)
 Log Determinant of Sigma     = log|Sigma matrix|
 Log Likelihood Function LLF  =-(N*Q/2)*(1+log(2*_pi))-(N/2*abs(log(Sigma)))
<p>
<b>        </b>+---------------+
<b>    </b>----+<b> Saved Results </b>+----------------------------------------------------
<p>
    <b>r2nlsur</b> saves the following in <b>r()</b>:
<p>
    Scalars   
      <b>r(N)</b>           Number of Observations
      <b>r(k)</b>           Number of Parameters
      <b>r(k_eq)</b>        Number of Equations
      <b>r(chi_df)</b>      DF chi-squared
      <b>r(f_df1)</b>       F-Test DF1 Numerator
      <b>r(f_df2)</b>       F-Test DF2 Denominator
      <b>r(r2_b)</b>        Berndt R-squared
      <b>r(r2_j)</b>        Judge R-squared
      <b>r(r2_m)</b>        McElroy R-squared
      <b>r(r2_d)</b>        Dhrymes R-squared
      <b>r(r2_g)</b>        Greene R-squared
      <b>r(r2a_b)</b>       Berndt Adjusted R-squared
      <b>r(r2a_j)</b>       Judge Adjusted R-squared
      <b>r(r2a_m)</b>       McElroy Adjusted R-squared
      <b>r(r2a_d)</b>       Dhrymes Adjusted R-squared
      <b>r(r2a_g)</b>       Greene Adjusted R-squared
      <b>r(f_b)</b>         Berndt F Test
      <b>r(f_j)</b>         Judge F Test
      <b>r(f_m)</b>         McElroy F Test
      <b>r(f_d)</b>         Dhrymes F Test
      <b>r(f_g)</b>         Greene F Test
      <b>r(chi_b)</b>       Berndt Chi2 Test
      <b>r(chi_j)</b>       Judge Chi2 Test
      <b>r(chi_m)</b>       McElroy Chi2 Test
      <b>r(chi_d)</b>       Dhrymes Chi2 Test
      <b>r(chi_g)</b>       Greene Chi2 Test
      <b>r(lsig2)</b>       Log Determinant of Sigma
      <b>r(llf)</b>         Log Likelihood Function
<p>
<b>        </b>+------------+
<b>    </b>----+<b> References </b>+-------------------------------------------------------
<p>
    Berndt, Ernst R. (1991)<b> "The practice of econometrics: Classical and</b>
        <b>contemporary",</b> <i>Addison-Wesley Publishing Company</i>; 468.
<p>
    Dhrymes, Phoebus J. (1974)<b> "Econometrics: Statistical Foundations and</b>
        <b>Applications",</b> <i>2ed edition Springer- Verlag New York, USA.</i>.
<p>
    Greene, William (1993)<b> "Econometric Analysis",</b> <i>2nd ed., Macmillan</i>
        <i>Publishing Company Inc., New York, USA.</i>; 490-491.
<p>
    Judge, Georege, W. E. Griffiths, R. Carter Hill, Helmut Lutkepohl, &amp;
        Tsoung-Chao Lee(1985)<b> "The Theory and Practice of Econometrics",</b> <i>2nd</i>
        <i>ed., John Wiley &amp; Sons, Inc., New York, USA</i>; 477-478.
<p>
    Kmenta, Jan (1986)<b> "Elements of Econometrics",</b> <i>2nd ed., Macmillan</i>
        <i>Publishing Company, Inc., New York, USA</i>; 645.
<p>
    McElroy, Marjorie B. (1977)<b> "Goodness of Fit for Seemingly Unrelated</b>
        <b>Regressions: Glahn's R2y,x and Hooper's r~2",</b> <i>Journal of</i>
        <i>Econometrics, 6(3), November</i>; 381-387.
<p>
<b>        </b>+----------+
<b>    </b>----+<b> Examples </b>+---------------------------------------------------------
<p>
 clear all
<p>
 sysuse r2nlsur.dta , clear
<p>
 nlsur (y1={B10}+{B11}*y2+{B12}*x1+{B13}*x2) (y2={B20}+{B21}*y1+{B22}*x3+{B23}*
&gt; x4)
 r2nlsur
<p>
 sureg (y1 y2 x1 x2) (y2 y1 x3 x4)
 r2reg3
<p>
 return list
<p>
 * If you want to use dialog box: Press OK to compute r2nlsur
<p>
        db r2nlsur
<p>
. sysuse r2nlsur.dta , clear
. nlsur (y1 = {B10} + {B11}*x1+ {B12}*x2) (y2 = {B20} + {B21}*x3+ {B22}*x4)
<p>
FGNLS regression 
---------------------------------------------------------------------
       Equation |       Obs  Parms       RMSE      R-sq     Constant
----------------+----------------------------------------------------
 1           y1 |        17      3   9.056705    0.8555          B10
 2           y2 |        17      3   10.75922    0.8318          B20
---------------------------------------------------------------------
<p>
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        /B10 |   183.5815   43.95101     4.18   0.000     97.43906    269.7239
        /B11 |   .4956588   .4326135     1.15   0.252     -.352248    1.343566
        /B12 |  -1.370874   .1363473   -10.05   0.000     -1.63811   -1.103638
        /B20 |   37.62409   30.21636     1.25   0.213    -21.59888    96.84706
        /B21 |  -.3675841   .2675172    -1.37   0.169    -.8919083      .15674
        /B22 |   2.288538   .8959307     2.55   0.011     .5325456     4.04453
------------------------------------------------------------------------------
<p>
. r2nlsur
==============================================================================
* Overall NL-SUR System R2 - Adjusted R2 - F Test - Chi2 Test (fgnls) 
==============================================================================
<p>
+----------------------------------------------------------------------------+
|     Name |       R2 |   Adj_R2 |        F |  P-Value |     Chi2 |  P-Value |
|----------+----------+----------+----------+----------+----------+----------|
|   Berndt |   0.9293 |   0.9192 |  92.0573 |   0.0000 |  45.0464 |   0.0000 |
|  McElroy |   0.8315 |   0.8074 |  34.5394 |   0.0000 |  30.2724 |   0.0000 |
|    Judge |   0.8425 |   0.8200 |  37.4452 |   0.0000 |  31.4219 |   0.0000 |
|  Dhrymes |   0.8425 |   0.8200 |  37.4452 |   0.0000 |  31.4219 |   0.0000 |
|   Greene |   0.8133 |   0.7866 |  30.4844 |   0.0000 |  28.5263 |   0.0000 |
+----------------------------------------------------------------------------+
  Number of Parameters         =           6
  Number of Equations          =           2
  Degrees of Freedom F-Test    =      (4, 34)
  Degrees of Freedom Chi2-Test =           4
  Log Determinant of Sigma     =      9.1462
  Log Likelihood Function      =   -125.9864
-------------------------------------------------------------------------------
<p>
<b>        </b>+--------+
<b>    </b>----+<b> Author </b>+-----------------------------------------------------------
<p>
  <b>Emad Abd Elmessih Shehata</b>
  <b>Assistant Professor</b>
  <b>Agricultural Research Center - Agricultural Economics Research Institute - Eg</b>
<b>&gt; ypt</b>
  <b>Email:   </b>emadstat@hotmail.com
  <b>WebPage:                </b>http://emadstat.110mb.com/stata.htm
  <b>WebPage at IDEAS:       </b>http://ideas.repec.org/f/psh494.html
  <b>WebPage at EconPapers:  </b>http://econpapers.repec.org/RAS/psh494.htm
<p>
<b>        </b>+------------------+
<b>    </b>----+<b> r2nlsur Citation </b>+-------------------------------------------------
<p>
 <b>Shehata, Emad Abd Elmessih (2012)</b>
 <b>R2NLSUR: "Overall Nonlinear Seemingly Unrelated Regression (NL-SUR) System</b>
          <b>R2, Adj. R2, F-Test, and Chi2-Test after (nlsur) Regressions"</b>
<p>
<b><u>Online Help:</u></b>
<p>
  <b>lmanlsur</b>, <b>lmhnlsur</b>, <b>lmnnlsur</b>, <b>lmcovnlsur</b>, <b>r2nlsur</b>
  <b>lmareg3</b>, <b>lmhreg3</b>, <b>lmnreg3</b>, <b>lmcovreg3</b>, <b>r2reg3</b>
  <b>lmasem</b>, <b>lmhsem</b>, <b>lmnsem</b>, <b>lmcovsem</b>, <b>r2sem</b>. <b>(</b><i>if installed</i><b>)</b>.
<p>
<p>
</pre>