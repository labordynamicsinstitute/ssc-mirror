<pre>
-------------------------------------------------------------------------------
<b>help: </b><b>spweight</b>                                                   <b>dialog:</b> <b>spweig</b>
<b>&gt; ht</b>
-------------------------------------------------------------------------------
<p>
<b>        </b>+-------+
<b>    </b>----+<b> Title </b>+------------------------------------------------------------
<p>
<b>spweight: Cross Section and Panel Spatial Weight Matrix</b>
<p>
<a name="00"></a><b>        </b>+-------------------+
<b>    </b>----+<b> Table of Contents </b>+------------------------------------------------
<p>
     <b>Syntax</b>
     <b>Options</b>
     <b>Description</b>
     <b>Saved Results</b>
<p>
 *** <b>Examples</b>
<p>
     <b>Author</b>
<p>
<a name="01"></a><b>        </b>+--------+
<b>    </b>----+<b> Syntax </b>+-----------------------------------------------------------
<p>
     <b>spweight</b> <i>varlist</i> (min=2 max=2) , <b><u>p</u></b><b>anel(</b><i>numlist</i><b>)</b> <b><u>t</u></b><b>ime(</b><i>numlist</i><b>)</b>
 
       [ <b><u>m</u></b><b>atrix(</b><i>weight_name</i><b>)</b> <b><u>s</u></b><b>tand</b> <b>inv inv2</b> <b><u>e</u></b><b>igw(</b><i>name</i><b>)</b> <b><u>tab</u></b><b>el</b> <b><u>ptab</u></b><b>el</b> ]
<p>
<a name="02"></a><b>        </b>+---------+
<b>    </b>----+<b> Options </b>+----------------------------------------------------------
<p>
   <b><u>p</u></b><b>anel</b>      Number of all locations units
<p>
   <b><u>t</u></b><b>ime</b>       Number of time series in each cross section (must be balanced)
<p>
   <b><u>m</u></b><b>atrix</b>     Specify name of spatial weight matrix, that will be created
<p>
   <b><u>s</u></b><b>tand</b>      Use row-standardized weight matrix.
                 standardized weight matrix has each row sum equals 1.
                 Default is Binary spatial weight matrix which each element is 
&gt; 0 or 1
<p>
   <b>inv</b>        Use Inverse Standardized Weight Matrix (1/W)
<p>
   <b>inv2</b>       Use Inverse Squared Standardized Weight Matrix (1/W^2)
<p>
   <b><u>e</u></b><b>igw(</b><i>name</i><b>)</b> Set name of new eigenvalues variable vector 
<p>
   <b><u>tab</u></b><b>le</b>      Display Cross Section Spatial Weight Matrix Table
<p>
   <b><u>ptab</u></b><b>le</b>     Display Panel Spatial Weight Matrix Table, if <b>time</b> &gt; 1
<p>
<a name="03"></a><b>        </b>+-------------+
<b>    </b>----+<b> Description </b>+------------------------------------------------------
<p>
  <b>spweight</b> creates or generates both Cross Section and Panel Spatial Weight
  Matrix among neighbor locations, for using in spatial regression analysis.
<p>
  <b>spweight</b> also creates standardized Weight Matrix with both inverse and
  inverse squared form and Eigenvalues variable vector.
<p>
  Raw data for neighbor locations units must be put as shown in the sample
  data file<b> (spweight.dta)</b>.
<p>
  <b>spweight</b> is differnt from <b>spweightcs</b> and <b>spweightxt</b>, in entering data, you
  dont have to enter data here in symmetric way (i,j) and (j,i).
<p>
<a name="04"></a><b>        </b>+---------------+
<b>    </b>----+<b> Saved Results </b>+----------------------------------------------------
<p>
  <b>spweight</b> saves the following results in <b>e()</b>:
<p>
Matrixes
   <b>e(wcs)</b>     Cross Section Spatial Weight Matrix.
   <b>e(wxt)</b>     Panel Spatial Weight Matrix.
<p>
   <b>e(ewcs)</b>    Eigenvalues Cross Section.
   <b>e(ewxt)</b>    Eigenvalues Panel Data.
<p>
<a name="05"></a><b>        </b>+----------+
<b>    </b>----+<b> Examples </b>+---------------------------------------------------------
<p>
        clear all
        sysuse spweight1.dta, clear
        list v1 v2
        spweight v1 v2 , panel(7) matrix(W) eigw table
<p>
        ereturn list
        matrix list e(ewcs)
        matrix list e(wcs)
-------------------------------------------------------------------------------
<p>
        clear all
        sysuse spweight2.dta, clear
        list v1 v2
        db spweight
        spweight v1 v2 , panel(4) time(1) matrix(W) eigw table
        ereturn list
        matrix list e(ewcs)
        matrix list e(wcs)
-------------------------------------------------------------------------------
<p>
        spweight v1 v2 , panel(4) time(2) matrix(W) eigw table
        spweight v1 v2 , panel(4) time(4) matrix(W) stand eigw table
        spweight v1 v2 , panel(4) time(4) matrix(W) stand eigw inv table
        spweight v1 v2 , panel(4) time(4) matrix(W) stand eigw inv2 table
        spweight v1 v2 , panel(4) time(4) matrix(W) table
        spweight v1 v2 , panel(4) time(4) matrix(W) ptable
        spweight v1 v2 , panel(4) time(4) matrix(W) table ptable
-------------------------------------------------------------------------------
<p>
. list v1 v2
     +---------+
     | v1   v2 |
     |---------|
  1. |  1    2 |
  2. |  1    3 |
  3. |  1    4 |
  4. |  2    3 |
  5. |  3    4 |
     +---------+
<p>
  The final shape of cross section and panel spatial weight matrix will be as
  follows:
<p>
    ------------------------------------------
     <b>Name</b> |   <b>c1</b>      <b>c2</b>      <b>c3</b>      <b>c4</b>   <b>Row</b>
    ------+-----------------------------------
       <b>r1</b> |    0      <b>1</b>      <b>1</b>      <b>1</b>      <b>3</b> 
       <b>r2</b> |    <b>1</b>      0      <b>1</b>      0      <b>2</b> 
       <b>r3</b> |    <b>1</b>      <b>1</b>      0      <b>1</b>      <b>3</b> 
       <b>r4</b> |    <b>1</b>      0      <b>1</b>      0      <b>2</b> 
    ------+-----------------------------------
      <b>Col</b> |    <b>3</b>      <b>2</b>      <b>3</b>      <b>2</b>     <b>10</b> 
    ------------------------------------------
<p>
            (1)               (2)               (3)               (4)         
    |-----------------|-----------------|-----------------|-----------------|
(1) |  0   0   0   0  |  <b>1</b>   0   0   0  |  <b>1</b>   0   0   0  |  <b>1</b>   0   0   0  |
    |  0   0   0   0  |  0   <b>1</b>   0   0  |  0   <b>1</b>   0   0  |  0   <b>1</b>   0   0  |
    |  0   0   0   0  |  0   0   <b>1</b>   0  |  0   0   <b>1</b>   0  |  0   0   <b>1</b>   0  |
    |  0   0   0   0  |  0   0   0   <b>1</b>  |  0   0   0   <b>1</b>  |  0   0   0   <b>1</b>  |
    |-----------------|-----------------|-----------------|-----------------|
(2) |  <b>1</b>   0   0   0  |  0   0   0   0  |  <b>1</b>   0   0   0  |  0   0   0   0  |
    |  0   <b>1</b>   0   0  |  0   0   0   0  |  0   <b>1</b>   0   0  |  0   0   0   0  |
    |  0   0   <b>1</b>   0  |  0   0   0   0  |  0   0   <b>1</b>   0  |  0   0   0   0  |
    |  0   0   0   <b>1</b>  |  0   0   0   0  |  0   0   0   <b>1</b>  |  0   0   0   0  |
    |-----------------|-----------------|-----------------|-----------------|
(3) |  <b>1</b>   0   0   0  |  <b>1</b>   0   0   0  |  0   0   0   0  |  <b>1</b>   0   0   0  |
    |  0   <b>1</b>   0   0  |  0   <b>1</b>   0   0  |  0   0   0   0  |  0   <b>1</b>   0   0  |
    |  0   0   <b>1</b>   0  |  0   0   <b>1</b>   0  |  0   0   0   0  |  0   0   <b>1</b>   0  |
    |  0   0   0   <b>1</b>  |  0   0   0   <b>1</b>  |  0   0   0   0  |  0   0   0   <b>1</b>  |
    |-----------------|-----------------|-----------------|-----------------|
(4) |  <b>1</b>   0   0   0  |  0   0   0   0  |  <b>1</b>   0   0   0  |  0   0   0   0  |
    |  0   <b>1</b>   0   0  |  0   0   0   0  |  0   <b>1</b>   0   0  |  0   0   0   0  |
    |  0   0   <b>1</b>   0  |  0   0   0   0  |  0   0   <b>1</b>   0  |  0   0   0   0  |
    |  0   0   0   <b>1</b>  |  0   0   0   0  |  0   0   0   <b>1</b>  |  0   0   0   0  |
    |-----------------|-----------------|-----------------|------------------
<p>
<p>
  if any element has no neighbor with other locations, then you will set its
  number in both v1 and v2 variables.
<p>
  for example here element (5) has no neighbor with other locations (1, 2,
  3,4), then you will set it self number in both v1 and v2 variables.
<p>
        clear all
        sysuse spweight3.dta, clear
        list v1 v2
        spweight v1 v2 , panel(5) matrix(W) eigw table
<p>
 list v1 v2
<p>
     +---------+
     | v1   v2 |
     |---------|
  1. |  1    2 |
  2. |  1    3 |
  3. |  1    4 |
  4. |  2    3 |
  5. |  3    4 |
     |---------|
  6. |  <b>5</b>    <b>5</b> |
     +---------+
<p>
+---------------------------------------+
|  Name |  c1   c2   c3   c4   c5 | Row |
|-------+-------------------------+-----|
|    r1 |   0    1    1    1    0 |   3 |
|    r2 |   1    0    1    0    0 |   2 |
|    r3 |   1    1    0    1    0 |   3 |
|    r4 |   1    0    1    0    0 |   2 |
|    r5 |   0    0    0    0    0 |   0 |
|-------+-------------------------+-----|
|   Col |   3    2    3    2    0 |  10 |
+---------------------------------------+
<p>
  After creating cross section panel spatial weight matrix, you can use 
  <b>spautoreg</b>, <b>gs3sls</b>, <b>spregcs</b>, <b>spmstar</b> for cross section spatial regression,
  or <b>spregxt</b>, <b>gs2slsxt</b>, <b>spglsxt</b>, <b>spmstarxt</b>, <b>spxttobit</b> for panel spatial
  regression to generate eigenvalues vector and standardized weight matrix,
  and run regression analysis.
<p>
<a name="06"></a><b>        </b>+--------+
<b>    </b>----+<b> Author </b>+-----------------------------------------------------------
<p>
  <b>Emad Abd Elmessih Shehata</b>
  <b>Professor (PhD Economics)</b>
  <b>Agricultural Research Center - Agricultural Economics Research Institute - Eg</b>
<b>&gt; ypt</b>
  <b>Email: </b>emadstat@hotmail.com
  <b>WebPage:                </b>http://emadstat.110mb.com/stata.htm
  <b>WebPage at IDEAS:       </b>http://ideas.repec.org/f/psh494.html
  <b>WebPage at EconPapers:  </b>http://econpapers.repec.org/RAS/psh494.htm
<p>
<b>        </b>+-------------------+
<b>    </b>----+<b> SPWEIGHT Citation </b>+------------------------------------------------
<p>
 <b>Shehata, Emad Abd Elmessih (2012)</b>
 <b>SPWEIGHT: "Create Cross Section and Panel Spatial Weight Matrix"</b>
<p>
        http://ideas.repec.org/c/boc/bocode/s457325.html
<p>
        http://econpapers.repec.org/software/bocbocode/s457325.htm
<p>
<p>
<b><u>Online Help:</u></b>
<p>
<b>*** Spatial Econometrics Regression Models:</b>
<p>
-------------------------------------------------------------------------------
&gt; -
<b>*** (1) Spatial Panel Data Regression Models:</b>
<b>spregxt</b>      Spatial Panel Regression Econometric Models: <b>Stata Module Toolkit</b>
<b>gs2slsxt</b>     Generalized Spatial Panel 2SLS Regression
<b>gs2slsarxt</b>   Generalized Spatial Panel Autoregressive 2SLS Regression
<b>spglsxt</b>      Spatial Panel Autoregressive Generalized Least Squares Regression
<b>spgmmxt</b>      Spatial Panel Autoregressive Generalized Method of Moments Regress
&gt; ion
<b>spmstarxt</b>    (m-STAR) Spatial Lag Panel Models
<b>spmstardxt</b>   (m-STAR) Spatial Durbin Panel Models
<b>spmstardhxt</b>  (m-STAR) Spatial Durbin Multiplicative Heteroscedasticity Panel Mo
&gt; dels
<b>spmstarhxt</b>   (m-STAR) Spatial Lag Multiplicative Heteroscedasticity Panel Model
&gt; s
<b>spregdhp</b>     Spatial Panel Han-Philips Linear Dynamic Regression: Lag &amp; Durbin 
&gt; Models
<b>spregdpd</b>     Spatial Panel Arellano-Bond Linear Dynamic Regression: Lag &amp; Durbi
&gt; n Models
<b>spregfext</b>    Spatial Panel Fixed Effects Regression: Lag &amp; Durbin Models
<b>spregrext</b>    Spatial Panel Random Effects Regression: Lag &amp; Durbin Models
<b>spregsacxt</b>   MLE Spatial AutoCorrelation Panel Regression (SAC)
<b>spregsarxt</b>   MLE Spatial Lag Panel Regression (SAR)
<b>spregsdmxt</b>   MLE Spatial Durbin Panel Regression (SDM)
<b>spregsemxt</b>   MLE Spatial Error Panel Regression (SEM)
-------------------------------------------------------------------------------
&gt; -
<b>*** (2) Spatial Cross Section Regression Models:</b>
<b>spregcs</b>      Spatial Cross Section Regression Econometric Models: <b>Stata Module </b>
<b>&gt; Toolkit</b>
<b>gs2sls</b>       Generalized Spatial 2SLS Cross Sections Regression
<b>gs2slsar</b>     Generalized Spatial Autoregressive 2SLS Cross Sections Regression
<b>gs3sls</b>       Generalized Spatial Autoregressive 3SLS Regression 
<b>gs3slsar</b>     Generalized Spatial Autoregressive 3SLS Cross Sections Regression
<b>gsp3sls</b>      Generalized Spatial 3SLS Cross Sections Regression
<b>spautoreg</b>    Spatial Cross Section Regression Models
<b>spgmm</b>        Spatial Autoregressive GMM Cross Sections Regression
<b>spmstar</b>      (m-STAR) Spatial Lag Cross Sections Models
<b>spmstard</b>     (m-STAR) Spatial Durbin Cross Sections Models
<b>spmstardh</b>    (m-STAR) Spatial Durbin Multiplicative Heteroscedasticity Cross Se
&gt; ctions Models
<b>spmstarh</b>     (m-STAR) Spatial Lag Multiplicative Heteroscedasticity Cross Secti
&gt; ons Models
<b>spregsac</b>     MLE Spatial AutoCorrelation Cross Sections Regression (SAC)
<b>spregsar</b>     MLE Spatial Lag Cross Sections Regression (SAR)
<b>spregsdm</b>     MLE Spatial Durbin Cross Sections Regression (SDM)
<b>spregsem</b>     MLE Spatial Error Cross Sections Regression (SEM)
-------------------------------------------------------------------------------
&gt; -
<b>*** (3) Tobit Spatial Regression Models:</b>
<p>
<b>*** (3-1) Tobit Spatial Panel Data Regression Models:</b>
<b>sptobitgmmxt</b> Tobit Spatial GMM Panel Regression
<b>sptobitmstarxt</b>Tobit (m-STAR) Spatial Lag Panel Models
<b>sptobitmstardxt</b>Tobit (m-STAR) Spatial Durbin Panel Models
<b>sptobitmstardhxt</b>Tobit (m-STAR) Spatial Durbin Multiplicative Heteroscedasticity
&gt;  Panel Models
<b>sptobitmstarhxt</b>Tobit (m-STAR) Spatial Lag Multiplicative Heteroscedasticity Pan
&gt; el Models
<b>sptobitsacxt</b> Tobit MLE Spatial AutoCorrelation (SAC) Panel Regression
<b>sptobitsarxt</b> Tobit MLE Spatial Lag Panel Regression
<b>sptobitsdmxt</b> Tobit MLE Spatial Panel Durbin Regression
<b>sptobitsemxt</b> Tobit MLE Spatial Error Panel Regression
<b>spxttobit</b>    Tobit Spatial Panel Autoregressive GLS Regression
--------------------------------------------------------------
<b>*** (3-2) Tobit Spatial Cross Section Regression Models:</b>
<b>sptobitgmm</b>   Tobit Spatial GMM Cross Sections Regression
<b>sptobitmstar</b> Tobit (m-STAR) Spatial Lag Cross Sections Models
<b>sptobitmstard</b>Tobit (m-STAR) Spatial Durbin Cross Sections Models
<b>sptobitmstardh</b>Tobit (m-STAR) Spatial Durbin Multiplicative Heteroscedasticity C
&gt; ross Sections
<b>sptobitmstarh</b>Tobit (m-STAR) Spatial Lag Multiplicative Heteroscedasticity Cross
&gt;  Sections
<b>sptobitsac</b>   Tobit MLE AutoCorrelation (SAC) Cross Sections Regression
<b>sptobitsar</b>   Tobit MLE Spatial Lag Cross Sections Regression
<b>sptobitsdm</b>   Tobit MLE Spatial Durbin Cross Sections Regression
<b>sptobitsem</b>   Tobit MLE Spatial Error Cross Sections Regression
-------------------------------------------------------------------------------
&gt; -
<b>*** (4) Spatial Weight Matrix:</b>
<b>spcs2xt</b>      Convert Cross Section to Panel Spatial Weight Matrix
<b>spweight</b>     Cross Section and Panel Spatial Weight Matrix
<b>spweightcs</b>   Cross Section Spatial Weight Matrix
<b>spweightxt</b>   Panel Spatial Weight Matrix
-------------------------------------------------------------------------------
&gt; -
<p>
<p>
</pre>