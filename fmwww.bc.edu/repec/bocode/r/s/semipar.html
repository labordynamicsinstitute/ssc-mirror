<pre>
<b>help semipar</b>                             (Vincenzo Verardi and Nicolas Debarsy)
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
    <b>semipar</b>
<p>
<b><u>Syntax</u></b>
<p>
    Robinson's (1988) semiparametric regression estimator
<p>
        <b>semipar</b> <i>varlist</i> [<i>if</i>] [<i>in</i>] [<i>weight</i>]<b>,</b> <b>nonpar(</b><i>varname</i><b>)</b> [<i>options</i>]
<p>
<p>
<p>
<a name="semiparopts"></a>    <i>options</i>              Description
    -------------------------------------------------------------------------
    Model
      <b>nonpar(</b><i>varname</i><b>)</b>    Specifies the variable that enters the model
                           nonlinearly
      <b><u>gen</u></b><b>erate(</b><i>varname</i><b>)</b>  Generate the nonparametric fit of the dependent
                           variable
      <b><u>par</u></b><b>tial(</b><i>varname</i><b>)</b>   Generate the dependent variable partialled out from
                           the parametric fit
      <b>degree(</b><i>#</i><b>)</b>          Specifies the degree of the local weighted
                           polynomial fit used in the kernel; default is 1
                           (see <b>lpoly</b>)
      <b>trim(</b><i>#</i><b>)</b>            Specifies the level of trimming for the pdf of the
                           variable entering the model nonlinearly; default
                           is 0 (no trimming)
      <b>kernel(</b><i>kernel</i><b>)</b>     Specifies kernel function; default is
                           <b>kernel(gaussian)</b>
 
    -------------------------------------------------------------------------
    Kernels
      <b>gaussian</b>            Gaussian kernel function, the default
      <b>epanechnikov</b>        Epanechnikov kernel function
      <b>epan2</b>               Alternative epanechnikov kernel function
      <b>biweight</b>            Biweight kernel function
      <b>cosine</b>              Cosine trace kernel function
      <b>parzen </b>             Parzen kernel function
      <b>rectangle</b>           Rectangle kernel function
      <b>triangle</b>            Triangle kernel function
    -------------------------------------------------------------------------
    Graphics
      <b><u>nog</u></b><b>raph</b>            Prevents from showing the graph of the nonparametric
                           fit
      <b>ci</b>                 Shows the confidence interval around the
                           nonparametric fit
      <b>title()</b>            Specifies the title of the graph for the
                           nonparametric fit
      <b>ytitle()</b>           Specifies the label of y-axis in the graph of the
                           nonparametric fit
      <b>xtitle()</b>           Specifies the label of x-axis in the graph of the
                           nonparametric fit
    -------------------------------------------------------------------------
    Standard errors
      <b>robust</b>             Uses the sandwich variance formula to compute
                           standard errors of the estimated parameters
  
      <b>cluster(</b><i>varname</i><b>)</b>   Computes clustered-corrected standard errors of the
                           estimated parameters
    -------------------------------------------------------------------------
    Specification test
      <b>test(</b><i>#</i><b>)</b>            Computes Hardle and Mammen's (1993) specification
                           test to assess if the nonparametric fit can be
                           approximated by a parametric adjustment of order
                           (#). With the cluster option specified, bootstrap
                           sample of clusters are drawn
<p>
      <b>nsim(</b><i>#</i><b>)</b>            Specifies the number of bootstrap replicates to be
                           done to do inference on the test; default is 100
<p>
      <b>weight_test()</b>      Allows to weight the distance between the
                           nonparametric and parametric fits for the test;
                           default is 1/n.
<p>
      <b>level(</b><i>#</i><b>)</b>           Specifies the level of confidence for inference;
                           default is <b>level(95)</b>
    -------------------------------------------------------------------------
    <b>fweights</b> and <b>aweights</b> are allowed; see <b>weight</b>
<p>
<b><u>Description</u></b>
<p>
    semipar estimates the Robinson's (1988) double residual estimator and
    estimates the nonlinear relation between the variable set in <b>nonpar</b> and
    the dependent variable.  The nonparametric estimator used is a gaussian
    kernel weighted local polynomial fit.
<p>
    Besides, the <b>test</b> option allows the user to assess whether a polynomial
    adjustment could be used to approximate the nonparametric fit.
<p>
<p>
<p>
<b><u>Examples</u></b>
<p>
        <b>. use http://fmwww.bc.edu/ec-p/data/wooldridge/HPRICE3</b>
        <b>. gen lprice =log(price)</b>
        <b>. semipar lprice ldist larea lland rooms bath age, nonpar(linst)</b>
            <b>xtitle(linst) ci</b>
<p>
<p>
Same as above, but testing for the appropriateness of a polynomial adjustment o
&gt; f order 2 for linst
<p>
        <b>. semipar lprice ldist larea lland rooms bath age, nonpar(linst)</b>
            <b>xtitle(linst) ci test(2)</b>
<p>
<p>
<b><u>References</u></b>
<p>
Hardle W., E. Mammen (1993), Comparing nonparametric versus parametric regressi
&gt; on fits, 
Annals of Statistics, 21, 1926-1947.
<p>
Robinson P.M. (1988), Root-N consistent semiparametric regression, Econometrica
&gt; , 56, 931-954.
</pre>