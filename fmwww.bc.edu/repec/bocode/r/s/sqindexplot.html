<pre>
<b>help sqindexplot</b>                                                (SJ6-4: st0111)
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
    <b>sqindexplot</b> -- Sequence index plots
<p>
<p>
<b><u>Syntax</u></b>
<p>
        <b>sqindexplot</b> [<i>if</i>] [<i>in</i>] [<b>,</b> <i>options</i>]
<p>
    <i>options</i>               Description
    -------------------------------------------------------------------------
    <b>ranks(</b><i>numlist</i><b>)</b>        restrict tabulation on most frequent <i>numlist</i>
    <b>se</b>                    apply same elements similarity
    <b>so</b>                    apply same order similarity
    <b>order(</b><i>varlist</i><b>)</b>        specify order of vertical axis
    <b>by(</b><i>varname</i><b>)</b>           plot groups of sequences based on <i>varname</i>
    <b>color(</b><i>colorstyle</i><b>)</b>     apply colors to the elements
    <b>overplot(</b><i>#</i><b>)</b>           fine tune bar-width
    <b>rbar</b>                  bars intead of spikes
    <b>gapinclude</b>            include sequences with gaps in the tabulation
    <b><u>subseq</u></b><b>uence(</b><i>a</i><b>,</b><i>b</i><b>)</b>      use only subsequence between positions a and b
    <i>twoway_options</i>        options allowed with <b>graph twoway</b>
    -------------------------------------------------------------------------
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>sqindexplot</b> draws sequence index plots. These plots draw a horizontal
    line for each sequence, which changes its colors according to the
    elements.
<p>
    Out of the box, sequence index plots have several shortcomings, which
    should be dealt with when fine-tuning the graph:
<p>
    o In general, colored versions of sequence index plots are more sensible
        than black-and-white versions. The <b>color()</b> opton allows fine-tuning
        of the colors used for the elements.
<p>
    o Depending on variables such as the resulution of the screen, the viewer
        used to show the figure, the resolution of the printer, or the graph
        size, there can be a tendency to either overplot the lines, which
        overrepresents elements with higher category values (levels) or to
        have white stripes between the lines. The effect can be moderated by
        tuning the option <b>overplot()</b> and/or the aspectratio. It might also be
        sensible to restrict the graph to the most frequent sequences by
        using the <b>ranks()</b> option.
<p>
    o Sequence index plots depend heavily on the order of the sequences along
        the vertical axis. Without further options, a naive algorithm is used
        to order the sequences; however, the <b>order()</b> option sorts the
        sequences according to a user-defined variable list. It is sensible
        to use the results of <b>sqom</b> to order the sequences in a sequence index
        plot.
<p>
<p>
<b><u>Options</u></b>
<p>
    <b>ranks(</b><i>numlist</i><b>)</b> is used to restrict the output to the most frequent
        sequences. <i>numlist</i> refers to the position of the sequences in the
        sorted frequency table. Hence, <b>ranks(1)</b> refers to the most frequent
        sequence, whereas <b>ranks(1/10)</b> refers to the 10 most frequent
        sequences. You can also specify <b>ranks(2(2)20)</b>.
<p>
    <b>se</b> is used to request that a plot showing only the elements of sequences
        are used (same elements similarity). Hence, with this option
        sequences like A-B-A-B, B-A-A-B, and A-B-B-A would be drawn as A-B.
<p>
    <b>so</b> is used to request a plot where only the order of elements is shown
        (same-order similarity). With this option the sequences A-B-B-A and
        A-B-A-A would both be drawn as if they were A-B-A.
<p>
    <b>order(</b><i>varlist</i><b>)</b> is used to control the order of the sequences along the
        vertical axis. Without this option, a simple algorithm for the order
        is used. However, an order derived from an application of sqom is
        preferable. Note that within sequences with the same pattern on the
        order variables the default algorithm is applied.
<p>
    <b>by(</b><i>varname</i><b>)</b> specifies to plot groups of sequences separately based on
        <i>varname</i>.
<p>
    <b>color(</b><i>colorstyle</i><b>)</b> specifies the colors for the elements.  You can specify
        one color for each element, whereby the first color refers to the
        element with the lowest level. See <i>colorstyle</i> for a list of color
        choices.
<p>
    <b>overplot(</b><i>#</i><b>)</b> lets you fine-tune the amount of overplotting. The command
        tries to be smart about this setting, but the solutions are not
        always satisfying, especially with either rather small or rather
        large numbers of sequences. The default setting is <b>overplot(60)</b>.
        Choose a smaller number if the lines for higher levels appear to
        thicker than lines for lower levels. Choose a larger number if there
        are white stripes between the lines. If you have only few
        observations and/or draw sequence index plots with option by(), you
        may want to use option <b>rbar</b>.
<p>
    <b>rbar</b> uses bars instead of spike to draw the sequences. This option leads
        to serious overplotting even for moderate number of observations but
        can be advantageous for small sample sizes of when plots are drawn
        with option by(). <b>rbar</b>.
<p>
    <b>gapinclude</b> is used to include sequences with gaps. The default behavior
        is to drop sequences with gaps from the graph.  The term gap refers
        only to missing values on the element variable within a sequence.
        Sequences with missing values at the begining and at the end of a
        sequence are included in any case. You might consider using <b>sqset</b>
        with option <b>trim</b> to get rid of superfluous missings (see sq for
        details.)
<p>
    <b>subsequence(a,b)</b> is used to include only the part of the sequence that is
        between position a and b, whereby a and b refer to the position
        defined in order variable.
<p>
<p>
    <i>twoway_options</i> are a set of common options supported by all <b>twoway</b>
        commands; see <i>twoway_options</i>.
<p>
<p>
<b><u>Examples</u></b>
<p>
    <b>. sqindexplot</b>
<p>
    <b>. sqindexplot, color(black red yellow)</b>
<p>
    <b>. sqindexplot, so</b>
<p>
    <b>. sqindexplot, se</b>
<p>
<p>
<b><u>Author</u></b>
<p>
    Ulrich Kohler, WZB, kohler@wzb.eu
<p>
<b><u>Also see</u></b>
<p>
    Manual:  <b>[G] graph</b>, <b>[G] graph twoway rbar</b>, <b>[G] barlook options</b>
<p>
    Online: <b>sq</b>, <b>sqdemo</b>, <b>sqset</b>, <b>sqdes</b>, <b>sqegen</b>, <b>sqstat</b>, <b>sqindexplot</b>, 
             <b>sqmodalplot</b> <b>sqparcoord</b>, <b>sqom</b>, <b>sqclusterdat</b>, <b>sqclustermat</b>
<p>
</pre>