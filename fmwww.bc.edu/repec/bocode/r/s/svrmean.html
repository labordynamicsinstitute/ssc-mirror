<pre>
-------------------------------------------------------------------------------
help for <b>svrmean</b>, <b>svrtotal</b>, <b>svrratio</b>
-------------------------------------------------------------------------------
<p>
<b><u>Estimate means, totals, ratios, and proportions for survey data,</u></b>
<b><u>with replication-based standard errors</u></b>
<p>
        <b>svrmean</b>  <i>varlist</i> [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] [<b>,</b> <i>common_options</i>]
<p>
        <b>svrtotal</b> <i>varlist</i> [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] [<b>,</b> <i>common_options</i>]
<p>
        <b>svrratio</b> <i>varname</i> [<b>/</b>] <i>varname</i> [<i>varname</i> [<b>/</b>] <i>varname ...</i>] [<b>if</b> <i>exp</i>] [<b>in</b>
                 <i>range</i>] [<b>,</b> <i>common_options</i>]
<p>
<p>
where <i>common_options</i> are
<p>
                 <b>by(</b><i>varlist</i><b>)</b> [<b><u>com</u></b><b>plete</b>|<b><u>av</u></b><b>ailable</b>] <b><u>nolab</u></b><b>el</b> <b><u>l</u></b><b>evel(</b><i>#</i><b>)</b> <b>ci</b> <b>deff</b> <b>deft</b>
                 <b>meff</b> <b>meft</b> <b>obs</b> <b>size</b>
<p>
<b>svrmean</b>, <b>svrratio</b>, and <b>svrtotal</b> typed without arguments redisplay previous
results.  Any of the following options can be used when redisplaying results:
<p>
                 <b><u>l</u></b><b>evel(</b><i>#</i><b>)</b> <b>ci</b> <b>deff</b> <b>deft</b> <b>meff</b> <b>meft</b> <b>obs</b> <b>size</b>
<p>
These commands are for use with replication weights.  You must set your data
for replication based survey estimation with svrset or survwgt before using
these commands.
<p>
<p>
<b><u>Description</u></b>
<p>
<b>svrmean</b>, <b>svrtotal</b>, and <b>svrratio</b> produce estimates of population means, totals,
ratios, and proportions.  Standard errors are calculated using a series of
user-supplied replication weights, by balanced repeated replication (BRR) or
the survey jackknife (JK1, JK2, or JKn).  This is an alternate method to the
Taylor series linearization methods used by Stata's svy commands.  See survwgt
for details on the creation of weights and estimation of variances with
replication.
<p>
Estimates for multiple subpopulations can be obtained using the <b>by()</b> option.
The <b>if</b> option will give estimates for a single population.  (Note that with
replication methods, use of <b>if</b> or <b>in</b> produces correct estimates for the
relevant subpopulation; this is not the case with svy commands.)
<p>
svytest will operate after these commands, as it does after their svy-based
equivalents.
<p>
<p>
<b><u>Options</u></b>
<p>
<b>by(</b><i>varlist</i><b>)</b> specifies that estimates be computed for the subpopulations defined
    by different values of the variable(s) in the <i>varlist</i>.
<p>
<b>nolabel</b> can only be specified when <b>by()</b> is specified.  <b>nolabel</b> requests that
    numeric values rather than value labels be used to label output for
    subpopulations.  By default, value labels are used.
<p>
[<b>complete</b>|<b>available</b>] specifies how missing values are to be handled.  <b>complete</b>
    specifies that only observations with complete data should be used.
    <b>available</b> specifies that all available nonmissing values be used for each
    estimate.
<p>
    If neither <b>complete</b> nor <b>available</b> is specified, <b>available</b> is the default
    when there are missing values and there are two or more variables in the
    <i>varlist</i> (or four or more for <b>svyratio</b>).  <b>complete</b> must be specified to
    compute the covariance or to use <b>svytest</b> after running the command; see
    help svytest.
<p>
<b>level(</b><i>#</i><b>)</b> specifies the confidence level (i.e., nominal coverage rate), in
    percent, for confidence intervals; see help level.
<p>
<b>ci</b> requests that confidence intervals be displayed.  If no display options are
    specified then, by default, confidence intervals are displayed.
<p>
<b>deff</b> requests that the design-effect measure deff be displayed.  If no display
    options are specified then, by default, deff is displayed.
<p>
<b>deft</b> requests that the design-effect measure deft be displayed.  See <b>[R]</b>
    <b>svymean</b> for a discussion on deff and deft.
<p>
<b>meff</b> requests that the meff measure of misspecification effects be displayed.
<p>
<b>meft</b> requests that the meft measure of misspecification effects be displayed.
    See <b>[R] svymean</b> for a discussion of meff and meft.
<p>
<b>obs</b> requests that the number of observations used for the computation of the
    estimate be displayed for each row of estimates.
<p>
<b>size</b> requests that the estimate of the (sub)population size be displayed for
    each row of estimates.  The (sub)population size estimate equals the sum of
    the weights for those observations used for the mean/total/ratio estimate.
<p>
<p>
<b><u>Examples</u></b>
<p>
        {inp:. svrmean birthwgt
        . svrmean birthwgt, by(race)
        . svrmean birthwgt if race==1
<p>
        . svrratio hdresult/tcresult
<p>
<p>
<b><u>Methods and formulae</u></b>
<p>
See survwgt.
<p>
<p>
<b><u>Acknowledgements</u></b>
<p>
These commands consists largely of the ado file code from official Stata's
<b>svy_x</b> command, which underlies <b>svymean</b>, <b>svytotal</b>, and <b>svyratio</b>.  They are
modified to calculate (co)variances differently.  I would like to thank Bobby
Gutierrez at StataCorp for advice on implementation of BRR.
<p>
<p>
<b><u>Author</u></b>
<p>
        Nick Winter
        Cornell University
        nw53@cornell.edu
<p>
</pre>