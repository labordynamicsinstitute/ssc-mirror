<pre>
-------------------------------------------------------------------------------
help for <b>splitvallabels</b>
-------------------------------------------------------------------------------
<p>
<p>
<b><u>Split up value labels for multi-line graph labelling</u></b>
<p>
<p>
        <b>splitvallabels</b> <i>varname</i> [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] [<b>,</b> <b><u>l</u></b><b>ength(</b><i>#</i><b>)</b>
                 <b>local(</b><i>localname</i><b>)</b> <b><u>nob</u></b><b>reak</b> <b><u>v</u></b><b>als(</b><i>numlist</i><b>)</b> <b><u>r</u></b><b>ecode</b> ]
<p>
<p>
<b><u>Description</u></b>
<p>
<b>splitvallabels</b> splits the value labels for a variable into multiple chunks, and
returns those chunks in a form appropriate for specification as part of a graph
command.
<p>
When the labels associated with axis labels are very long, these labels can
overlap each other in the graph.  This command breaks up these long labels and
packages them in a format appropriate for specification as part of a <b>xlabel()</b>
or <b>relabel()</b> option.  This will create multi-line labels on the graph.
<p>
<p>
<b><u>Options</u></b>
<p>
<b>length()</b> specifies maximum length of each "chunk" of labels--that is, the
    maximum width of the resulting multi-line labels.  The default is 15.
<p>
<b>local()</b> specifies the name of a local in the caller's namespace for the result.
    Note that the result is also returned in r(relabel).
<p>
<b>nobreak</b> specifies that words longer than <b>length()</b> not be broken.
<p>
<b>vals()</b> specifies the values of <i>varname</i> that are to be included.  By default all
    values are included.
<p>
<b>recode</b> specifies that the values 1, 2, 3, etc. be used to map the labels. This
    is useful if the labels are to be used with <b>graph bar</b> since <b>graph bar</b>
    always uses values 1, 2, 3, etc. to address the <b>over()</b> groups.
<p>
<p>
<b><u>Examples</u></b>
<p>
        . sysuse auto
        (1978 Automobile Data)
        
        . label define rep78 1 "Very low rating in 1978" ///
        &gt;      2 "Mediocre - Low Rating in 1978" ///
        &gt;      3 "Medium Rating in 1978" ///
        &gt;      4 "Not bad rating in 1978, considering" ///
        &gt;      5 "Excellent in 1978--the best of the year!"
        
        . label values rep78 rep78
        
        . splitvallabels rep78 , length(11)
        
        . graph bar mpg , over(rep78, relabel(`r(relabel)') )
        
        . splitvallabels rep78 , length(11) vals(1 3 4)
        
        . graph twoway scatter mpg rep78 , xlabel(`r(relabel)')
        
        . splitvallabels rep78 if rep78&gt;=3, length(11) recode
        
        . graph bar mpg if rep78&gt;=3, over(rep78, relabel(`r(relabel)') )
        
<p>
<b>splitvallabels</b> may also be used to overcome the problem of quotes in value
labels:
<p>
        . sysuse auto, clear
        (1978 Automobile Data)
        
        . label define rep78 1 "Low" 2 "Mediocre" 3 "Medium" ///
        &gt;      4 `"Not "bad""' 5 "Excellent"
        
        . label values rep78 rep78
        
        . graph bar mpg , over(rep78)
        invalid syntax
        r(198);
        
        . splitvallabels rep78
        
        . label values rep78
        
        . graph bar mpg , over(rep78, relabel(`r(relabel)'))
        
<p>
<b><u>Saved Results</u></b>
<p>
<b>splitvallabels</b> saves in r(relabel) a string that may be used for graph option
specification.
<p>
<p>
<b><u>Authors</u></b>
<p>
    Nick Winter
    Cornell University
    nw53@cornell.edu
<p>
    Ben Jann
    ETH Zurich
    jann@soz.gess.ethz.ch
</pre>