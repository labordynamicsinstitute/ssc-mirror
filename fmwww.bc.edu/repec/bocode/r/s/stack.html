<pre>
..-
help for ^stack^         (Statalist distribution 19 sep 1997; manual:  ^[R] sta
&gt; ck^)
..-
<p>
Stack data
- ----------
<p>
    ^stack^ varlist [^if^ exp] [^in^ range]^,^ { ^i^nto^(^newvars^)^ | ^g^roup^
&gt; (^#^)^ }
                                         [ ^clear^ ^wi^de ]
<p>
<p>
Description
- -----------
<p>
^stack^ stacks variables in varlist vertically.  Consider
<p>
        . ^stack a b c d e f, into(g h)^
<p>
This would create a new dataset containing
<p>
        g      h           ^_stack^
        ---------------------------
        a      b             1            (_N observations)
        c      d             2            (_N observations)
        e      f             3            (_N observations)
<p>
The resulting dataset would have 3*_N observations.  The first _N observations
would have all the data from variables a and b, the second _N observation all
the data from c and d, and the third _N observations all the data from e and
f.
<p>
^stack^ also creates a new variable, ^_stack^, identifying the groups.
<p>
As another example, 
<p>
        . ^stack a b c d e f, into(g h i)^
<p>
would create a new dataset containing
<p>
        g      h      i    ^_stack^
        ---------------------------
        a      b      c      1            (_N observations)
        d      e      f      2            (_N observations)
<p>
The number of variables specified by ^into()^ determine the number of groups
formed.  ^into()^ may be specified with variable ranges, such as 
<p>
        . ^stack a b c d e f, into(v1-v3)^
<p>
as, of course, may the varlist 
<p>
        . ^stack a-f, into(v1-v3)^
<p>
The new variables formed may have the existing variables' names;
<p>
        . ^stack a b c d e f, into(a b)^
and
        . ^stack a b c d e f, into(a b c)^
<p>
make perfect sense.
<p>
When you want the new variables to have the same names as the variables in the
first group, rather than specifying ^into()^, you may specify ^group()^.
Equivalent to the above are
<p>
        . ^stack a b c d e f, group(2)^
and
        . ^stack a b c d e f, group(3)^
<p>
For instance, the latter command creates 
<p>
        a      b           ^_stack^
        ---------------------------
        a      b             1            (_N observations)
        c      d             2            (_N observations)
        e      f             3            (_N observations)
<p>
<p>
Options
- -------
<p>
^into(^newvars^)^ and ^group(^#^)^ are alternatives and you must specify one or
&gt;  the
    other, but not both.
<p>
^into(^newvars^)^ specifies the the names of the new variables to be created.
    The implied number of groups is then v/n, where v is the number of 
    varlist variables and n the number of ^into()^ variables.  For instance,
<p>
        . ^stack a b c d e f, into(v1 v2 v3)^
<p>
    implies two groups:  (a b c) and (d e f).  
<p>
^group(^#^)^ specifies the number of groups and specifies that the new variable
&gt; s
    are to be named according to the first # variables in varlist.  For
    instance,
<p>
        . ^stack a b c d e f, group(2)^
<p>
    specifies that there are two groups and the new variables are to be called
    a, b, and c.
<p>
^clear^ indicates your understanding that the data in memory will be lost; if
    not specified, you will be asked to confirm your intentions.
<p>
^wide^ includes any of the original variables in varlist that are not specified
    in newvars in the resulting dataset.
<p>
<p>
Examples
- --------
<p>
See ^[R] stack^.  Here, we will give one mechanical example.
<p>
 . ^list^
              a        b        c        d  
   1.         1        2        3        4  
   2.         5        6        7        8  
<p>
 . ^stack a b  c d, into(e f) clear^
<p>
 . ^list^
              e        f    _stack  
   1.         1        2         1  
   2.         5        6         1  
   3.         3        4         2  
   4.         7        8         2  
<p>
That is, the new variable ^e^ is formed by stacking ^a^ and ^c^, while the new
variable ^f^ is formed by stacking ^b^ and ^d^.  ^_stack^ is automatically crea
&gt; ted
and set equal to 1 for the first (^a^,^b^) group and 2 for the second (^c^,^d^)
&gt;  
group.  
<p>
<p>
Also see
- --------
<p>
 Manual:  ^[R] stack^
On-line:  help for @reshape@, @xpose@
</pre>