<pre>
-------------------------------------------------------------------------------
<b>help stmix</b>                                       also see: <b>stmix postestimation</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
    <b>stmix</b> -- Parametric mixture survival models
<p>
<b><u>Syntax</u></b>
<p>
        <b>stmix</b> [<i>varlist</i>] [<i>if</i>] [<i>in</i>] [<b>,</b> <i>options</i>]
<p>
<a name="options"></a>    <i>options</i>                        Description
    -------------------------------------------------------------------------
    Model
      <b><u>dist</u></b><b>ribution(</b><b><u>weibe</u></b><b>xp)</b>        Weibull-exponential survival distribution
      <b><u>dist</u></b><b>ribution(we)</b>             synonym for <b>distribution(weibexp)</b>
      <b><u>dist</u></b><b>ribution(</b><b><u>weibw</u></b><b>eib)</b>       Weibull-Weibull survival distribution
      <b><u>dist</u></b><b>ribution(ww)</b>             synonym for <b>distribution(weibweib)</b>
      <b>lambda1(</b><i>varlist</i><b>)</b>             covariates for the scale parameter of the
                                     first component distribution
      <b>gamma1(</b><i>varlist</i><b>)</b>              covariates for the shape parameter of the
                                     first component distribution
      <b>lambda2(</b><i>varlist</i><b>)</b>             covariates for the scale parameter of the
                                     second component distribution
      <b>gamma2(</b><i>varlist</i><b>)</b>              covariates for the shape parameter of the
                                     second component distribution
      <b>pmix(</b><i>varlist</i><b>)</b>                covariates for the mixture parameter
<p>
    Reporting
      <b>nohr</b>                         do not report hazard ratios
      <b>showinit</b>                     display output from initial value model
                                     fits
      <b><u>showc</u></b><b>ons</b>                     list constraints in output
      <b><u>keepc</u></b><b>ons</b>                     do not drop constraints used in ml routine
      <b><u>l</u></b><b>evel(</b><i>#</i><b>)</b>                     set confidence level; default is <b>level(95)</b>
<p>
    Maximization options
      <b><u>initmat({it</u></b><b>matrix_name})</b>     pass a matrix of initial values}
      <b>noinit</b>                       do not fit the initial value model}
      <b><u>pmixc</u></b><b>onstraint(</b><i>#</i><b>)</b>            gives the value of which logit(pmix) is
                                     contrained to when obtaining initial
                                     values; default is 0
      <i>maximize_options</i>             control the maximization process; seldom
                                     used
    -------------------------------------------------------------------------
    You must <b>stset</b> your data before using <b>stmix</b>; see <b>[ST] stset</b>.
    Weights are not currently supported.
    Factor variables are not currently supported.
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>stmix</b> fits 2-component parametric mixture survival models. Distribution
    choices include Weibull-Weibull or Weibull-exponential. <b>stmix</b> can be used
    with single- or multiple-record or single- or multiple-failure st data.
<p>
    The component parametric models are additive on the survival scale, so
    for example, under a 2-component mixture Weibull-Weibull model:
<p>
        S_0(t) = pmix * exp(-lambda1 * t ^ gamma1) + (1 - pmix) *
        exp(-lambda2 * t ^ gamma2)
<p>
    Proportional hazards can be induced via:
<p>
        h(t) = -d(ln(S_0(t))/dt * exp(XB)
<p>
<p>
<b><u>Options</u></b>
<p>
        +-------+
    ----+ Model +------------------------------------------------------------
<p>
    <b>distribution(</b><i>string</i><b>)</b> specifies the parametric mixture distribution.
        Choices include a Weibull-exponential, <b>weibexp</b>/<b>we</b>, or a
        Weibull-Weibull, <b>weibweib</b>/<b>ww</b>.
<p>
    <b>lambda1(</b><i>varlist</i><b>)</b> covariates to include in the linear predictor of the
        scale parameter of the first component distribution. This is
        ln(lambda1) for all models.
<p>
    <b>gamma1(</b><i>varlist</i><b>)</b> covariates to include in the linear predictor of the
        shape parameter of the first component distribution. This is
        ln(gamma1) for all models.
<p>
    <b>lambda2(</b><i>varlist</i><b>)</b> covariates to include in the linear predictor of the
        scale parameter of the second component distribution. This is
        ln(lambda2) for all models.
<p>
    <b>gamma2(</b><i>varlist</i><b>)</b> covariates to include in the linear predictor of the
        shape parameter of the second component distribution. This is
        ln(gamma2) and is only allowed under a mixture <b>weibweib</b> model.
<p>
    <b>pmix(</b><i>varlist</i><b>)</b> covariates to include in the linear predictor of the
        mixture parameter.
<p>
        +-----------+
    ----+ Reporting +--------------------------------------------------------
<p>
    <b>nohr</b> may be specified at estimation or upon redisplaying results,
        specifies that coefficients rather than exponentiated coefficients be
        displayed, i.e., that coefficients rather than hazard ratios be
        displayed. This option affects only how coefficients are displayed,
        not how they are estimated.
<p>
    <b>showinit</b> displays the output from the inital value model fit, whereby the
        mixture parameter is constrained to 0 (on the logit scale).
<p>
    <b>showcons</b> displays the constraints used by stmix.
<p>
    <b>keepcons</b> do not drop the constraints used in the ml routine.
<p>
    <b>level(</b><i>#</i><b>)</b> specifies the confidence level, as a percentage, for confidence
        intervals.  The default is <b>level(95)</b> or as set by <b>set level</b>.
<p>
        +--------------+
    ----+ Maximization +-----------------------------------------------------
<p>
    <b>initmat(</b><i>matrix_name</i><b>)</b> pass a matrix of initial values to the full model.
<p>
    <b>noinit</b> do not fit the initial value model.
<p>
    <b>pmixconstraint(</b><i>#</i><b>)</b> gives the value of the contraint on the mixture
        parameter when obtaining initial values. Default is 0 (on the
        logistic scale).
<p>
<a name="maximize_options"></a>    <i>maximize_options</i>; <b><u>dif</u></b><b>ficult</b>, <b><u>tech</u></b><b>nique(</b><i>algorithm_spec</i><b>)</b>, <b><u>iter</u></b><b>ate(</b><i>#</i><b>)</b>,
        [<b>no</b>]<b><u>lo</u></b><b>g</b>, <b><u>tr</u></b><b>ace</b>, <b><u>grad</u></b><b>ient</b>, <b>showstep</b>, <b><u>hess</u></b><b>ian</b>, <b><u>shownr</u></b><b>tolerance</b>,
        <b><u>tol</u></b><b>erance(</b><i>#</i><b>)</b>, <b><u>ltol</u></b><b>erance(</b><i>#</i><b>)</b> <b><u>gtol</u></b><b>erance(</b><i>#</i><b>)</b>, <b><u>nrtol</u></b><b>erance(</b><i>#</i><b>)</b>,
        <b><u>nonrtol</u></b><b>erance</b>, <b>from(</b><i>init_specs</i><b>)</b>; see <b>[R] maximize</b>.  These options are
        seldom used, but the <b>difficult</b> option may be useful if there are
        convergence problems.
<p>
<p>
<b><u>Remark</u></b>
<p>
    Note: Covariate effects can be interpreted as hazard ratios only if
    <b>lambda1</b>, <b>gamma1</b>, <b>lambda2</b>, <b>gamma2</b> and <b>pmix</b> are left empty.
<p>
<p>
<b><u>Example</u></b>
<p>
    Setup
        webuse brcancer
        stset rectime, failure(censrec = 1) scale(365.25)
<p>
    Mixture Weibull-Weibull proportional hazards model
        stmix hormon, dist(ww)
<p>
<p>
<b><u>Authors</u></b>
<p>
    Michael J. Crowther, University of Leicester, UK. E-mail:
    michael.crowther@le.ac.uk.
<p>
    Paul C. Lambert, University of Leicester, UK. E-mail:
    paul.lambert@le.ac.uk.
<p>
    Please report any errors you may find.
<p>
<p>
<b><u>References</u></b>
<p>
    McLachlan, G. J. &amp; McGiffin, D. C. On the role of finite mixture models
        in survival analysis. Stat Methods Med Res, 1994, 3, 211-226.
<p>
    Gelfand, A. E.; Ghosh, S. K.; Christiansen, C.; Soumerai, S. B. &amp;
        McLaughlin, T. J. Proportional hazards models: a latent competing
        risk approach Journal of the Royal Statistical Society: Series C
        (Applied Statistics), 2000, 49, 385-397.
<p>
<p>
<b><u>Also see</u></b>
<p>
    Online: <b>stmix postestimation</b>
</pre>