<pre>
<b>help spmat contiguity</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
    <b>spmat contiguity</b> -- Create an <b>spmat</b> object containing a contiguity matrix
                          <b>W</b>
<p>
<p>
<b><u>Syntax</u></b>
<p>
        <b>spmat</b> <b><u>con</u></b><b>tiguity</b> <i>objname</i> [<i>if</i>] [<i>in</i>] <b>using</b> <i>filename</i><b>,</b> <b>id(</b><i>varname</i><b>)</b>
                [<i>options</i>]
<p>
<p>
    <i>options</i>                       Description
    -------------------------------------------------------------------------
    * <b>id(</b><i>varname</i><b>)</b>                 ID variable
      <b>rook</b>                        rook contiguity
      <b><u>norm</u></b><b>alize(</b><i>norm</i><b>)</b>             normalization method
      <b><u>tol</u></b><b>erance(</b><i>#</i><b>)</b>                numerical tolerance
      <b><u>band</u></b><b>ed</b>                      banded storage
      <b>replace</b>                     replace <i>objname</i>
      <b>saving(</b><i>filename</i><b>,</b><i> </i>...<b>)</b>       save neighbor info to a text file
      <b><u>nomat</u></b><b>rix</b>                    do not create <i>objname</i>
    -------------------------------------------------------------------------
    * Required
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>spmat contiguity</b> puts a contiguity matrix <b>W</b> into the new <b>spmat</b> object
    <i>objname</i>.  The <i>ij</i>th element of <b>W</b> is 1 if points <i>i</i> and <i>j</i> are neighbors and
    is 0 otherwise.
<p>
    <b>spmat contiguity</b> uses both the dataset in memory and a dataset containing
    the coordinates of polygons.  The coordinates dataset must be in the
    format created by shp2dta or mif2dta.
<p>
<p>
<b><u>Options</u></b>
<p>
    <b>id(</b><i>varname</i><b>)</b> specifies a numeric variable that contains a unique
        identifier for each observation.  This option is required.
<p>
    <b>rook</b> specifies that only points that share a common edge should be
        considered neighbors (rook contiguity).  The default is to include
        points that share a common vertex (queen contiguity).  Rook
        contiguity is computationally more difficult than queen contiguity.
<p>
    <b>normalize(</b><i>norm</i><b>)</b> specifies the normalization method.  <i>norm</i> can be <b>row</b>,
        <b><u>min</u></b><b>max</b>, or <b><u>spe</u></b><b>ctral</b>.
<p>
    <b>tolerance(</b><i>#</i><b>)</b> specifies the numerical tolerance used in deciding whether
        two places are rook neighbors.  The default is <b>tolerance(1e-7)</b>.
<p>
    <b>banded</b> instructs <b>spmat</b> to store the contiguity matrix in a banded form;
        see <i>Remarks</i> in <b>spmat tobanded</b> for details.
<p>
    <b>replace</b> allows <i>objname</i> to be overwritten if it already exists.
<p>
    <b>saving(</b><i>filename</i> [<b>, replace</b>]<b>)</b> requests that the matrix be written to
        <i>filename</i> in the neighbor-list format.  The first line of the file
        contains the total number of places and, if the matrix is banded, the
        lower and upper band.  Each remaining line lists a place ID followed
        by its neighbors, if any.  <b>replace</b> allows <i>filename</i> to be overwritten
        if it already exists.
<p>
    <b>nomatrix</b> specifies that the <b>spmat</b> object <i>objname</i> and spatial-weighting
        matrix <b>W</b> not be created.  In conjunction with <b>saving()</b>, this option
        allows for creating a text file containing a neighbor list without
        constructing the underlying contiguity matrix.
<p>
<p>
<b><u>Example</u></b>
<p>
    Setup
        <b>. clear all</b>
        <b>. set memory 50m</b>
        <b>. use pollute</b>
<p>
    Create the spmat object <b>cobj</b> containing a minmax-normalized contiguity
    matrix
        <b>. spmat contiguity cobj using pollutexy, id(id) normalize(minmax)</b>
<p>
<p>
<b><u>Also see</u></b>
<p>
    Online:  <b>spmat</b>, <b>spreg</b>, <b>spivreg</b>, <b>spmap</b>, <b>shp2dta</b>, <b>mif2dta</b> (if installed)
<p>
</pre>