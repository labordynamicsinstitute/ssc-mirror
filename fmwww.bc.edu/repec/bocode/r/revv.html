<pre>
<b>help revv</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
     <b>revv</b> -- Reverse value order of variables
<p>
<b><u>Syntax</u></b>
<p>
        <b>revv</b> <i>varlist</i> [<i>if</i>] [<i>in</i>] [<b>,</b> <i>options</i>]
<p>
    <i>options</i>                Description
    -------------------------------------------------------------------------
      <b><u>pre</u></b><b>fix(</b><i>str</i><b>)</b>          use <i>str</i> as prefix for new variables
      <b><u>g</u></b><b>enerate(</b><i>namelist</i><b>)</b>   create new variables <i>name1, ..., namek</i>
      <b>replace</b>              replace variables with reversed version
      <b><u>v</u></b><b>alid(</b><i>numlist</i><b>)</b>       reverse all values specified in numlist
      <b><u>def</u></b><b>ine(</b><i>namelist</i><b>)</b>     define value labels and use <i>name1, ..., namek</i> as
                             value label names
      <b><u>nol</u></b><b>abel</b>              do not define a value label for new variables
      <b><u>num</u></b><b>label</b>             handle numeric prefix in value labels
    -------------------------------------------------------------------------
<p>
<b><u>Description</u></b>
<p>
    <b>revv</b> reverses the value order of each variable specified in <i>varlist</i>. New
    variables are created containing the reversed value order of the original
    variables. Value labels are reversed accordingly.
<p>
    <b>Remarks:</b> Variables are assumed to be Likert-type items with integer
    values incremented by one. If this is not the case specify <b>valid()</b>. <b>revv</b>
    is also able to handle variables that contain non-integer values.
<p>
<b><u>Options</u></b>
<p>
        +---------+
    ----+ Options +----------------------------------------------------------
<p>
    <b>prefix(</b><i>str</i><b>)</b> uses <i>str</i> as prefix for the new variables' names.  Default
        prefix is <i>rv_</i>, meaning that reversed variables names are <i>rv_</i><i>varname</i>.
<p>
    <b>generate(</b><i>namelist</i><b>)</b> creates new variables <i>name1, ..., namek</i>.  May be
        combined with <b>prefix()</b>.
<p>
    <b>replace</b> replaces variables in <i>varlist</i> with their reversed version. May
        not be combined with <b>generate()</b> or <b>prefix()</b>.
<p>
    <b>valid(</b><i>numlist</i><b>)</b> reverses values specified in <i>numlist</i>. In numlist (1 2 3 4)
        values 1 and 4 and values 2 and 3 are swapped.  See example.
<p>
    <b>define(</b><i>namelist</i><b>)</b> uses names as value label names for the created
        variables. Default is to use new variables' names as value label
        names.
<p>
    <b>nolabel</b> specifies that no value labels will be defined for the new
        variables.
<p>
    <b>numlabel</b> indicates that there is a numeric prefix assigned to the value
        labels by numlabel. If a <b>numlabel</b> command has been used previously
        value labels defined by <b>revv</b> will not be appropriate, unless <b>numlabel</b>
        is specified.
<p>
<p>
<b><u>Examples</u></b>
<p>
    Suppose three variables containing information on respondents attitudes
    towards some issue. Variable <i>var1</i> has values 1 'strongly agree' to 5
    'strongly disagree', <i>var2</i> has values 1 'very important' to 7 'not
    important at all' and <i>var3</i> has values 1 'always' to 4 'never'. For some
    reason we want to reverse the value order of all three variables, so <i>var1</i>
    has values 1 'strongly disagree' to 5 'strongly agree' and so on. We can
    do so typing something like:
<p>
        <b>. recode var1 (5 = 1)(4 = 2)(2 = 4)(1 = 5) ,prefix(rec_)</b>
        <b>. recode var2 (7 = 1)(6 = 2)(5 = 3)(3 = 5)(2 = 6)(1 = 7)</b>
            <b>,prefix(rec_)</b>
        <b>. recode var3 (4 = 1)(3 = 2)(2 = 3)(1 = 4) ,prefix(rec_)</b>
<p>
    We get the same result (and appropriate value labels) typing:
<p>
        <b>. revv var1 var2 var3 ,prefix(rec_)</b>
<p>
<p>
    <u>How to use the </u><b><u>valid()</u></b><u> option</u>
<p>
        . tabulate var1
<p>
                     var1 |      Freq.     Percent        Cum.
        ------------------+-----------------------------------
                    agree |          2       14.29       14.29
                undecided |          3       21.43       35.71
                 disagree |          4       28.57       64.29
        strongly disagree |          5       35.71      100.00
        ------------------+-----------------------------------
                    Total |         14      100.00
<p>
        . label list var1
        var1:
                   1 strongly agree
                   2 agree
                   3 undecided
                   4 disagree
                   5 strongly disagree
                   9 missing
<p>
    Note that the minimum valid value in the data (which is 2) is not the
    theoretical minimum value in the underlying Likert-item (which is 1).
    Without specifying <b>valid()</b> you will get:
<p>
        <b>. revv var1</b>
<p>
        . tabulate rv_var1
<p>
                  rv_var1 |      Freq.     Percent        Cum.
        ------------------+-----------------------------------
        strongly disagree |          5       35.71       35.71
                 disagree |          4       28.57       64.29
                undecided |          3       21.43       85.71
                    agree |          2       14.29      100.00
        ------------------+-----------------------------------
                    Total |         14      100.00
        . label list rv_var1
        
        rv_var1:
                  1 strongly agree
                  2 strongly disagree
                  3 disagree
                  4 undecided
                  5 agree
                  9 missing
<p>
    Note that 'strongly agree' is coded '2', whereas you want it to be coded
    '1'. Specifying the <b>valid()</b> option gives the appropriate result
<p>
        <b>. revv var1 ,valid(1/5)</b>
<p>
        . tabulate rv_var1
<p>
                 rv_var1  |      Freq.     Percent        Cum.
        ------------------+-----------------------------------
        strongly disagree |          5       35.71       35.71
                 disagree |          4       28.57       64.29
                undecided |          3       21.43       85.71
                    agree |          2       14.29      100.00
        ------------------+-----------------------------------
                    Total |         14      100.00
<p>
        . label list rv_var1
        rv_var1:
                  1 strongly disagree
                  2 disagree
                  3 undecided
                  4 agree
                  5 strongly agree
                  9 missing
<p>
                          
<b><u>Acknowledgments</u></b>
<p>
    There are several programs that serve the same purpose as <b>revv</b>.  The
    <b>omscore</b> command written by Marc Jacobs in 1992, <b>revrs</b> by Kyle C. Longest,
    <b>reverse</b> by Johan Martinsson (which is not available form SSC yet) and the
    <b>vreverse</b> command by Nicholas J. Cox, to name a view. Implemented in
    official Stata there is the <b>gsort</b> command which can (in some cases) be
    used to reverse the value order of variables. Looking at these programs
    was very helpful writing <b>revv</b>. I have tried to combine their strengths
    and overcome their shortcomings.
<p>
    <b>revv</b> enables the user to specify a list of variables (as revrs and gsort)
    rather than only one variable and allows a user defined name for the
    created new variables (as reverse, vreverse and gsort).  Extended missing
    values are left unchanged and copied to the new variable (as revrs does).
    <b>revv</b> handles non-integer values and the user may specify valid values
    that are not in the data. The command applies to value labels, too (as
    revrs and vreverse). Value labels are reversed for all valid values
    (either in the data or given by the user) and left unchanged if there are
    no corresponding valid values.  <b>revv</b> can also handle a previously used 
    numlabel command (probably not as well as vreverse does though).
<p>
<b><u>Author</u></b>
<p>
    Daniel Klein, University of Bamberg, klein.daniel.81@gmail.com
<p>
<b><u>Also see</u></b>
<p>
    Online: gsort, recode, label
<p>
    if installed: omscore, revrs, vreverse
</pre>