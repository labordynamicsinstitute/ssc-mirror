<pre>
-------------------------------------------------------------------------------
<b>help: </b><b>r2sem</b>                                                        <b>dialog:</b> <b>r2se</b>
<b>&gt; m</b>
-------------------------------------------------------------------------------
<p>
<b>        </b>+-------+
<b>    </b>----+<b> Title </b>+------------------------------------------------------------
<p>
<b> r2sem: Overall SEM R2 - Adjusted R2 - F Test - Chi2 Test</b>
<p>
<b>        </b>+--------+
<b>    </b>----+<b> Syntax </b>+-----------------------------------------------------------
<p>
<b> r2sem</b>
<p>
<b>        </b>+-------------+
<b>    </b>----+<b> Description </b>+------------------------------------------------------
<p>
  r2sem computes overall system R-squared (R2), Adjusted R2, and the overall
  significance of F-Test, and Chi2-Test, after:
   - (SEM) Structural Equation Modeling <b>sem</b> for systems of simultaneous
  equations.
<p>
  r2sem used Four types of criteria and tests, as discussed in:
  <b>McElroy(1977), Judge et al(1985), Greene(1993), and Berndt(1991)</b>.
 
      see eq.12.1.33-36 in Judge et al(1985, p.477).
<p>
   <b>1- Berndt  System R2</b> = 1-|E'E|  / |Yb'Yb|
   <b>2- McElroy System R2</b> = 1-(U'W*U)/ (Y'W*Y)
   <b>3- Judge   System R2</b> = 1-(U'U)  / (Y'Y)
   <b>4- Greene  System R2</b> = 1-(Q/trace(inv(Sig))*SYs)
<p>
  From each type of these system R2's, <b>r2sem</b> can calculate Adjusted R2,
  F-Test, and Chi2-Test:
<p>
    <b>Adjusted R2</b> = 1-(1-R2)*((QN-Q)/(QN-K))
         <b>F-Test</b> = R2/(1-R2)*[(QN-K)/(K-Q)]
      <b>Chi2-Test</b> = -N*(log(1-R2))
<p>
where
   |E'E| = determinant of residual matrix (NxQ)
 |Yb'Yb| = determinant of dependent variables matrix in deviation from mean (Nx
&gt; Q)
      yi = dependent variable of eq. i (Nx1)
       Y = stacked vector of dependent variables (QNx1)
       U = stacked vector of residuals (QNx1)
       W = variance-covariance matrix of residuals (W=inv(Omega) # I(N))
       N = number of observations
       K = Number of Parameters
       Q = Number of Equations
     R2i = R2 of eq. i
      Dt = I(N)-JJ'/N, with J=(1,1,...,1)' (Nx1)
     SYs = (Yb1*Yb2*...Ybq)/N
     Sig = Sigma hat Matrix
 Degrees of Freedom F-Test    = (K-Q), (QN)
 Degrees of Freedom Chi2-Test = (K-Q)
 Log Determinant of Sigma     = log|Sigma matrix|
<p>
<b>        </b>+---------------+
<b>    </b>----+<b> Saved Results </b>+----------------------------------------------------
<p>
    <b>r2sem</b> saves the following in <b>r()</b>:
<p>
    Scalars   
      <b>r(N)</b>           Number of Observations
      <b>r(k)</b>           Number of Parameters
      <b>r(k_eq)</b>        Number of Equations
      <b>r(chi_df)</b>      DF chi-squared
      <b>r(f_df1)</b>       F-Test DF1 Numerator
      <b>r(f_df2)</b>       F-Test DF2 Denominator
      <b>r(r2_b)</b>        Berndt R-squared
      <b>r(r2_j)</b>        Judge R-squared
      <b>r(r2_m)</b>        McElroy R-squared
      <b>r(r2_g)</b>        Greene R-squared
      <b>r(r2a_b)</b>       Berndt Adjusted R-squared
      <b>r(r2a_j)</b>       Judge Adjusted R-squared
      <b>r(r2a_m)</b>       McElroy Adjusted R-squared
      <b>r(r2a_g)</b>       Greene Adjusted R-squared
      <b>r(f_b)</b>         Berndt F Test
      <b>r(f_j)</b>         Judge F Test
      <b>r(f_m)</b>         McElroy F Test
      <b>r(f_g)</b>         Greene F Test
      <b>r(chi_b)</b>       Berndt Chi2 Test
      <b>r(chi_j)</b>       Judge Chi2 Test
      <b>r(chi_m)</b>       McElroy Chi2 Test
      <b>r(chi_g)</b>       Greene Chi2 Test
      <b>r(lsig2)</b>       Log Determinant of Sigma
      <b>r(llf)</b>         Log Likelihood Function
<p>
<b>        </b>+----------+
<b>    </b>----+<b> Examples </b>+---------------------------------------------------------
<p>
 in this example FIML will be used as follows:
<p>
        clear all
<p>
        sysuse r2sem.dta , clear
<p>
        sem (y1 &lt;- y2 x1 x2) (y2 &lt;- y1 x3 x4), cov(e.y1*e.y2)
<p>
        r2sem
<p>
        return list
<p>
 * If you want to use dialog box: Press OK to compute r2sem
<p>
        db r2sem
<p>
. sysuse r2sem.dta , clear
. sem (y1 &lt;- y2 x1 x2) (y2 &lt;- y1 x3 x4), cov(e.y1*e.y2)
<p>
<p>
Structural equation model                       Number of obs      =        17
Estimation method  = ml
Log likelihood     = -363.34588
------------------------------------------------------------------------------
             |                 OIM
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
Structural   |
  y1 &lt;-      |
          y2 |   .2425937   .2106232     1.15   0.249    -.1702201    .6554075
          x1 |   .2568409    .462485     0.56   0.579     -.649613    1.163295
          x2 |  -1.037016   .3154059    -3.29   0.001      -1.6552   -.4188317
       _cons |   147.0826    54.4491     2.70   0.007     40.36431    253.8009
  -----------+----------------------------------------------------------------
  y2 &lt;-      |
          y1 |  -.6282929   .6148239    -1.02   0.307    -1.833326    .5767398
          x3 |  -.5226661   .3235637    -1.62   0.106    -1.156839    .1115071
          x4 |     3.4208   1.440664     2.37   0.018     .5971513    6.244449
       _cons |   62.44495   42.36071     1.47   0.140    -20.58052    145.4704
-------------+----------------------------------------------------------------
Variance     |
        e.y1 |   80.17577   28.99122                      39.46865    162.8673
        e.y2 |   142.4478   80.80501                      46.86006    433.0208
-------------+----------------------------------------------------------------
Covariance   |
  e.y1       |
        e.y2 |   25.62619   53.75243     0.48   0.634    -79.72665     130.979
------------------------------------------------------------------------------
LR test of model vs. saturated: chi2(2)   =      0.12, Prob &gt; chi2 = 0.9408
<p>
. r2sem
==============================================================================
* Structural Equation Modeling: SEM - Method(ml)
* Overall System R2 - Adjusted R2 - F-Test - Chi2-Test
==============================================================================
<p>
+----------------------------------------------------------------------------+
|     Name |       R2 |   Adj_R2 |        F |  P-Value |     Chi2 |  P-Value |
|----------+----------+----------+----------+----------+----------+----------|
|   Berndt |   0.9189 |   0.8962 |  40.4497 |   0.0000 |  42.6990 |   0.0000 |
|  McElroy |   0.8043 |   0.7495 |  14.6785 |   0.0000 |  27.7303 |   0.0002 |
|    Judge |   0.8227 |   0.7731 |  16.5746 |   0.0000 |  29.4107 |   0.0001 |
|   Greene |   0.8096 |   0.7563 |  15.1863 |   0.0000 |  28.1969 |   0.0002 |
+----------------------------------------------------------------------------+
  Number of Parameters         =           9
  Number of Equations          =           2
  Degrees of Freedom F-Test    =      (7, 34)
  Degrees of Freedom Chi2-Test =           7
  Log Determinant of Sigma     =      9.2840
  Log Likelihood Function      =   -363.3459
<p>
<b>        </b>+------------+
<b>    </b>----+<b> References </b>+-------------------------------------------------------
<p>
    Berndt, Ernst R. (1991)<b> "The practice of econometrics: Classical and</b>
        <b>contemporary",</b> <i>Addison-Wesley Publishing Company</i>; 468.
<p>
    Greene, William (1993)<b> "Econometric Analysis",</b> <i>2nd ed., Macmillan</i>
        <i>Publishing Company Inc., New York, USA.</i>; 490-491.
<p>
    Judge, Georege, W. E. Griffiths, R. Carter Hill, Helmut Lutkepohl, &amp;
        Tsoung-Chao Lee(1985)<b> "The Theory and Practice of Econometrics",</b> <i>2nd</i>
        <i>ed., John Wiley &amp; Sons, Inc., New York, USA</i>; 477-478.
<p>
    Kmenta, Jan (1986)<b> "Elements of Econometrics",</b> <i>2nd ed., Macmillan</i>
        <i>Publishing Company, Inc., New York, USA</i>; 645.
<p>
    McElroy, Marjorie B. (1977)<b> "Goodness of Fit for Seemingly Unrelated</b>
        <b>Regressions: Glahn's R2y,x and Hooper's r~2",</b> <i>Journal of</i>
        <i>Econometrics, 6(3), November</i>; 381-387.
<p>
<b>        </b>+--------+
<b>    </b>----+<b> Author </b>+-----------------------------------------------------------
<p>
  <b>Emad Abd Elmessih Shehata</b>
  <b>Assistant Professor</b>
  <b>Agricultural Research Center - Agricultural Economics Research Institute - Eg</b>
<b>&gt; ypt</b>
  <b>Email:   </b>emadstat@hotmail.com
  <b>WebPage:                </b>http://emadstat.110mb.com/stata.htm
  <b>WebPage at IDEAS:       </b>http://ideas.repec.org/f/psh494.html
  <b>WebPage at EconPapers:  </b>http://econpapers.repec.org/RAS/psh494.htm
<p>
<b>        </b>+----------------+
<b>    </b>----+<b> r2sem Citation </b>+---------------------------------------------------
<p>
    <b>Shehata, Emad Abd Elmessih (2012)</b>
    <b>R2SEM: "Stata Module to Compute Overall R2, Adj. R2, F-Test, and</b>
        <b>Chi2-Test after Structural Equation Modeling (SEM) Regressions"</b>
<p>
<b><u>Online Help:</u></b>
<p>
  <b>lmasem</b>, <b>lmhsem</b>, <b>lmnsem</b>, <b>lmcovsem</b>, <b>r2sem</b>,
  <b>lmareg3</b>, <b>lmhreg3</b>, <b>lmnreg3</b>, <b>lmcovreg3</b>, <b>r2reg3</b>. <b>(</b><i>if installed</i><b>)</b>.
<p>
<p>
</pre>