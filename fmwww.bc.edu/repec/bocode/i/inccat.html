<pre>
-------------------------------------------------------------------------------
help for <b>inccat</b>                                                  (Roger Newson)
-------------------------------------------------------------------------------
<p>
<p>
<b><u>Concatenate one or more input files to an output file inserting additional inpu</u></b>
<b><u>&gt; t files</u></b>
<p>
        <b>inccat</b> <i>infilename_list</i> , <b><u>t</u></b><b>o(</b><i>outfilename</i><b>)</b> [ <b>replace</b>
               <b><u>pr</u></b><b>efix(</b><i>prefix_string</i><b>)</b> <b><u>po</u></b><b>stfix(</b><i>postfix_string</i><b>)</b> <b><u>hm</u></b><b>ax(</b><i>#</i><b>)</b>
<p>
where <i>infilename_list</i> is a list of names of existing text files separated by
spaces.
<p>
<p>
<b><u>Description</u></b>
<p>
<b>inccat</b> ("<i>inc</i>lude and con<i>cat</i>enate") takes, as input, a list of one or more input
files, and concatenates them to an output file.  Optionally, one or more of the
input files may contain one or more lines beginning with a user-specified
prefix and continuing with a list of valid file names belonging to additional
input files, and each such line is replaced in the output file by the contents
of these files. These additional input files can contain prefixed lines with
lists of further additional input files, which are also included in the same
way.
<p>
<p>
<b><u>Options</u></b>
<p>
<b>to()</b> specifies an output file, to be created by <b>inccat</b>, containing the
    concatenation of the input files, including additional input files listed
    in prefixed lines.
<p>
<b>replace</b> specifies that, if a file exists with the name specified by <b>to()</b>, then
    that file is to be overwritten.
<p>
<b>prefix(</b><i>prefix_string</i><b>)</b> specifies a prefix string. If <b>prefix()</b> is specified, then
    lines in the input files beginning with <i>prefix_string</i> will be assumed to
    contain a list of one or more file names, and the line is replaced in the
    output file by the contents of these files.  The prefix string may contain
    spaces, but must be at the beginning of a line to be recognised.
<p>
<b>postfix(</b><i>postfix_string</i><b>)</b> specifies a postfix string. If <b>prefix()</b> and <b>postfix()</b>
    are both specified, then the postfix string acts as a terminator for file
    lists in lines beginning with the prefix string. The postfix string must be
    a valid Stata token, and therefore must be separated from the last file in
    the list by at least one space, and may not contain spaces, except if it
    begins and ends with quotes. If <b>prefix()</b> is not specified, then <b>postfix()</b>
    is ignored.
<p>
<b>hmax(</b><i>#</i><b>)</b> specifies the maximum height of a family tree where the nodes are input
    files, the root is one of the original list of input files in
    <i>infilename_list</i>, and the daughters of any input file are the input files
    named in prefixed lines in that file. In default, this maximum height is
    31. If an input file of generation <b>hmax</b> contains any prefixed lines, then
    these prefixed lines are copied to the output file, not replaced by the
    contents of the files listed in these prefixed lines. The option <b>hmax</b>
    exists to prevent {inccat} from attempting to create infinite files, as
    might happen if an input file contains a prefixed line listing itself.
<p>
<p>
<b><u>Remarks</u></b>
<p>
<b>inccat</b> is an extended version of <b>copy</b>. The file inclusion enabled by prefixed
lines is useful if the user wants to create HTML files containing tables with
rows created by listtex (downloadable from SSC) and updated from time to time.
<b>inccat</b> takes advantage of the fact that the Stata language is recursive (like C
or Pascal), so that a program can call itself.
<p>
<p>
<b><u>Examples</u></b>
<p>
                . inccat myfile1.txt myfile2.txt myfile3.txt myfile4.txt,
                    to(mynewfile1.txt) replace
<p>
                . inccat myfile1.txt myfile2.txt myfile3.txt myfile4.txt,
                    to(mynewfile2.txt) pre(!include) replace
<p>
The following advanced example uses prefixed lines to create an updatable HTML
file with a table containing some of the <b>auto</b> data. Suppose the user has a file
<b>auto1_r.htm</b>, containing HTML code for the heading (but not the rows) of a
simple table, as follows:
<p>
                &lt;table border="1"&gt;
                &lt;caption&gt;Weight and mileage in US and non-US cars&lt;/caption&gt;
                &lt;tr&gt;&lt;th&gt;Make&lt;/th&gt;&lt;th&gt;Origin&lt;/th&gt;&lt;th&gt;Weight
                    (lbs.)&lt;/th&gt;&lt;th&gt;Mileage (mpg)&lt;/th&gt;&lt;/tr&gt;
                &lt;!--include rows1.htm --&gt;
                &lt;/table&gt;
<p>
Note that the fourth line (&lt;!--include rows1.htm --&gt;) is a comment in HTML.  If
the user has the listtex package, downloadable from SSC, then s/he might then
type, in Stata:
<p>
                . listtex make foreign weight mpg using rows1.htm, b(&lt;tr&gt;&lt;td&gt;)
                    d(&lt;/td&gt;&lt;td&gt;) e(&lt;/td&gt;&lt;/tr&gt;) replace
                . inccat auto1_r.htm, to(auto1.htm) prefix(&lt;!--include)
                    postfix(--&gt;) replace
<p>
The first line will use listtex to create a text file <b>rows1.htm</b>, containing the
table rows.  The second line will use <b>inccat</b> to copy <b>auto1_r.htm</b> to <b>auto.htm</b>,
replacing the line
<p>
                &lt;!--include rows1.htm --&gt;
<p>
with the table rows in <b>rows1.htm</b>. The file <b>auto1.htm</b> will then contain a simple
HTML table giving weight and mileage in US and non-US cars. The user can update
the table, if the <b>auto</b> data set is ever updated.
<p>
Similar things can be done with <b>stata.toc</b> files in a user's website, if the
user wishes to keep the lines beginning with <b>p</b> and listing packages in one file
(revised regularly by <b>listtex</b>) and the other lines in another file (revised
occasionally). See on-line help for net.
<p>
<p>
<b><u>Author</u></b>
<p>
Roger Newson, Imperial College London, UK.  Email: r.newson@imperial.ac.uk
<p>
<p>
<b><u>Also see</u></b>
<p>
 Manual:  <b>[R] copy</b>,<b> [R] shell</b>, <b>[R] net</b>
On-line:  help for copy, shell, net
          help for listtex if installed
</pre>