<pre>
help for <b>frm</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
    <b>frm</b> --  Estimation of one-part and two-part fractional regression models
<p>
<p>
<b><u>Syntax</u></b>
<p>
        <b>frm</b> <i>depvar</i> <i>indepvars</i> [<i>if</i>] [<i>in</i>] [<b>,</b> <i>options</i>]
<p>
    <i>options</i>                     Description
    -------------------------------------------------------------------------
    <b><u>m</u></b><b>odel(</b><i>mod_type</i><b>)</b>             specify the fractional regression model to be
                                  estimated
    <b><u>linkb</u></b><b>in(</b><i>binary_linkname</i><b>)</b>    specify the link function for the binary
                                  component of a two-part regression model
    <b><u>linkf</u></b><b>rac(</b><i>frac_linkname</i><b>)</b>     specify the link function for a one-part
                                  fractional regression model or the
                                  fractional component of a two-part
                                  fractional regression model
    <b><u>cl</u></b><b>uster(</b><i>clustvar</i><b>)</b>           specify that the standard errors allow for
                                  intragroup correlation
    <b><u>inf</u></b><b>lation(</b><i>2P_indicator</i><b>)</b>     specify which of the extreme values of 0 or 1
                                  is the relevant boundary value for defining
                                  two-part fractional regression models
    <b>y2P(</b><i>newvar</i><b>)</b>                 save the predicted values of the dependent
                                  variable of a two-part fractional
                                  regression model
    <i>maximize_options</i>            control the maximization process
    -------------------------------------------------------------------------
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>frm</b> estimates one- and two-part fractional regression models; see
    Ramalho, Ramalho and Murteira (2011) for details on those models. The
    one-part models and the fractional component of two-part models are
    estimated by Bernoulli-based quasi-maximum likelihood (using by default a
    robust estimator of the covariance matrix), while the binary component of
    two-part models is estimated by maximum likelihood (using by default a
    standard - oim - estimator of the covariance matrix). <b>frm</b> uses standard
    Stata commands to perform the estimations (<b>glm</b>, <b>logit</b>, <b>probit</b> or
    <b>cloglog</b>). Therefore, <b>frm</b> is essentially a convenience command, allowing
    estimation of several alternative fractional regression models using the
    same command. In addition, <b>frm</b> provides an R-squared measure for all
    models (calculated as the square of the correlation coefficient between
    the actual and fitted values of the dependent variable), calculates the
    fitted values of the dependent variable in two-part models and stores the
    information needed to implement some very useful commands for fractional
    regression models: frm_reset (RESET test), frm_ptest (P test) and frm_pe
    (partial effects).
<p>
<p>
<b><u>Options</u></b>
<p>
    <b>model(</b><i>mod_type</i><b>)</b> specifies which kind of fractional regression model is to
        be estimated; the following models are allowed:
<p>
        <b>model(1P)</b> specifies to estimate a one-part fractional regression
        model.
<p>
        <b>model(2Pbin)</b> specifies to estimate the binary component of a two-part
        fractional regression model.
<p>
        <b>model(2Pfrac)</b> specifies to estimate the fractional component of a
        two-part fractional regression model.
<p>
        <b>model(2P)</b> specifies to estimate both components of a two-part
        fractional regression model.
<p>
        The default is <b>model(1P)</b>.
<p>
    <b>linkbin(</b><i>binary_linkname</i><b>)</b> specifies the link function to use in the binary
        component of the two-part fractional regression model; the following
        links are allowed:
<p>
        <b>linkbin(logit)</b> specifies to use a logit link function.
<p>
        <b>linkbin(probit)</b> specifies to use a probit link function.
<p>
        <b>linkbin(loglog)</b> specifies to use a loglog link function.
<p>
        <b>linkbin(cloglog)</b> specifies to use a cloglog link function.
<p>
        The default is <b>linkbin(logit)</b>.
<p>
    <b>linkfrac(</b><i>frac_linkname</i><b>)</b> specifies the link function to use in a one-part
        fractional regression model or in the fractional component of the
        two-part fractional regression model; the following links are
        allowed:
<p>
        <b>linkfrac(logit)</b> specifies to use a logit link function.
<p>
        <b>linkfrac(probit)</b> specifies to use a probit link function.
<p>
        <b>linkfrac(loglog)</b> specifies to use a loglog link function.
<p>
        <b>linkfrac(cloglog)</b> specifies to use a cloglog link function.
<p>
        The default is <b>linkfrac(logit)</b>.
<p>
    <b>cluster(</b><i>clustvar</i><b>)</b> specifies that that the standard errors allow for
        intragroup correlation, relaxing the usual requirement that the
        observations be independent.  That is, the observations are
        independent across groups (clusters) but not necessarily within
        groups. <i>clustvar</i> specifies to which group each observation belongs.
        <b>cluster(clustvar)</b> affects the standard errors and variance-covariance
        matrix of the estimators but not the estimated coefficients.
<p>
    <b>inflation(</b><i>2P_indicator</i><b>)</b> specifies which of the extreme values of 0 or 1
        is the relevant boundary value for defining two-part fractional
        regression models; the following options are allowed:
<p>
        <b>inflation(0)</b> specifies that the relevant boundary value is 0.
<p>
        <b>inflation(1)</b> specifies that the relevant boundary value is 1.
<p>
        The default is <b>inflation(0)</b>.
<p>
    <b>y2P(</b><i>newvar</i><b>)</b> specifies that the fitted values of the dependent variable in
        two-part fractional regression models is to be saved under the name
        <i>newvar</i>.  This option can be used only with option <b>model(2P)</b>.
<p>
<a name="maximize_options"></a>    <i>maximize_options</i>:  <b><u>tech</u></b><b>nique(</b><i>algorithm_spec</i><b>)</b>, <b><u>iter</u></b><b>ate(</b><i>#</i><b>)</b>, <b><u>tr</u></b><b>ace</b>,
        <b><u>dif</u></b><b>ficult</b>, <b><u>grad</u></b><b>ient</b>, <b>showstep</b>, <b><u>hess</u></b><b>ian</b>, <b><u>showtol</u></b><b>erance</b>, <b><u>tol</u></b><b>erance(</b><i>#</i><b>)</b>,
        <b><u>ltol</u></b><b>erance(</b><i>#</i><b>)</b>, <b><u>nrtol</u></b><b>erance(</b><i>#</i><b>)</b>, <b>from(</b><i>init_specs</i><b>)</b>; see <b>[R] maximize</b> for
        details.
<p>
<p>
<b><u>Examples</u></b>
<p>
    Setup - data used in Ramalho, Ramalho and Henriques (2010)
        <b>. use http://evunix.uevora.pt/~jsr/stata/JPA-2010.dta</b>
<p>
    <b>frm</b> estimation of a logit fractional regression model
        <b>. frm SCORE LANDLORD LIVESTOCK CROP SIZE SUBSIDIES ALTO CENTRAL BAIXO</b>
<p>
    <b>frm</b> estimation of the binary logit component of the two-part fractional
    regression model with <b>SCORE</b>=1 as the relevant boundary value
        <b>. frm SCORE LANDLORD LIVESTOCK CROP SIZE SUBSIDIES ALTO CENTRAL</b>
            <b>BAIXO, model(2Pbin) inf(1)</b>
<p>
    <b>frm</b> estimation of the fractional component of the two-part fractional
    regression model with <b>SCORE</b>=1 as the relevant boundary value and using a
    probit link function
        <b>. frm SCORE LANDLORD LIVESTOCK CROP SIZE SUBSIDIES ALTO CENTRAL</b>
            <b>BAIXO, model(2Pfrac) linkf(probit) inf(1)</b>
<p>
    <b>frm</b> estimation of both components of a two-part fractional regression
    model with <b>SCORE</b>=1 as the relevant boundary value and using a cloglog
    binary link function and a logit fractional link function
        <b>. frm SCORE LANDLORD LIVESTOCK CROP SIZE SUBSIDIES ALTO CENTRAL</b>
            <b>BAIXO, model(2P) linkb(cloglog) inf(1)</b>
<p>
<p>
<b><u>Saved results</u></b>
<p>
    The results saved by <b>frm</b> depends on <b>model(</b><i>mod_type</i><b>)</b>, as follows:
<p>
    <b>model(2P)</b>: no results are saved.
<p>
    <b>model(1P)</b>: in addition to the usual results saved after <b>glm</b>, with <b>e(cmd)</b>
    and <b>e(cmdline)</b> changed as appropriate, <b>frm</b> also saves the following:
<p>
     Scalars       
      <b>e(R2)</b>               R squared
<p>
     Macros        
      <b>e(model)</b>            model type
      <b>e(linkfrac)</b>         fractional link function
<p>
    <b>model(2Pbin)</b>: in addition to the usual results saved after <b>logit</b>, <b>probit</b>,
    <b>cloglog</b> or <b>glm</b> (loglog link), with <b>e(cmd)</b> and <b>e(cmdline)</b> changed as
    appropriate, <b>frm</b> also saves the following:
<p>
     Scalars       
      <b>e(inflation)</b>        boundary value defining two-part models
      <b>e(R2)</b>               R squared
<p>
     Macros        
      <b>e(model)</b>            model type
      <b>e(linkbin)</b>          binary link function
<p>
    <b>model(2Pfrac)</b>: in addition to the usual results saved after <b>glm</b>, with
    <b>e(cmd)</b> and <b>e(cmdline)</b> changed as appropriate, <b>frm</b> also saves the
    following:
<p>
     Scalars       
      <b>e(inflation)</b>        boundary value defining two-part models
      <b>e(R2)</b>               R squared
<p>
     Macros        
      <b>e(model)</b>            model type
      <b>e(linkfrac)</b>         fractional link function
<p>
<p>
<b><u>Author</u></b>
<p>
    Joaquim J.S. Ramalho
    Department of Economics
    University of Evora
    Portugal
    jsr@uevora.pt
<p>
<p>
<b><u>Remarks</u></b>
<p>
    <b>frm</b> is not an official Stata command. For further help and support,
    please contact the author. Please notice that this software is provided
    as is, without warranty of any kind, expressed or implied, including but
    not limited to the warranties of merchantability, fitness for a
    particular purpose, and noninfringement. In no event shall the author be
    liable for any claim, damages, or other liability, whether in an action
    of contract, tort, or otherwise, arising from, out of, or in connection
    with the software or the use or other dealings in the software.
<p>
<p>
<b><u>Reference</u></b>
<p>
    Ramalho, E.A., J.J.S. Ramalho and J.M.R. Murteira (2011), "Alternative
        estimating and testing empirical strategies for fractional regression
        models", Journal of Economic Surveys, 25(1), 19-68.
<p>
    Ramalho, E.A., J.J.S. Ramalho and P.D. Henriques (2010), "Fractional
        regression models for second stage DEA efficiency analyses", Journal
        of Productivity Analysis, 34(3), 239-255.
<p>
<p>
<b><u>Also see</u></b>
<p>
    Online: help for frm_reset, frm_ptest and frm_pe
<p>
    Manual: <b>[R] glm</b>, <b>[R] logit</b>, <b>[R] probit</b>, <b>[R] cloglog</b>
</pre>