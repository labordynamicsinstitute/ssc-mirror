<pre>
-------------------------------------------------------------------------------
help for <b>lgraph</b> (Requires Version 9)                            (Version 2.0.0)
-------------------------------------------------------------------------------
<p>
<b><u>Tool for drawing line graphs</u></b>
<p>
        <b>lgraph</b> <i>yvar</i> <i>xvar</i> [<i>groupvar</i>] [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] [<i>weight</i>] [<b>,</b>
                      <b><u>err</u></b><b>ortype(sd|se|</b><i>#</i><b>)</b> <b><u>nol</u></b><b>egend</b> <b><u>sep</u></b><b>arate(</b><i>#</i><b>)</b> <b>median</b>
                      <b><u>q</u></b><b>uantile(</b><i># #</i><b>)</b> <b>minmax</b> <b>bw</b> <b>fit(lfit|qfit)</b> <b><u>nom</u></b><b>arker</b>
                      <b><u>lop</u></b><b>tions(</b><i>line_options</i><b>)</b> <b><u>eop</u></b><b>tions(</b><i>error_bar_options</i><b>)</b>
                      <b><u>fop</u></b><b>tions(</b><i>fitted_line_options</i><b>)</b> <i>other_graph_options</i>]
<p>
    where <i>yvar</i> is the variable for which the mean will be plotted on the
    y-axis, and <i>xvar</i> is the variable that is plotted on the x-axis. It has to
    be a numeric variable. <i>groupvar</i> is the variable by which the lines will
    be grouped. It must be a numeric variable with group names given in their
    value labels.
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>lgraph</b> is a tool for drawing line graphs with optional error bars
    optionally stratified by a variable. The same can be achieved by
    collapsing the data using <b>collapse</b> and <b>twoway</b>. This command provides a
    shortcut for drawing common line graphs. Most options that are available
    to <b>twoway</b> are also available with <b>lgraph</b>.
<p>
<b><u>Options</u></b>
<p>
    <b>errortype(sd|se|</b><i>#</i><b>)</b> specifies what should make up the error bars. <b>sd</b> gives
        standard deviations. <b>se</b> gives standard error, and <i>#</i> specifies the <i>#</i> %
        confidence interval of the mean.  It can take any value from 50 to
        100.
<p>
    <b>nolegend</b> specifies that the legend should not be given.
<p>
    <b>separate(</b><i>#</i><b>)</b> causes the points that are plotted to be slightly shifted so
        that the error bars do not overlap. <i>#</i> will usually be in the range of
        0.001 to 0.05. By default, points are not shifted.
<p>
    <b>median</b> causes the median to be plotted instead of the mean
<p>
    <b><u>q</u></b><b>uantile(</b><i># #</i><b>)</b> causes quantiles to be plotted as error bars. Specify the
        upper and lower quantiles in the bracket separated by a space, eg
        <b>quantile(25 75)</b>.
<p>
    <b>minmax</b> causes the minimum and maximum values to be plotted as error bars.
<p>
    <b>bw</b> causes the graph to be plotted in black and white.
<p>
    <b>fit(lfit|qfit)</b> causes a fitted line to be plotted instead of the
        connected line. Two types of fit are possible: linear and quadratic,
        corresponding to the twoway_lfit and twoway_qfit commands.  The fit
        of the lines are weighted by the number of observations that go into
        each plotted mean, corresponding to using the<i> aweight</i> option in<b> reg</b>.
        <i>Note that in fact all</i><i> twoway</i><i> subcommands can be used. Even a bar</i>
        <i>graph can be produced when combined with the</i><i> separate</i><i> option.</i>
<p>
    <b>nomarker</b> suppresses the plotting of markers in the graph, thereby
        rendering it a<i> line</i> graph instead of a<i> connected</i> graph.
<p>
    <b>loptions(</b><i>line_options</i><b>)</b> allows extra options to be passed to 
        twoway_connected concerning the drawing of the lines. Options should
        be preceeded by a number to indicate which line (unless only one line
        is drawn) it refers to and separated by a semicolon for different
        lines. e.g.<b>  loptions(3 mcolor(red) lcolor(red) ;1 mcolor(green)</b>
        <b>lcolor(green))</b> will cause the first line to be drawn in red and the
        second line to be drawn in green.  Here the first line refers to the
        group whose <i>groupvar</i> = 3, and the second refers to the group whose
        <i>groupvar</i> = 1. If no number preceds the options, the option will be
        applied to all lines.  e.g.<b>  loptions(lpat(dot) ; 1 lcolor(green))</b>
        causes all lines to be dotted and the line whose <i>groupvar</i> = 1 to be
        plotted in green.
<p>
    <b>eoptions(</b><i>line_options</i><b>)</b> allows extra options to be passed to twoway_rcap
        concerning the drawing of the error bars. The same format applies as
        in<b> loptions</b>.
<p>
    <b>foptions(</b><i>line_options</i><b>)</b> allows extra options to be passed to twoway_lfit
        or twoway_qfit for the fitted lines. Again the same format applies as
        in<b> loptions</b>.
<p>
    <i>other_graph_options</i>. Include all other graph options here.  e.g.
        <b>ytitle("Mean number of men")</b>, <b>legend(on order(1 "Australia" 2</b>
        <b>"Brazil"))</b>, etc... Titles and legends given here will override the
        default.
<p>
<b><u>Examples:  Simple line graph plotting the mean price against 1978 repair record</u></b>
<b><u>&gt; , stratified by origin</u></b>
<p>
    <b>. sysuse auto</b>
<p>
    <b>. lgraph price rep78 foreign, errortype(sd) separate(0.01)</b>
<p>
    To plot median and inter-quartile range instead of the mean and standard de
&gt; viation... 
<p>
    <b>. lgraph price rep78 foreign, median q(25 75) separate(0.01)</b>
<p>
    To make the lines thicker and to suppress the marker... 
<p>
    <b>. lgraph price rep78 foreign, errortype(sd) separate(0.01) scale(1.4)</b>
        <b>nomarker</b>
<p>
    To fit a quadratic line in black and white... 
<p>
    <b>. lgraph price rep78 foreign, fit(qfit) bw</b>
<p>
    To draw even a bar graph... 
<p>
    <b>. lgraph price rep78 foreign, fit(bar) fop(barw(.4)) sep(.1) nomarker</b>
        <b>legend(on order(3 "Domestic" 4 "Foreign"))</b>
<p>
<p>
<b><u>Author</u></b>
<p>
    Timothy Mak
<p>
    Institute of Psychiatry, King's College London
<p>
</pre>