<pre>
<b>help labmv</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
     <b>labmv</b> -- Change numeric values to extended missing values preserving value
labels
<p>
<p>
<b><u>Syntax</u></b>
<p>
        <b>labmv</b> [<i>varlist</i>] [<i>if</i>] [<i>in</i>] <b>, mv(</b><i>numlist</i> | <i>#</i> [<i>mvc</i>]<i> ...</i><b>)</b> [<i>options</i>]
<p>
<p>
     where <i>mvc</i> is one of the extended missing value codes <b>.a</b>|<b>.b</b>|...|<b>.z</b>
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>labmv</b> changes numeric values in a specified <i>varlist</i> to extended missing
    values, preserving their value labels. If no <i>mvc</i> is specified, numeric
    values are changed to consecutive extended missing value codes, starting
    with <b>.a</b>. Thus, the first numeric value specified will be coded <b>.a</b>, the
    second <b>.b</b> and so on.  In value labels, any text associated with numeric
    values will be detached from these values and instead be associated with
    the corresponding missing value code.
<p>
    Up to 26 numeric values may be specified in <b>mv</b>. If <i>varlist</i> is not
    specified it defaults to <b>_all</b>.
<p>
    <b>Reminder:</b> modifiactions in value labels affect all variables that have
    the same value label as one of the variables in <i>varlist</i> attached.
<p>
<p>
<b><u>Options</u></b>
<p>
    <b>mv(</b><i>numlist</i> | <i>#</i> [<i>mvc</i>]<b>)</b> is a required option and specifies numeric values
        to be changed to extended missing value codes. The numeric value
        preceding <i>mvc</i> is changed to <i>mvc</i>.  See Remarks.
<p>
    <b><u>all</u></b><b>vars</b> changes numeric values to extended missing values in all
        variables that have the same value label as one of the variables in
        <i>varlist</i> attached.
<p>
    <b><u>nodel</u></b><b>ete</b> prevents <b>labmv</b> from deleting value labels that are changed. If
        specified numeric missing values and extended missing value codes
        will be associated with the same text.
<p>
    <b><u>f</u></b><b>mvc(</b><i>mvc</i><b>)</b> specifies the first extended missing value code to be used.
        Default is <b>.a</b>. Note that the maximum number of values allowed in <b>mv</b>
        is potentially reduced if <i>mvc</i> &gt; <b>.a</b>.
<p>
    <b><u>en</u></b><b>code</b> changes extended missing value codes to numeric values, preserving
        value labels and, thus, reversing the default behavior. The first
        missing value code (default <b>.a</b>) is changed to the first value
        specified in <b>mv</b> and so on. In <b>mv</b>, <i>mvc</i> is changed to the numeric value
        follwing <i>mvc</i>. See Remarks.
<p>
    <b><u>c</u></b><b>urrent</b> changes value labels in the current label language only.
<p>
<a name="r"></a><p>
<b><u>Remarks</u></b>
<p>
    <b>labmv</b> changes one numeric value to one extended missing value code. In
<p>
        <b>labmv ,mv(1/3)</b>
<p>
    values <b>1</b>, <b>2</b> and <b>3</b> are changed to <b>.a</b>, <b>.b</b> and <b>.c</b> respectively. This is the
    same as
<p>
        <b>labmv ,mv(1 .a 2 .b 3 .c)</b>
<p>
    Specifying <i>mvc</i> changes the numeric value preceding <i>mvc</i> to <i>mvc</i>. In
<p>
        <b>labmv ,mv(1/3 .f)</b>
<p>
    only value <b>3</b> is changed to <b>.f</b>. Values <b>1</b> and <b>2</b> are changed to <b>.a</b> and <b>.b</b>
    respectively.
<p>
    To reverse the above, type
<p>
        <b>labmv ,mv(1 2 .f 3) encode</b>
<p>
    Option <b>fmvc</b> may be specified if <i>mvc</i> is specified in <b>mv</b>. The line
<p>
        <b>labmv ,mv(1/3 .f) fmvc(.y)</b>
<p>
    changes values <b>1</b> and <b>2</b> to <b>.y</b> and <b>.z</b> respectively.  Value <b>3</b> is changed to
    <b>.f</b>.
<p>
    More confusing specifications are allowed. In
<p>
        <b>labmv ,mv(1/3 .f) fmvc(.e)</b>
<p>
    values <b>1</b> and <b>2</b> are changed to <b>.e</b> and <b>.g</b> respectively. Since value <b>3</b> is
    followed by <b>.f</b> it is changed to <b>.f</b>.
<p>
<p>
<b><u>Example</u></b>
<p>
        <b>. sysuse nlsw88</b>
        <b>. tab1 race married</b>
        <b>. label list racelbl marlbl</b>
<p>
    Decode missing values
        <b>. labmv race married ,mv(1 2)</b>
        <b>. tab1 race married</b>
        <b>. tab1 race married ,missing</b>
        <b>. label list racelbl marlbl</b>
<p>
    Encode missing values
        <b>. labmv race married ,mv(1 2) encode</b>
        <b>. tab1 race married</b>
        <b>. label list racelbl marlbl</b>
<p>
<p>
<b><u>Saved results</u></b>
<p>
    <b>labmv</b> saves the following in <b>r()</b>:
<p>
    Macros
      <b>r(values)</b>      numeric values
      <b>r(mvc)</b>         extended missing value codes
      <b>r(varlist)</b>     changed variables (if any)
      <b>r(lblnamelist)</b> changed value labels (if any)
      <b>r(k)</b>           number of numeric values
      <b>r(minmvc)</b>      minimum extended missing value code
      <b>r(maxmvc)</b>      maximum extended missing value code
      <b>r(languages)</b>   label languages (multilingual datasets only)
<p>
<p>
<b><u>Acknowledgments</u></b>
<p>
    <b>labmv</b> is strongly inspired by nepsmiss (Jan Skopek, Daniel Bela).
<p>
    Daniel Possenriede suggested user-defined missing value codes in <b>mv</b>.
<p>
<p>
<b><u>Author</u></b>
<p>
    Daniel Klein, University of Kassel, klein.daniel.81@gmail.com
<p>
<p>
<b><u>Also see</u></b>
<p>
    Online: mvdecode, label
<p>
    if installed: labelmiss, nepsmiss, labutil2
</pre>