<pre>
-------------------------------------------------------------------------------
help for <b>labvarch</b>
-------------------------------------------------------------------------------
<p>
<b><u>Change variable labels</u></b>
<p>
        <b>labvarch</b> [<i>varlist</i>] [ <b>,</b> <i>transformation_option</i> <b><u>d</u></b><b>isplay</b> <b>test</b> <b><u>sy</u></b><b>mbol(</b><i>str</i><b>)</b> ]
<p>
            where <i>transformation_option</i> is one of
<p>
                <b><u>u</u></b><b>pper</b>                  <b><u>l</u></b><b>ower</b>
<p>
                <b><u>pref</u></b><b>ix(</b><i>str</i><b>)</b>            <b><u>postf</u></b><b>ix(</b><i>str</i><b>)</b> (synonym <b><u>suff</u></b><b>ix(</b><i>str</i><b>)</b>)
<p>
                <b><u>pres</u></b><b>ub(</b><i>str1 str2</i><b>)</b>      <b><u>posts</u></b><b>ub(</b><i>str1 str2</i><b>)</b>
<p>
                <b><u>bef</u></b><b>ore(</b><i>str</i><b>)</b>            <b><u>aft</u></b><b>er(</b><i>str</i><b>)</b>
<p>
                <b><u>fr</u></b><b>om(</b><i>str</i><b>)</b>              <b>to(</b><i>str</i><b>)</b>
<p>
                <b><u>sub</u></b><b>st(</b><i>str1 str2</i><b>)</b>
<p>
                <b><u>pred</u></b><b>rop(</b><i>#</i><b>)</b>             <b><u>postd</u></b><b>rop(</b><i>#</i><b>)</b>
<p>
                <b><u>t</u></b><b>rim(</b><i>#</i><b>)</b>
<p>
                <b><u>m</u></b><b>ap(</b><i>string exp</i><b>)</b>
<p>
<p>
<b><u>Description</u></b>
<p>
<b>labvarch</b> changes variable labels for the variables listed in <i>varlist</i>.  If not
specified, <i>varlist</i> defaults to <b>_all</b>.
<p>
One selected <i>transformation_option</i> is applied to each variable 
label for each variable in <i>varlist</i>.
<p>
<p>
<b><u>Options</u></b>
<p>
One of the following <i>transformation_options</i> should be specified. Where 
appropriate, remember to use <b>" "</b> to bind strings containing spaces. 
<p>
    <b>upper</b>                converts the variable labels to uppercase
    <b>lower</b>                converts the variable labels to lowercase
 
    <b>prefix(</b><i>str</i><b>)</b>          prefixes variable labels with <i>str</i>
    <b>postfix(</b><i>str</i><b>)</b>         postfixes variable labels with <i>str</i>.  <b>suffix(</b><i>str</i><b>)</b> is an
                         exact synonym
 
    <b>presub(</b><i>str1 str2</i><b>)</b>    replaces the leading string <i>str1</i> by <i>str2</i> in variable
                         labels.  <i>str2</i> may be empty
    <b>postsub(</b><i>str1 str2</i><b>)</b>   replaces the trailing string <i>str1</i> by <i>str2</i> in variable
                         labels.  <i>str2</i> may be empty
 
    <b>before(</b><i>str</i><b>)</b>          selects text before (i.e. deletes any text including
                         and after) the first occurrence of <i>str</i> in variable
                         labels. Labels not containing <i>str</i> are not changed
    <b>after(</b><i>str</i><b>)</b>           selects text after (i.e. deletes any text before and
                         including) the first occurrence of <i>str</i> in variable
                         labels. Labels not containing <i>str</i> are not changed
    <b>from(</b><i>str</i><b>)</b>            selects text from (i.e. deletes any text before) the
                         first occurrence of <i>str</i> in variable labels. Labels not
                         containing <i>str</i> are not changed
    <b>to(</b><i>str</i><b>)</b>              selects text to (i.e. deletes any text after) the
                         first occurrence of <i>str</i> in variable labels. Labels not
                         containing <i>str</i> are not changed
    Thus given the variable label <b>foreign==Domestic</b>, <b>before(==)</b> returns
    <b>foreign</b>, <b>after(==)</b> returns <b>Domestic</b>, <b>to(==)</b> returns <b>foreign==</b> and <b>from(==)</b>
    returns <b>==Domestic</b>.
 
    <b>subst(</b><i>str1 str2</i><b>)</b>     substitutes (all occurrences of) <i>str1</i> by <i>str2</i> in
                         variable labels.  <i>str2</i> may be empty
 
    <b>predrop(</b><i>#</i><b>)</b>           removes the first <i>#</i> characters from variable labels
    <b>postdrop(</b><i>#</i><b>)</b>          removes the last <i>#</i> characters from variable labels
    <b>trim(</b><i>#</i><b>)</b>              keeps (at most) the first <i>#</i> characters from variable
                         labels, dropping the remaining characters: note that
                         <b>trim(0)</b> deletes variable labels
 
    <b>map(</b><i>string_exp</i><b>)</b>      specifies a rule for building new variable labels from
                         existing variable names.  By default <b>@</b> is the
                         placeholder for existing names.  This placeholder can
                         be changed by specifying <b>symbol( )</b>.
<p>
<b>display</b> specifies that<b> describe</b> be run to show changes.
<p>
<b>test</b> specifies that each change is displayed but not performed.
<p>
<b>symbol(</b><i>str</i><b>)</b> specifies a symbol is to be used as a placeholder for the existing
    name in the map expression.  The default is <b>@</b>.  The symbol used should not
    include characters used in existing variable names.  It is difficult to
    imagine why you might want to use this option.
<p>
<p>
<b><u>Examples</u></b>
<p>
    . labvarch *, lower
<p>
    . labvarch log*, map(@)
<p>
    . labvarch log*, subst(log "log ")
<p>
    . labvarch f*, pref("First ")
<p>
    . labvarch f*, suff(" (first)")
<p>
    . qui tab rep78, gen(r)
<p>
    . for any before to after from: labvarch r?, X(==) test
<p>
    . labvarch d*, before(" ") (usually, first word selected)
<p>
<p>
<b><u>Author</u></b>
<p>
    Nicholas J. Cox, University of Durham, U.K.
    n.j.cox@durham.ac.uk
<p>
<p>
<b><u>Acknowledgements</u></b>     
<p>
    Fred Wolfe was the stimulus for this program, which is based on 
    <b>renvars</b>, jointly written by Jeroen Weesie.
<p>
<p>
<b><u>Also see</u></b>
<p>
On-line:  label, labedit (if installed), copydesc (if installed)
<p>
</pre>