<pre>
-------------------------------------------------------------------------------
help for <b>localseg</b>                                Carlos Gradín (September 2010)
-------------------------------------------------------------------------------
<p>
<b><u>Local and overall Segregation indices with optional local segregation curves</u></b>
(For multigroup cases see dicseg)
<p>
        <b>localseg</b> <i>unitvar</i> <i>groupvar</i> [<i>weights</i>] [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] [,
                 <b><u>f</u></b><b>ormat(string)</b> <b><u>s</u></b><b>ave</b> <b><u>sc</u></b> <b><u>no</u></b><b>graph</b> <b><u>x</u></b><b>(string)</b> <b><u>y</u></b><b>(string)</b>
                 <b><u>xt</u></b><b>itle(string)</b> <b><u>yt</u></b><b>itle(string)</b> <b><u>gr</u></b><b>aph_options(string)</b> ]
<p>
        
    <b>fweights</b>, <b>aweights</b> and <b>aweights</b> are allowed; see weights.
<p>
<p>
<b><u>Important</u></b>
<p>
    It requires to have matsort, written by Paul Millar, previously
    installed; if not, install it writing in the command line:
<p>
        . net install matsort, all from(http://fmwww.bc.edu/RePEc/bocode/m)
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>localseg</b> computes local and overall segregation indices across units in a
    multigroup context, as proposed by Alonso-Villar and Del Río, 2010.
<p>
    Micro data are required (data should not be collapsed by units).
<p>
    The first variable <i>unitvar</i> indicates units (ex. occupations, census
    tracts, schools, ....).
<p>
    The second variable <i>groupvar</i> identifies groups (gender, race, ...).
<p>
    If option <b><u>sc</u></b> is specified it also draws the local segregation curves, and
    creates new variables using <b><u>x</u></b><b>(string)</b> and <b><u>y</u></b><b>(string)</b> options.
<p>
<p>
<b><u>Reporting</u></b>
<p>
    Overall Segregation indices:
<p>
        . Ip, multigroup index of dissimilarity.
<p>
        . M, the mutual information index.
<p>
            Note that M = GE(1); Mutual Information Index M [ with natural
    log instead of log(2) ].
<p>
        . Gini, the unbounded version of the multigroup Gini index.
<p>
        . Duncan, the Duncan and Duncan index of dissimilarity (only reported
    in the case of two groups).
<p>
<p>
    Local Segregation indices:
<p>
        . Ip, multigroup index of dissimilarity.
<p>
        . GE(c), c=0, .10, .25, .50, .75, .90, 1, family of indices related
    to the Generalized Entropy family, for different values of the
    segregation sensitivity parameter.
<p>
            Note that GE(0) is only defined for groups with members in all
    units.
<p>
            Note that M = GE(1); Mutual Information Index M [ with natural
    log instead of log(2) ].
<p>
        . Gini, variation of the Gini index.
<p>
<p>
    The relative contribution of each group to overall segregation is also
    reported.
<p>
<p>
    Segregation Curves (if option <b><u>sc</u></b> is specified).
<p>
<p>
<b><u>Options</u></b>
<p>
    <b><u>f</u></b><b>ormat(string)</b> to change numeric format
<p>
    <b><u>s</u></b><b>ave</b> to save results
<p>
    <b><u>sc</u></b> to compute segregation curves
<p>
    <b><u>no</u></b><b>graph</b> to do not graph segregation curves (if option <b><u>sc</u></b> was specified)
<p>
    <b><u>x</u></b><b>(string)</b> <b><u>y</u></b><b>(string)</b> to create variables for segregation curves (if option
        <b><u>sc</u></b> was specified)
<p>
    <b><u>xt</u></b><b>itle(string)</b>,<b><u>yt</u></b><b>itle(string)</b> title for segregation curves (if option <b><u>sc</u></b>
        was specified)
<p>
    <b><u>gr</u></b><b>aph_options(string)</b> to change default graph options for segregation
        curves (if <b><u>sc</u></b> was specified)
<p>
<p>
<b><u>Saved results</u></b> 
<p>
    Matrices:
<p>
        r(oseg) : overall segregation and relative contributions
<p>
        r(lseg) : local segregation
<p>
<b><u>Examples</u></b> 
<p>
    . use segdata.dta, clear
<p>
    . localseg occupation race [aw=pwgtp], save
<p>
    . localseg occupation sex [aw=pwgtp], save sc
<p>
    . localseg occupation race [aw=pwgtp], save sc x(cumem) y(cumtgt)
        xt(Cumulative employment) yt(Cumulative target workers)
<p>
<p>
<p>
<p>
<b><u>Author</u></b>
<p>
    Carlos Gradín &lt;cgradin@uvigo.es&gt;
    Facultade de CC. Económicas
    Universidade de Vigo
    36310 Vigo, Galicia, Spain.
<p>
<p>
<b><u>References</u></b>
<p>
        For theory:
<p>
    Alonso-Villar, O. and C. Del Río (2010), Local versus Overall Segregation
        Measures, Mathematical Social Sciences, vol. 60(1), pp. 30-38.
<p>
        For applications:
<p>
    Alonso-Villar, O., C. Del Río, C., and C. Gradín, C. (2010),  The extent
        of occupational segregation in the US: Differences by race,
        ethnicity, and gender, Ecineq Working Paper Series 2010-180.
<p>
    Del Rio, C. and Alonso-Villar, O. (2011), "Occupational Segregation of
        Immigrant Women in Spain", Feminist Economics (forthcoming).
<p>
    Del Río, C. and Alonso-Villar, O. (2010), "Gender segregation in the
        Spanish labor market: An alternative approach", Social Indicators
        Research, vol. 98 (2), September, pp. 337-362
<p>
    Gradín, C., O. Alonso-Villar, and C. Del Río (2010),  Occupational
        segregation by race and ethnicity in the US: Differences across
        states, Ecineq Working Paper Series 2011-190.
<p>
 
<p>
<b><u>Also see</u></b>
<p>
    dicseg if installed; duncan if installed; hutchens if installed; seg if
             installed
<p>
<p>
<p>
<p>
<p>
</pre>