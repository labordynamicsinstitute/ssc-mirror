<pre>
<p>
-------------------------------------------------------------------------------
help for <b>labelmiss</b>                             Stas Kolenikov, skolenik@unc.edu
-------------------------------------------------------------------------------
<p>
<b><u>Label the missing data</u></b>
<p>
        <b>labelmiss</b> [<i>varlist</i>] <i>mval</i> "<i>text</i>" [ <i>mval</i> "<i>text</i>" ...] , modify
<p>
<b>labelmiss</b> changes the labels of the missing data for selected variables.  <i>mval</i>
is one of the missing values, either the system missing value <b>.</b>  or the
extended missing values <b>.a</b>, <b>.b</b>, etc.
<p>
<p>
<b><u>Options</u></b>
<p>
<b>modify</b> allows Stata to overwrite the existing label, thus indicating your
    understanding that the labels are going to be modified. It is not optional.
    If you want to be able to recover your original labels, or you would want
    to define differential labels for different variables, see label, and <b>label</b>
    <b>save</b>, in particular.
<p>
<p>
<b><u>Example</u></b>
<p>
Suppose we have the data in the following form:
<p>
. li id obsw cluster x1-x3 in 1/12
<p>
     +----------------------------------------------------------------+
     |   id        obsw   cluster        x1           x2           x3 |
     |----------------------------------------------------------------|
  1. | 1001   13.823839         1       Yes          N/A      Refused |
  2. | 1002   12.876063         1       Yes          Yes          Yes |
  3. | 1003     16.9282         1       Yes          Yes   Don't know |
  4. | 1004   16.752894         1       Yes          Yes      Refused |
  5. | 1005   13.399568         1        No   Don't know           No |
     |----------------------------------------------------------------|
  6. | 1006   14.806043         1   Refused          Yes           No |
  7. | 1007   13.447599         1       Yes          Yes           No |
  8. | 1008   18.986893         1        No   Don't know   Don't know |
  9. | 1009   12.729379         1        No      Refused           No |
 10. | 1010   13.667414         1        No           No      Refused |
     |----------------------------------------------------------------|
 11. | 1011   13.124903         1        No          Yes          Yes |
 12. | 1012   13.391117         1        No   Don't know           No |
     +----------------------------------------------------------------+
<p>
. li id obsw cluster x1-x3 in 1/12, nolab
<p>
     +-------------------------------------------+
     |   id        obsw   cluster   x1   x2   x3 |
     |-------------------------------------------|
  1. | 1001   13.823839         1    1    8    7 |
  2. | 1002   12.876063         1    1    1    1 |
  3. | 1003     16.9282         1    1    1    9 |
  4. | 1004   16.752894         1    1    1    7 |
  5. | 1005   13.399568         1    2    9    2 |
     |-------------------------------------------|
  6. | 1006   14.806043         1    7    1    2 |
  7. | 1007   13.447599         1    1    1    2 |
  8. | 1008   18.986893         1    2    9    9 |
  9. | 1009   12.729379         1    2    7    2 |
 10. | 1010   13.667414         1    2    2    7 |
     |-------------------------------------------|
 11. | 1011   13.124903         1    2    1    1 |
 12. | 1012   13.391117         1    2    9    2 |
     +-------------------------------------------+
<p>
. lab li yesno
yesno:
           1 Yes
           2 No
           7 Refused
           8 N/A
           9 Don't know
<p>
<p>
You want to convert your data to missing values, so that you can smoothly run
your analyses, but you don't want to lose your information on what the
particular missing data means.  If you {help:mvdecode} your data, your labels
are lost:
<p>
. mvdecode x* , mv(7 = .a \ 8 = .b \ 9 = .c )
          x1: 1 missing value generated
          x2: 5 missing values generated
          x3: 5 missing values generated
<p>
. li id obsw cluster x1-x3 in 1/12
<p>
     +----------------------------------------------+
     |   id        obsw   cluster    x1    x2    x3 |
     |----------------------------------------------|
  1. | 1001   13.823839         1   Yes    .b    .a |
  2. | 1002   12.876063         1   Yes   Yes   Yes |
  3. | 1003     16.9282         1   Yes   Yes    .c |
  4. | 1004   16.752894         1   Yes   Yes    .a |
  5. | 1005   13.399568         1    No    .c    No |
     |----------------------------------------------|
  6. | 1006   14.806043         1    .a   Yes    No |
  7. | 1007   13.447599         1   Yes   Yes    No |
  8. | 1008   18.986893         1    No    .c    .c |
  9. | 1009   12.729379         1    No    .a    No |
 10. | 1010   13.667414         1    No    No    .a |
     |----------------------------------------------|
 11. | 1011   13.124903         1    No   Yes   Yes |
 12. | 1012   13.391117         1    No    .c    No |
     +----------------------------------------------+
<p>
Here's how <b>labelmiss</b> fixes it:
<p>
. labelmiss .a "Refused" .b "N/A" .c "Don't know" , modify
<p>
. li id obsw cluster x1-x3 in 1/12 
<p>
     +----------------------------------------------------------------+
     |   id        obsw   cluster        x1           x2           x3 |
     |----------------------------------------------------------------|
  1. | 1001   13.823839         1       Yes          N/A      Refused |
  2. | 1002   12.876063         1       Yes          Yes          Yes |
  3. | 1003     16.9282         1       Yes          Yes   Don't know |
  4. | 1004   16.752894         1       Yes          Yes      Refused |
  5. | 1005   13.399568         1        No   Don't know           No |
     |----------------------------------------------------------------|
  6. | 1006   14.806043         1   Refused          Yes           No |
  7. | 1007   13.447599         1       Yes          Yes           No |
  8. | 1008   18.986893         1        No   Don't know   Don't know |
  9. | 1009   12.729379         1        No      Refused           No |
 10. | 1010   13.667414         1        No           No      Refused |
     |----------------------------------------------------------------|
 11. | 1011   13.124903         1        No          Yes          Yes |
 12. | 1012   13.391117         1        No   Don't know           No |
     +----------------------------------------------------------------+
<p>
. lab li yesno
yesno:
           1 Yes
           2 No
           7 Refused
           8 N/A
           9 Don't know
          .a Refused
          .b N/A
          .c Don't know
<p>
<p>
We have relabeled all the data, and the variables like id, cluster and obsw
have received the default label <b>misslab</b>:
<p>
. d id obsw cluster x1-x3
<p>
              storage  display     value
variable name   type   format      label      variable label
-------------------------------------------------------------------------------
id              int    %10.0g      misslab    Personal ID
obsw            double %10.0g      misslab    Ultimate weight
cluster         byte   %10.0g      misslab    PSU
x1              byte   %10.0g      yesno      Item 1
x2              byte   %10.0g      yesno      Item 2
x3              byte   %10.0g      yesno      Item 3
<p>
<p>
To get rid of this probably undesirable effect, we should have specified
<p>
. labelmiss x* .a "Refused" .b "N/A" .c "Don't know" , modify
<p>
Most of the time, the variables that you may want to leave untouched are in the
beginning of the data set. If they are not, you can move them forward with 
order. Also, if you want to keep the order of the variables, modfiy most of
your variables, and leave some intact, you can use dellist from Nick J. Cox's 
listutil suite of list utilities:
<p>
. unab mylist : _all
<p>
. dellist mylist , delete(id cluster obsw) exact
<p>
. labelmiss `mylist' .a "Refused" .b "N/A" .c "Don't know" , modify
<p>
<p>
<b><u>Author</u></b>
<p>
Stas Kolenikov, skolenik@unc.edu
<p>
<p>
<b><u>See also</u></b>
<p>
<b>Online</b>: help for missing, label, mvdecode
<p>
</pre>