<pre>
..-
help for ^loopplot^
..-
<p>
Scatter plots with loops
- ------------------------
<p>
    ^loopplot^ varlist [weight] [^if^ exp] [^in^ range] [^,^ graph_options]
<p>
Description
- -----------
<p>
^loopplot^ produces a scatter or twoway plot for varlist, in which
^connect(l)^ has the effect of producing a loop: the last data point is
joined to the first. This is achieved by temporarily appending one or more
extra observations to the data set that copy the first relevant non-missing
observation for each loop.
<p>
Options
- -------
<p>
graph_options are options allowed with ^graph, twoway^, including ^by()^.
^sort^ is allowed but ignored.
<p>
Remarks
- -------
<p>
There are some known side-effects of appending extra observations:
<p>
    ^sy([_n])^ is marred by overwriting of ^_n^ for the first
    observation and its copy. The correct effect can be achieved by
<p>
    . ^gen id = _n^
    . ^loopplot y x, c(l) sy([id])^
<p>
    There are various small or large effects on other ^connect^ options.
<p>
Suppose there are several variables to be plotted on the y axis. Each
variable should define just one loop. (If any variable specifies more
than one loop, there would be spurious connections between them.)
Suppose we have four loops defined by
<p>
    ^y1^ and ^x1^
    ^y2^ and ^x2^
    ^y3^ and ^x3^
    ^y4^ and ^x4^
<p>
then to meet the Stata rule that only one variable can be plotted on the
x axis it is necessary to pack the four x variables into one. A
satisfactory data structure to start with is
<p>
     ^y1   .   .   .        x1^
      ^.  y2   .   .        x2^
      ^.   .  y3   .        x3^
      ^.   .   .  y4        x4^
<p>
stacked into
<p>
     ^Y1  Y2  Y3  Y4        X^
<p>
Here the ^.^ represent blocks of missing values. This data structure
could be produced by using ^stack^, or by direct entry of the data.
<p>
Examples
- --------
<p>
 . ^loopplot rain temp, c(l)^
 . ^loopplot rain temp, c(l) by(station)^
<p>
Author
- ------
<p>
         Nicholas J. Cox, University of Durham, U.K.
         n.j.cox@@durham.ac.uk
<p>
Also see
- --------
<p>
On-line: help for @graph@
</pre>