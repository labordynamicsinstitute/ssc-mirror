<pre>
Recoding variables using grouped values
- ---------------------------------------
<p>
<p>
^egen^ newvar = ^cut(^varname^)^, ^at(^x1,x2,...,xk^)^ [^ic^odes ^lab^el
^g^roup(k)]
<p>
Description
- -----------
<p>
The option ^cut^ in ^egen^ creates a new categorical variable coded
with the left-hand ends of the grouping intervals specified in
at(). It allows a stata number list to specify the breaks, 
(labelled) integer codes in place of the left-hand ends of the
intervals, 
and can produce approximately equal frequency groups.
<p>
Options
- -------
<p>
^at( )^ supplies the breaks for the groups, as an ascending stata
number list. If no breaks are specified the command expects the option
^group^. 
<p>
^icodes^ requests that the codes 0, 1, 2, etc. be used in place of the
left-hand ends of the intervals. 
<p>
^label^ requests that the integer coded values of the grouped variable
be labelled with the left--hand ends of the grouping intervals.
Specifying
this option automatically invokes ^icodes^.
<p>
^group( )^ specifies the number of equal frequency grouping
intervals to be used in the absence of ^breaks^. Specifying  
this option automatically invokes ^icodes^. The command works by first
calculating the appropriate percentiles using the command ^pctile^ and
then using the percentiles as break points. 
<p>
Example
- -------
Using the variable ^length^ from the ^auto^ data, the commands
<p>
^egen lgrp=cut( length), at(140,180,200,220,240)^
^tab lgrp^
<p>
produce the output
<p>
       lgrp |      Freq.     Percent        Cum.
- ------------+-----------------------------------
        140 |         31       41.89       41.89
        180 |         16       21.62       63.51
        200 |         20       27.03       90.54
        220 |          7        9.46      100.00
- ------------+-----------------------------------
      Total |         74      100.00
<p>
So will the command
<p>
^egen lgrp=cut( length), at(140,180(20)240)^
<p>
Values outside the range 140--240 are coded as missing. The command
<p>
^egen lgrp = cut(length), at(140,180(20)240) label^
<p>
will produce a variable coded 0, 1, 2, 3 but labelled
140-, 180-, 200-, 220-. 
<p>
Thus ^tab lgrp^ produces
<p>
<p>
       lgrp |      Freq.     Percent        Cum.
- ------------+-----------------------------------
       140- |         31       41.89       41.89
       180- |         16       21.62       63.51
       200- |         20       27.03       90.54
       220- |          7        9.46      100.00
- ------------+-----------------------------------
      Total |         74      100.00
<p>
and ^tab lgrp, nolab^ produces
<p>
       lgrp |      Freq.     Percent        Cum.
- ------------+-----------------------------------
          0 |         31       41.89       41.89
          1 |         16       21.62       63.51
          2 |         20       27.03       90.54
          3 |          7        9.46      100.00
- ------------+-----------------------------------
      Total |         74      100.00
<p>
The commands
<p>
^egen lgrp = cut(length), group(4) label^
^tab lgrp^
<p>
will produce
<p>
       lgrp |      Freq.     Percent        Cum.
- ------------+-----------------------------------
       142- |         17       22.97       22.97
       170- |         20       27.03       50.00
     192.5- |         18       24.32       74.32
       204- |         19       25.68      100.00
- ------------+-----------------------------------
      Total |         74      100.00
<p>
</pre>