<pre>
<b>help cfby</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
    <b>cfby</b> -- Compare two files to get the number differences "by" a common varia
&gt; ble
<p>
<b><u>Syntax</u></b>
<p>
        <b>cfby</b> [<i>varlist</i>]<b> using</b><i> filename</i> <b>, id</b>(<i>varname</i>) [<i>options</i>]
<p>
    <i>options</i>               Description
    -------------------------------------------------------------------------
      <b><u>nop</u></b><b>unct</b>             ignores differences in punctuation and
                            capitalization
      <b><u>nomat</u></b><b>ch</b>             surpress warnings about missing observations
      <b><u>u</u></b><b>pper</b>               convert all string variables to upper case before
                            comparing
      <b><u>l</u></b><b>ower</b>               convert all string variables to lower case before
                            comparing
      <b><u>nos</u></b><b>tring</b>            do not compare any string variables
    -------------------------------------------------------------------------
<p>
<b><u>Description</u></b>
<p>
    <b>cfby</b> compares the variables in <i>varlist</i> from the dataset in memory to the
    variables in <i>varlist</i> from the using dataset and displays the discrepancy
    rates by a common variable.  It is useful if you are doing data entry and
    want to get discrepancy rates of data entry officers.
<p>
<b><u>Options</u></b>
<p>
    <b>id(</b><i>varname</i><b>)</b> is required.<i>  varname</i> is the variable that matches
        observations in the master dataset to observations in the using
        dataset.  It must uniquely identify observations in both the master
        and using datasets.
<p>
    <b>nopunct</b> Deletes the following characters before comparing:<b>  ! ? '</b> and
        replaces the following characters with a space:<b>  . , - / ;</b> and trims
        all extra spaces
<p>
    <b>nomatch</b> is specified if the number of observations in the master and
        using dataset do not need to match.  The default is to assume 1:1
        matching between the datasets, and to list any observations that
        existin in only one dataset.
<p>
        
<b><u>Remarks</u></b>
<p>
    <b>cfby</b> is intended to be used as part of the data entry process when data
    is checked for accuracy.  It outputs a matrix of discrepancies for each
    unique combination of values of the by variable between the master and
    using datasets.  So if you compared the first entry of a dataset to the
    second entry, it would output the discrepancy rate for each pair of data
    entry officers.  If the master dataset was the result of a thoroughly
    checked audit and the using dataset were the raw first entry, simply set
    the by variable to a constant in the audit dataset and<b> cfby</b> will output
    the error rate for each data entry officer in the first entry.<b>  cfby</b> does
    not compare variables that have a different string/numeric type in both
    datasets.<b>  cfby</b> also doesn't compare variables that are different in all
    observations.
<p>
<p>
<b><u>Examples</u></b>
<p>
<p>
<p>
use "audit dataset.dta"
<p>
cfby region-no_good_at_all using "first entry.dta" , id(uniqueid) by(deo)
<p>
<b><u>Saved Results</u></b>
<p>
    <b>cfby</b> saves the following in <b>r()</b>:
<p>
    Matricies 
      <b>r(e)</b>           number of discrepenacies
      <b>r(q)</b>           number of data points compared
<p>
<b><u>Author</u></b>
<p>
    Ryan Knight, rknight@poverty-action.org
<p>
<b><u>Also see</u></b>
<p>
    Online:  cf, compare
<p>
</pre>