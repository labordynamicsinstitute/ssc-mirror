<pre>
<b>help cuentacot</b>
-------------------------------------------------------------------------------
<p>
<b><u>Título</u></b>
    <b>cuentacot</b> -- Contador de cotizaciones
<p>
<p>
<b><u>Sintáxis</u></b>
        <b>cuentacot</b> <i>periodo</i> <i>persona</i> [<i>empleador</i> <b>,</b> <i>cuentas</i> <i>parametros</i>
                 <i>variables.adicionales</i>]
<p>
    <i>options</i>               Description
    -------------------------------------------------------------------------
<a name="resul_opt"></a>    Cuentas
      <b><u>dis</u></b><b>continuas</b>        Contador de cotizaciones discontinuas.
      <b><u>con</u></b><b>tinuas</b>           Contador de <b>ncot</b> cotizaciones continuas.
      <b><u>contemp</u></b><b>leador</b>       Contador de <b>ncot</b> cotizaciones continuas con un
                            mismo empleador.
      <b><u>emp</u></b><b>leador</b>           Contador de <b>ncot</b> cotizaciones discontinuas con el
                            mismo empleador.
      <b><u>mennc</u></b><b>ont</b>            Contador de <b>ncot</b> cotizaciones continuas en los
                            últimos <b>nper</b> periodos.
      <b><u>mennd</u></b><b>iscont</b>         Contador de <b>ncot</b> cotizaciones discontinuas en los
                            últimos <b>nper</b> periodos.
<p>
<a name="para_opt"></a>    Parámetros
      <b><u>nc</u></b><b>ot</b>                Número de cotizaciones (por defecto 12).
      <b><u>np</u></b><b>er</b>                Número de periodos (por defecto 24).
<p>
<a name="variables_adicionales_opt"></a>    Variables Adicionales
      <b><u>ns</u></b><b>olic(</b><i>varname</i><b>)</b>     Variable de número de solicitud (para uso en seguro
                            de cesantía).
      <b><u>ti</u></b><b>pcon(</b><i>varname</i><b>)</b>     Variable de tipo de contrato.
      <b><u>k</u></b><b>eep</b>                Preservar variables de cuenta.
    -------------------------------------------------------------------------
    Es fundamental que el set de datos a utilizar corresponda a una base
      conformada en función de <i>individuo</i> y <i>periodo</i>. De especificar el campo
      <i>nsolic</i> ( número de solicitud al seguro de cesantía), al momento de
      registrar beneficio, i.e. <i>nsolic</i> deja de ser nulo, todos los contadores
      continuos parten desde 0.
<p>
<p>
<b><u>Descripción</u></b>
    Para uso de bases de datos de remuneraciones/cotizaciones. Genera
    variables de tipo <i>dicotómicas</i> en base a algoritmo de cuenta de número de
    cotizaciones de cada individuo para cada momento del tiempo. Las
    variables de cuenta pueden ser conservadas utilizando la opción <b><u>k</u></b><b>eep</b>.
<p>
    Las variables principales a especificar en el contador corresponden a
    <b>periodo</b> (campo numérico de fecha en formato YYYYMM), <b>persona</b> (variable id
    del individuo) y, opcionalmente, <b>empleador</b> (variable id del empleador).
<p>
    En base al campo <b>periodo</b>, el algoritmo determina qué periodos son válidos
    para el cálculo en los resultados de<b> menncont</b> y<b> menndiscont</b>. Este punto
    es importante pues el comando considera ventanas de tiempo entre
    observaciones de un mismo individuo; por lo que 3 observaciones seguidas
    no son consideradas como 3 remuneraciones/cotizaciones continuas
    necesariamente, depende del periodo en que se reliza cada una.
<p>
    En el caso de contar con una base de cotizaciones y solicitudes al seguro
    de cesantía (caso especial utilizado en la Superintendencia), de
    especificar número de solicitud (en <b><u>ns</u></b><b>olic</b>), las cuentas considerarán
    solicitudes al seguro, haciendo que en las observaciones marcadas como
    solicitudes al seguro el contador no avance y vuelva a 0 inmediatamente
    después de la solicitud.
<p>
    Si alguna de las variables a generar ya existe, por defecto el comando la
    reemplaza por la nueva.
<p>
    El comando conserva el orden original de la base de datos antes de ser
    ejecutado.
<p>
<p>
<b><u>Options</u></b>
<p>
        +---------+
    ----+ Cuentas +----------------------------------------------------------
<p>
    <b>discontinuas</b> Genera variable de cuenta de cotizaciones discontinuas
        independiente del tipo de contrato, y la almacena como
        <b>cuenta_cot_dis</b>.
<p>
    <b>continuas</b> Genera variable <i>dicotómica</i> en base a cuenta de cotizaciones
        continuas, donde <b>cotiza_continuas`ncot'</b> es igual a 1 si
        <b>cotiza_continuas`ncot' &gt;=</b> <b><u>nc</u></b><b>ot</b>.  Si cambia el tipo de contrato a
        plazo definido (<b>tipcon</b> es cero)
<p>
    <b>contemp</b> Genera variable <i>dicotómica</i> en base a cuenta de cotizaciones
        continuas con el mismo empleador, donde <b>cot_`ncot'_emp_cont</b> es igual
        a 1 si <b>cuenta_cot_cont_emp &gt;=</b> <b><u>nc</u></b><b>ot</b>.
<p>
    <b>empleador</b> Genera variable <i>dicotómica</i> en base a cuenta de cotizaciones
        discontinuas con el mismo empleador, donde <b>cot_`ncot'_emp_dis</b> es
        igual a 1 si <b>`cuenta_`ncot'_ult_cot_emp' &gt;=</b> <b><u>nc</u></b><b>ot</b>
<p>
    <b>menncont</b> Genera variable <i>dicotómica</i> en base a cuenta de cotizaciones
        continuas en los últimos <b><u>n</u></b><b>per</b> periodos, donde
        <b>cot_`ncot'_en_`nper'_cont</b> es igual a 1 si
        <b>cuenta_cot_`ncot'_en_`nper'_cont &gt;=</b> <b><u>nc</u></b><b>ot</b>
<p>
        El resultado se puede leer como "<i>ncot</i><i> cotizaciones continuas en los</i>
        <i>últimos </i><i>nper</i><i> periodos</i>"
<p>
    <b>menndisc</b> Genera variable <i>dicotómica</i> en base a cuenta de cotizaciones
        discontinuas en los últimos <b><u>n</u></b><b>per</b> periodos, donde
        <b>cot_`ncot'_en_`nper'_dis</b> es igual a 1 si
        <b>cuenta_cot_`ncot'_en_`nper'_dis &gt;=</b> <b><u>nc</u></b><b>ot</b>
<p>
        El resultado se puede leer como "<i>ncot</i><i> cotizaciones discontinuas en</i>
        <i>los últimos </i><i>nper</i><i> periodos</i>"
<p>
        +------------+
    ----+ Parámetros +-------------------------------------------------------
<p>
    <b>ncot</b> Entero. Número de cotizaciones (por defecto 12) a considerar en el
        cálculo de <b>continuas</b>, <b>contemp</b>, <b>menncont</b> y <b>menndisc</b>.
<p>
    <b>nper</b> Entero. Número de periodos (por defecto 24) a considerar en el
        cálculo de <b>menncont</b> y <b>menndisc</b>.
<p>
        +-----------------------+
    ----+ Variables adicionales +--------------------------------------------
<p>
    <b>nsolic(</b><i>varname</i><b>)</b> Variable que contiene el número de solicitud. Se utiliza
        para considerar solicitudes de beneficio de modo tal de llevar los
        contadores a 0. El comando identifica un periodo como <i>solicitud</i>
        cuando <b>nsolic</b> deja de ser {missing}.
<p>
    <b>tipcon(</b><i>varname</i><b>)</b> Variable que contiene el tipo de contrato.  Se utiliza
        para considerar el tipo de contrato al momento de la cuenta de
        cotizaciones continuas (<b>continuas</b>). Realizando cuenta de cotizaciones
        sólo cuando <b>tipcon</b> es igual a 1, i.e. personas con contrato
        indefinido.
<p>
<p>
<b><u>Ejemplos</u></b>
<p>
    Generar dicotómica igual a 1 si es que la observación lleva 6
    cotizaciones continuas acumuladas sin considerar tipo de contrato o
    solicitudes sin quedarse con el contador.
<p>
    <b>. sysuse cuentacot</b> <b>. cuentacot periodo idper, cont ncot(6)</b>
<p>
    para quedarse con el contador
<p>
    <b>. cuentacot periodo idper, cont ncot(6)</b>
<p>
<p>
    Generar dicotómica igual a 1 si es que la observación lleva 6
    cotizaciones continuas acumuladas considerando el tipo de contrato y
    solicitudes.
<p>
    <b>. cuentacot periodo idper, cont ncot(6) nsolic(nsolic) tipcon(tipcon)</b>
<p>
<p>
    Generar dicotómicaeana igual a 1 si es que la observación lleva 3
    cotizaciones acumuladas en los últimos 6 periodos considerando el tipo de
    contrato y solicitudes al seguro de cesantía.
<p>
    <b>. cuentacot periodo idper, mennd ncot(3) nper(6) nsolic(nsolic)</b>
        <b>tipcon(tipcon)</b>
<p>
<p>
<b><u>Referencias</u></b>
<p>
Superintendencia de Pensiones (2010b) "Seguro de Cesantía en Chile",<i> Gráfica</i>
  <i>LOM</i>, disponible en http://www.spensiones.cl/573/article-7513.html
<p>
George Vega Yon (2012) "Cuentas Difíciles: Implementación del comando
  cuentacot", disponible en 
  https://sites.google.com/site/gvegayon/software/cuentacot.zip
<p>
<p>
<b><u>Autor</u></b>
<p>
    Programador: George Vega Yon, Superindentencia de Pensiones. Cualquier
    problema a mailto:gvega@spensiones.cl
<p>
    Colaboración: Evelyn Benvin Aramayo, Superintendencia de Pensiones 
</pre>