<pre>
<b>help chm</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
     <b>chm</b> -- Copy hard missings
<p>
<p>
<b><u>Syntax</u></b>
<p>
     Use as prefix
<p>
        <b>chm</b> <i>varlist</i> [<b>, </b><i>options</i>] <b>:</b> <i>command</i>
<p>
<p>
     where <i>command</i> is one of
<p>
        generate [<i>type</i>] <i>newvar</i>[<b>:</b><i>lblname</i>] =<i>exp</i> [<i>if</i>] [<i>in</i>]
<p>
        egen [<i>type</i>] <i>newvar</i> = <i>fcn</i>(<i>arguments</i>) [<i>if</i>] [<i>in</i>] [<b>,</b> <i>egen_options</i>]
<p>
        replace <i>oldvar</i> =<i>exp</i> [<i>if</i>] [<i>in</i>] [<b>,</b> <b><u>nop</u></b><b>romote</b>]
<p>
        tabulate <i>varname</i> [<i>if</i>] [<i>in</i>] <b>,</b> <b><u>g</u></b><b>enerate</b> <b>(</b><i>stubname</i><b>)</b> [<i>tabulate_options</i>]
<p>
        (if installed)
        center <i>varlist</i> [<i>if</i>] [<i>in</i>] [<i>weight</i>] [<b>,</b><i> center_options</i>]
<p>
<p>
     Use as command
<p>
        <b>chm</b> <i>varlist</i> <i>oldvar</i> [<i>if</i>] [<i>in</i>] <b>,</b> <b>replace</b> [<i>options</i>]
<p>
<p>
     where <i>oldvar</i> is the variable to be replaced
<p>
<p>
    <i>options</i>                Description
    -------------------------------------------------------------------------
      <b>mvc(</b><i>mvc</i><b>)</b>             replace values in <i>newvar</i>/<i>oldvar</i>/<i>stubname</i> with <i>mvc</i>
      <b>soft</b>                 replace <i>newvar</i>/<i>oldvar</i>/<i>stubname</i> if <i>varname</i> has soft
                             missings (.)
      <b>replace</b>              replace values in <i>oldvar</i>; required option if <b>chm</b>
                             is used as command
      <b>mi</b>                   replace multiply imputed values with missings in
                             <i>m</i>&gt;0
    -------------------------------------------------------------------------
    <b>by</b> is allowed, if <i>command</i> allows <b>by</b>.
<p>
    Syntax:
        <b>by</b> <i>varlist</i> [, <i>by_options</i>] <b>:</b> <b>chm</b> <i>varlist</i> [, <i>chm_options</i>] <b>:</b> <i>command</i>
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>chm</b> copies hard missings (.a, ..., .z) from variables specified in
    <i>varlist</i> to <i>newvar</i>/<i>oldvar</i>/<i>stubname</i>. Existing hard missings in <i>newvar</i>
    (<i>oldvar</i> or <i>stubname</i>, respectively) are not replaced, meaning that if the
    second variable in <i>varlist</i> has hard missings, where the first also has
    hard missings, hard missing values are copied from the latter.
<p>
    <b>Remarks:</b> <b>chm</b> is useful if multiple imputation is planned. In mi
    environment, extended missing values (.a, ..., .z) are viewed as "hard
    missing" and are not imputed.
<p>
<p>
<b><u>Options</u></b>
<p>
    <b>mvc(</b><i>mvc</i><b>)</b> replaces values in <i>newvar</i> (<i>oldvar</i> or <i>stubname</i>) with <i>mvc</i>, where
        <i>mvc</i> is one of .a, ..., .z.
<p>
    <b>soft</b> additionally replaces values in <i>newvar</i> (<i>oldvar</i> or <i>stubname</i>) with
        soft missings (.), where variables in <i>varlist</i> have soft missings.
        Hard missings in <i>newvar</i>/<i>oldvar</i>/<i>stubname</i> are not replaced by soft
        missings.  If specified with <b>mvc(</b><i>mvc</i><b>)</b>, <i>mvc</i> is used to replace values.
<p>
    <b>replace</b> is required if <b>chm</b> is used as command, because existing variables
        are altered. It is not allowed if <b>chm</b> is used as a prefix.
<p>
    <b>mi</b> copies hard missings from variables in the original dataset after
        multiple imputation. Each variable in <i>varlist</i> that has (hard) missing
        values in <i>m</i>=0, will be replaced with hard missing values in <i>m</i>&gt;0. This
        option might be useful if imputations are done using ice (Royston
        2005), since all missing values (i.e. <b>.</b>, <b>.a</b>, ..., <b>.z</b>) will be
        imputed. The data must be in <b>ice</b> format, or <i>flong style</i>. The option
        may not be specified if <b>chm</b> is used as a prefix.
<p>
<p>
<b><u>Examples</u></b>
<p>
    <u>Use as prefix</u>
<p>
        . list
<p>
             +------+
             | var1 |
             |------|
          1. |    1 |
          2. |   .a |
          3. |    3 |
          4. |    . |
          5. |    5 |
             +------+
<p>
        <b>. chm var1 : generate newvar = var1 * 10</b>
<p>
        . list
<p>
             +---------------+
             | var1   newvar |
             |---------------|
          1. |    1       10 |
          2. |   .a       .a |
          3. |    3       30 |
          4. |    .        . |
          5. |    5       50 |
             +---------------+
<p>
        <b>. chm var1 ,mvc(.m) : tabulate var1 ,generate(stubname)</b>
<p>
        . list var1 stubname?
<p>
             +---------------------------------------+
             | var1   stubna~1   stubna~2   stubna~3 |
             |---------------------------------------|
          1. |    1          1          0          0 |
          2. |   .a         .m         .m         .m |
          3. |    3          0          1          0 |
          4. |    .          .          .          . |
          5. |    5          0          0          1 |
             +---------------------------------------+
<p>
        <b>. chm var1 : replace var1 = 1</b>
<p>
        . list var1
<p>
             +------+
             | var1 |
             |------|
          1. |    1 |
          2. |   .a |
          3. |    1 |
          4. |    1 |
          5. |    1 |
             +------+
<p>
    <u>Use as command</u>
<p>
        <b>. chm newvar var1 ,replace soft</b>
<p>
        . list var1 newvar
<p>
             +---------------+
             | var1   newvar |
             |---------------|
          1. |    1       10 |
          2. |   .a       .a |
          3. |    1       30 |
          4. |    .        . |
          5. |    1       50 |
             +---------------+
<p>
<p>
<b><u>References</u></b>
<p>
    Royston, P. (2005) Multiple imputation of missing values: update. Stata
    Journal 5 (2), 188-201.
<p>
                 
<b><u>Author</u></b>
<p>
    Daniel Klein, University of Bamberg, klein.daniel.81@gmail.com
<p>
<p>
<b><u>Also see</u></b>
<p>
    Online: <b>replace</b>, generate, egen, tabulate, mi
    if installed: center, ice
</pre>