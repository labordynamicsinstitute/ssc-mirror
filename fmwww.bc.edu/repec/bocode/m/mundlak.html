<pre>
<p>
<b>help mundlak</b>
-------------------------------------------------------------------------------
<p>
<p>
<b><u>Title</u></b>
<p>
    <b>mundlak</b> -  Estimates random-effects regressions adding group-means of indep
&gt; endent variables to the model
<p>
<b><u>Syntax</u></b>
<p>
        <b>mundlak</b> <i>depvar</i> <i>indepvars</i> [<i>if</i>] [<i>in</i>] [, <i>options</i>]
<p>
<p>
<i>options</i>            description
-------------------------------------------------------------------------------
Main
 <b><u>u</u></b><b>se</b>(<i>varlist</i>)      adds group-means of selected independent variables only
 <b><u>perc</u></b><b>entage</b><i>(#</i>)     sets the minimum percentage of total variance due to within-
&gt; group variation required of an independent variable to be used
 <b><u>nocomp</u></b><b>arison</b>      supresses the display of a comparison random-effects model w
&gt; ith no added variables
 <b><u>hyb</u></b><b>rid</b>            transforms the independent variables into group-mean deviati
&gt; ons
 <b><u>f</u></b><b>ull</b>              prints the full output for the estimated models
 <b><u>st</u></b><b>ats</b><i>(list</i>)       allows users to select the model statistics to be reported
 <b>se</b>                asks for standard errors for the parameters on model variabl
&gt; es to be reported
 <b>t</b>                 asks for p-values for the parameters on model variables to b
&gt; e reported
 <b>p</b>                 asks for t-values for the parameters on model variables to b
&gt; e reported
 <b><u>k</u></b><b>eep</b>              asks for any variables created by the command to be kept in 
&gt; the dataset
<p>
-------------------------------------------------------------------------------
<p>
<p>
<b><u>Description</u></b>
<p>
<b>mundlak</b> estimates random-effects regression models (<b>xtreg, re</b>) adding
    group-means of variables in <i>indepvars</i> which vary within groups. This
    technique was proposed by Mundlak (1978) as a way to relax the assumption
    in the random-effects estimator that the observed variables are
    uncorrelated with the unobserved variables. Additionally, the degree of
    statistical significance of the estimated coefficients on the group means
    can be used to test whether such assumption holds for individual
    regressors. See also Chapter 10 in Wooldridge (2010) and Chapter 11 in
    Greene (2011). The command <b>mundlak</b> requires the data to be <b>xtset</b>. If no
    variables vary within-groups, <b>mundlak</b> estimates the standard random-effects
    model with no additional variables and displays a warning message. The
    names of the added group-mean variables will begin with the prefix <b>mean__</b>
    followed by the original variable name. Note that the estimates from both
    the standard random-effects model and the Mundlak model are kept in Stata's
    background memory and can be accessed via <b>estimates dir</b> for further usage.
<p>
        Original random-effects model:          Y<i>ij</i> = A + B<i>1</i>*X<i>ij</i> + B<i>2</i>*Z<i>i</i> + v<i>ij</i>
<p>
        Mundlak model:                          Y<i>ij</i> = A + B<i>1</i>*X<i>ij</i> + B<i>2</i>*Z<i>i</i> + B<i>3</i>*X
&gt; _bar<i>i</i> + v<i>ij</i>
<p>
<p>
<b><u>Options</u></b>
        
<b><u>u</u></b><b>se</b>(<i>varlist</i>) specifies the variables for which group-means will be added in the
    model. The default is to use all the variables within the provided list of
    independent variables which vary within groups, unless such variation is
    insufficient. The variables specified in this option do not need to be
    among those in <i>varlist</i>, although that would be most common. If the
    variables specified in this option do not vary within groups, <b>mundlak</b> will
    display an error message.
<p>
<b><u>perc</u></b><b>entage</b><i>(#</i>) suppresses the inclusion in the model of group-means of variables
    for which within-group variance accounts for a percentage of the total
    variance lower than <i>#</i>. When <b>percentage</b><i>(#</i>) is not specified <b>mundlak</b> operates
    as if <i>#</i> was 0. However, note that when 0% of the total variance of a given
    variable is within-groups, the group-mean of such variable cannot be
    included in the regression due to collinearity.  If <b>use</b> (<i>varlist</i>) is also
    specified, <b>mundlak</b> will evaluate the percentage of the total variance which
    is within-groups for the variables set in this option, and will only
    include their group-means in the Mundlak model if they satisfy the criteria
    in <b>percent</b><i>(#</i>).
<p>
<b><u>nocomp</u></b><b>arison</b> prevents the display of results from the original random-effects
    model. By default, <b>mundlak</b> displays the results from both the original
    random-effects model and the Mundlak model which includes the additional
    independent variables.
<p>
<b><u>hyb</u></b><b>rid</b> transforms the original independent variables into group-mean
    deviations, in addition to adding their group-means as additional
    independent variables. In practice, when this option is used <b>mundlak</b>
    estimates a 'hybrid model' equivalent to that described in Chapter 2 of
    Allison (2009). This can be expressed as:
<p>
                                                Y<i>ij</i> = A + B<i>1</i>*(X<i>ij</i>-X_bar<i>i</i>) + B<i>2</i>*
&gt; Z<i>i</i> + v<i>ij</i>
 
The names for the added group-mean differenced variables will begin with the
    prefix <b>diff__</b> followed by the original variable name.
<p>
<b><u>f</u></b><b>ull</b> asks for the full regression output for both the original random-effects
    model and the Mundlak model to be displayed. When <b>full</b> is specified
    together with <b>nocomp</b> only the full output for the Mundlak model is
    displayed.
<p>
<b><u>st</u></b><b>ats</b> allows users to specify the model summary statistics to be reported.
    These can be any scalars from Stata's <b>xtreg, re</b> routine.
<p>
<b>se</b> asks for the standard errors for the parameters on model variables to be
    reported. Note that specifying the option <b>full</b> overcomes this.
<p>
<b>t</b> asks for the t-values for the parameters on model variables to be reported.
    Note that specifying the option <b>full</b> overcomes this.
<p>
<b>p</b> asks for the p-values for the parameters on model variables to be reported.
    Note that specifying the option <b>full</b> overcomes this.
<p>
<b><u>k</u></b><b>eep</b> asks for the new variables (i.e. group-means and group-mean deviations) to
    be kept in the dataset.
<p>
<p>
<b><u>Examples</u></b>
<p>
    . webuse nlswork, replace
<p>
    . xtset idcode year
<p>
    . mundlak ln_wage age south race
<p>
    . mundlak ln_wage age south race, use(age)
<p>
    . mundlak ln_wage age south race, percentage(45)
<p>
    . mundlak ln_wage age south race, nocomparison
<p>
    . mundlak ln_wage age south race, hybrid
<p>
    . mundlak ln_wage age south race, full
<p>
    . mundlak ln_wage age south race, stats(N N_g rho r2_o r2_w r2_b)
<p>
    . mundlak ln_wage age south race, se t p
<p>
    . mundlak ln_wage age south race, keep
<p>
    . describe mean__*
<p>
<p>
<b><u>Also see</u></b>
<p>
        Online: <b>[R] xtreg</b>
<p>
<p>
<b><u>References</u></b>
 
 
 Allison, P. D. (2009) <i>"Fixed-Effects Regression Models"</i> Thousand Oaks
 
 Greene, W. (2011) <i>"Econometric Analysis (7th edition)"</i> Prentice Hall
 
 Mundlak, Y. (1978) "On the Pooling of Time Series and Cross-section Data" <i>Econ</i>
<i>&gt; ometrica</i>, 46: 69–85
 
 Wooldridge, J. M. (2010) <i>"Econometric Analysis of Cross Section and Panel Data</i>
<i>&gt;  (2nd edition)"</i> MIT Press
 
 
<b><u>Author</u></b>
<p>
    Francisco Perales
    School of Social Science
    The University of Queensland
    Brisbane
    QLD 4072
    Australia
    f.perales@uq.edu.au
        
</pre>