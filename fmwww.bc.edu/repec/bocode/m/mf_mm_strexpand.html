<pre>
<b>help mata mm_strexpand()</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
    <b>mm_strexpand() -- Expand string argument</b>
<p>
<p>
<b><u>Syntax</u></b>
<p>
        <i>string scalar</i> <b>mm_strexpand(</b><i>s</i><b>,</b> <i>list</i><b>)</b>
<p>
        <i>string scalar</i> <b>mm_strexpand(</b><i>s</i><b>,</b> <i>list</i><b>,</b> <i>default</i><b>)</b>
<p>
        <i>string scalar</i> <b>mm_strexpand(</b><i>s</i><b>,</b> <i>list</i><b>,</b> <i>default</i><b>,</b> <i>unique</i><b>)</b>
<p>
        <i>string scalar</i> <b>mm_strexpand(</b><i>s</i><b>,</b> <i>list</i><b>,</b> <i>default</i><b>,</b> <i>unique</i><b>,</b> <i>errtxt</i><b>)</b>
<p>
        <i>real scalar</i>   <b>_mm_strexpand(</b><i>res</i><b>,</b> <i>s</i><b>,</b> <i>list</i> [<b>,</b> <i>default</i><b>,</b> <i>unique</i>]<b>)</b>
<p>
    where
<p>
                     <i>s</i>:  <i>string scalar s</i>
                  <i>list</i>:  <i>string vector list</i>
               <i>default</i>:  <i>string scalar default</i>
                <i>unique</i>:  <i>real scalar unique</i>
                <i>errtxt</i>:  <i>string scalar errtxt</i>
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>mm_strexpand()</b> returns the first element in string vector <i>list</i> that
    matches string <i>s</i> if abbreviated to the number of characters contained in
    <i>s</i>.  <b>mm_strexpand()</b> aborts with error, if no match is found.
<p>
    <b>mm_strexpand()</b> returns string <i>default</i>, if <i>s</i> is empty (or empty string, if
    <i>default</i> is omitted).
<p>
    If <i>list</i> contains several possible matches, the first match is returned by
    <b>mm_strexpand()</b>. However, <i>unique</i>!=0 causes <b>mm_strexpand()</b> to abort with
    error in the case of multiple matches.
<p>
    <b>mm_strexpand()</b>'s standard error message is "3499 "<i>s</i>" invalid" if no match
    is found or "3498 "<i>s</i>" invalid" if <i>unique</i>!=0 and multiple matches are
    found. Use string <i>errtxt</i> to specify an alternative error text. The error
    code is always 3499 or 3498.
<p>
    <b>_mm_strexpand()</b> is like <b>mm_strexpand()</b> except that the expanded string,
    if a match is found, is stored in <i>res</i> and, rather than aborting with
    error, the error code is returned. The error code is 0 if no error
    occurred. The type of <i>res</i> does not matter. It is replaced.
<p>
<p>
<b><u>Remarks</u></b>
<p>
    <b>mm_strexpand()</b> is useful to parse string scalar arguments in Mata
    functions that are intended to be used interactively. Suppose that you
    want to program a function <b>kerneldensity(</b><i>x</i><b>,</b> <i>kernel</i><b>)</b> where <i>kernel</i> is one
    of "epanechnikov", "biweight", "gaussian", or "epan2". Coding
<p>
        : function kerneldensity(x, | string scalar kernel)
        &gt; {
        &gt;         k = mm_strexpand(kernel,("epanechnikov", "biweight",
        &gt;          "gaussian", "epan2"), "gaussian")
        &gt;         ...
        &gt; }
<p>
    enables the user to type abbreviated kernel names.  For example,
<p>
        : kerneldensity(x, "e") 
<p>
    uses the epanechnikov kernel. Furthermore, note that "gaussian" is the
    default in this example. Thus
<p>
        : kerneldensity(x) 
<p>
    uses the gaussian kernel.
<p>
    <b>_mm_strexpand()</b> can be used, for example, as follows:
<p>
        : function kerneldensity(x, | string scalar kernel)
        &gt; {
        &gt;         err = _mm_strexpand(k="", kernel,("epanechnikov",
        &gt;          "biweight", "gaussian", "epan2"), "gaussian")
        &gt;         if (err) {
        &gt;                 ... err ...
        &gt;         }
        &gt;         else {
        &gt;                 ... k ...
        &gt;         }                
        &gt; }
<p>
<p>
<b><u>Conformability</u></b>
<p>
    <b>mm_strexpand(</b><i>s</i><b>,</b> <i>list</i><b>,</b> <i>default</i><b>,</b> <i>unique</i><b>,</b> <i>errtxt</i><b>)</b>
            <i>s</i>: 1 <i>x</i> 1
         <i>list</i>: <i>r x</i> 1 or 1 <i>x c</i>
      <i>default</i>: 1 <i>x</i> 1
       <i>unique</i>: 1 <i>x</i> 1
       <i>errtxt</i>: 1 <i>x</i> 1
       <i>result</i>: 1 <i>x</i> 1.
<p>
<p>
<b><u>Diagnostics</u></b>
<p>
    <b>mm_strexpand()</b> aborts with error if <i>list</i> is void (meaning that no match
    is found).
<p>
<p>
<b><u>Source code</u></b>
<p>
    mm_strexpand.mata
<p>
<p>
<b><u>Author</u></b>
<p>
    Ben Jann, ETH Zurich, jann@soz.gess.ethz.ch
<p>
<p>
<b><u>Also see</u></b>
<p>
</pre>