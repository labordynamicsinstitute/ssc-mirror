<pre>
-------------------------------------------------------------------------------
help for <b>mergemany</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
        <b>mergemany</b> -- A flexible command to merge many files
<p>
<b><u>Syntax</u></b>
<p>
One-to-one merge of files where user lists full file names
<p>
        <b>mergemany</b> <b>1:1</b><i> filename1 filename2</i>...<b>,</b> match(<i>varlist</i>) [<i>options</i>]
<p>
<p>
One-to-one merge of files where user takes advantage of numerical regularity in
&gt;  file name
<p>
        <b>mergemany</b> <b>1:1</b><i> fileprefix</i><b>,</b> match(<i>varlist</i>) <b><u>num</u></b><b>erical(</b>numlist<b>)</b> [<i>options</i>]
<p>
<p>
One-to-one merge of all files in the current working directory
<p>
        <b>mergemany</b> <b>1:1</b><i> all</i><b>,</b> match(<i>varlist</i>) <b>all</b> [<i>options</i>]
<p>
<p>
<p>
This syntax also generalises to one-to-many, many-to-one, and many-to-many matc
&gt; hes as per merge
<p>
<p>
    <i>options</i>               Description
    -------------------------------------------------------------------------
    Options
      <b><u>m</u></b><b>atch(</b><i>varlist</i><b>)</b>      lists the variable(s) upon which the match is
                            performed; this is a required option.
      <b><u>num</u></b><b>erical(</b>numlist<b>)</b>  used when specifying a merge based upon the
                            numerical suffix of a file name; cannot be used
                            with <b>all</b>
      <b>all</b>                 merges all files in the current working directory;
                            cannot be used with <b><u>num</u></b><b>erical(</b>numlist<b>)</b>
      <b>keep</b>                conserves the dataset currently in memory while
                            simultaneously performing the merge between all
                            filnames; in this case the option
                            <b><u>sav</u></b><b>ing(</b><i>filename</i><b>)</b> is recommended
      <b><u>sav</u></b><b>ing(</b><i>filename</i><b>)</b>    saves the resulting parent file from all merges as
                            <i>filename.dta</i>; recommended when conserving the
                            dataset in memory via <b>keep</b>
      <b><u>ver</u></b><b>bose</b>             creates a variable to mark merge results for each
                            separate merge; by default this is
                            _merge_<i>filename</i>
      <b><u>imp</u></b><b>ort(</b><i>filetype</i><b>)</b>    allows for non .dta files to be imported and merged
                            directly.  <i>filetype</i> must display the data type
                            which is being imported (eg .csv, .raw).  When
                            using .dta files, this option should not be used.
      <b><u>inop</u></b><b>tion(</b>options<b>)</b>   allows for insheet options to be specified when
                            importing data.  Any options which are available
                            in insheet can be used.  This option should only
                            be used when importing via <b><u>imp</u></b><b>ort(</b><i>filetype</i><b>)</b>
    -------------------------------------------------------------------------
<p>
<p>
<p>
<b><u>Description</u></b>
<p>
      <b>mergemany</b> is an extension to the command merge, providing a flexible
      way for many 'using' datasets to be merged into one final dataset.
      <b>mergemany</b> is able to perform the standard merges defined in merge
      (one-to-one, one-to-many, many-to-one, many-to-many); one of these
      matches must be specified.
<p>
      <b>mergemany</b> provides a number of ways to specify the files to be merged.
      File names may be listed in full allowing for merges of files in
      separate directories or with no obvious naming scheme.  A numerical
      suffix can be used in the case that files share a common prefix but
      differ due to a non-identical suffix (such as <i>file1</i>, <i>file2</i>, <i>file3</i>...).
      In this case the suffix is listed as an argument and the option
      <b><u>num</u></b><b>erical(</b>numlist<b>)</b> must be specified.  Finally, all files of a given
      type from the current working directory can be merged into one file
      (see cd for help in navigating to a required directory).  When merging
      all files from a directory the argument <i>all</i> should be included in place
      of file names and the option <b>all</b> must be specified.
<p>
      The resulting match rate for each using file merged into the parent
      file are displayed as program output, however in order for a resulting
      variable to be included listing the source and contents of each
      observation (as per the variable <b>_merge</b> in merge), the option <b><u>ver</u></b><b>bose</b>
      must be specified.  For more details regarding these outputs and the
      values taken by these variables (if specified), see the match results
      table in merge.
<p>
      <b>mergemany</b> allows non .dta files to be imported directly and merged in
      one step.  In this case the option <b><u>imp</u></b><b>ort(</b><i>filetype</i><b>)</b> should be
      specified, where <i>filetype</i> refers to the type of data being imported.
      This supports any data type which can be imported via the insheet
      command.  In the case that further options of insheet are necessary
      when importing the data (such as case), the option <b><u>inop</u></b><b>tion(</b>options<b>)</b>
      can be used.
<p>
<p>
<p>
<a name="examples"></a><b><u>Examples</u></b>
<p>
    ---------------------------------------------------------------------------
    Perform 1:1 match merge listing full file names
<p>
    Setup
        <b>. webuse autosize</b>
        <b>. list</b>
        <b>. webuse autoexpense</b>
        <b>. list</b>
        <b>. webuse auto</b>
        <b>. list</b>
<p>
        <b>. mergemany 1:1 http://www.stata-press.com/data/r12/autoexpense</b>
            <b>http://www.stata-press.com/data/r12/autosize</b>
            <b>http://www.stata-press.com/data/r12/auto, match(make)</b>
        <b>. list</b>
<p>
    ---------------------------------------------------------------------------
    Perform 1:1 match merge, using all files in a folder called auto
<p>
    Setup
        <b>. mkdir auto</b>
        <b>. cd auto</b>
        <b>. webuse autosize</b>
        <b>. save auto1</b>
        <b>. webuse autoexpense</b>
        <b>. save auto2</b>
        <b>. webuse auto</b>
        <b>. save auto3</b>
<p>
        <b>. mergemany 1:1 all, match(make) all</b>
<p>
<p>
<p>
    ---------------------------------------------------------------------------
    Perform 1:1 match merge, using numerical regularity of all files in the
    auto folder (created above)
<p>
        <b>. mergemany 1:1 auto, match(make) numerical(1(1)3)</b>
<p>
    ---------------------------------------------------------------------------
<p>
<p>
<p>
<b><u>Also see</u></b>
<p>
    Online:  <b>[D] merge</b> <b>[D] insheet</b>, <b>[D] cross</b>, <b>[D] append</b>, <b>[D] joinby</b>, <b>[D]</b>
             <b>sort</b>
<p>
<p>
<p>
<b><u>Author</u></b>
<p>
    Damian C. Clarke, University of Oxford and ComunidadMujer. 
    mailto:damian.clarke@economics.ox.ac.uk
</pre>