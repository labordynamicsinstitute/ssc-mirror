<pre>
-------------------------------------------------------------------------------
help  <b>mltrsq</b>                              Katja Moehring and  Alexander Schmidt
-------------------------------------------------------------------------------
<p>
<b><u>Calculating R-squared after two-level mixed models (beta version)</u></b>
<p>
    Syntax
<p>
        <b>mltrsq</b> [ <b>,</b> ] [ <b>full</b> ]
<p>
<p>
<p>
    <b>mltrsq</b> is part of the <b>mlt</b> (multilevel tools) package.
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>mltrsq</b> is an postestimation command for xtmixed (Stata Version 12 or
    above). It works after mixed models with two levels.  <b>mltrsq</b> gives two
    different R-squared values for each level:
<p>
        (1.) R-squared as proposed by Snijders and Bosker (1994: 350-354), also
        see Snijders and Bosker (1999, 99-105); and
<p>
        (2.) R-squared proposed by Bryk and Raudenbush (1992: 68).
<p>
    <b>mltrsq</b> will use the same Likelihood-function that has been specified for
    xtmixed.  Note that in Stata 12 the default Likelihood-function is Maximum
    Likelihood (mle).
<p>
    <b>mltrsq</b> provides different statistics as scalars. These results can be used
    with <b> estimates table</b> or <b> estout</b> (if installed). We provide the following
    statistics:
<p>
            +----------+
        ----+  scalars +-------------------------------------------------------
 
       <b> e(N_l2)</b>           number of level-2 units 
<p>
       <b> e(sb_rsq_l1)</b>      level-1 Snijders/Bosker R-squared
<p>
       <b> e(sb_rsq_l2)</b>      level-2 Snijders/Bosker R-squared
<p>
       <b> e(br_rsq_l1)</b>      level-1 Bryk/Raudenbush R-squared
<p>
       <b> e(br_rsq_l2)</b>      level-2 Bryk/Raudenbush R-squared 
<p>
 
<b><u>Options</u></b>
<p>
    <b>full</b> lists additionally the Harmonic mean of the level-2 group sizes, which
        is used for the calculation of the R-squared according to Snijders and
        Bosker, and the Random-effects parameters of the specified model and
        the null-model.  <b>mltrsq</b> will also report the variance components of the
        null model and the last model estimated by the user.
<p>
<b><u>Example</u></b>
<p>
    Load data set (ISSP 2006)
    <b>. net get mlt</b>
    <b>. use redistribution.dta</b>
<p>
    Multilevel regression of "Support for income redistribution"
    <b>. xtmixed gr_incdiff sex age incperc rgdppc gini || Country: , mle var</b>
<p>
    Calculate R-sqaured
    <b>. mltrsq</b>
<p>
    Use statistics in estimation table
    <b>. est store m1</b>
    <b>. esttab m1, stats(N_l2 sb_rsq_l1 sb_rsq_l2)</b>
<p>
<p>
<p>
<p>
<b><u>References</u></b>
<p>
    ISSP (2006): International Social Survey Programme - Role of Government IV,
        GESIS StudyNo: ZA4700, Edition 1.0, doi:10.4232/1.4700.
<p>
    Tom A.B. Snijders, and Roel J. Bosker (1994): “Modeled Variance in
        Two-Level Models.” <i>Sociological Methods &amp; Research</i> 22 (3), 342-363.
<p>
    Tom A.B. Snijders and Roel J. Bosker (1999): Multilevel Analysis. An
        Introduction to Basic and Advanced Multilevel Modeling. London: Sage.
<p>
    A.S. Bryk and S.W. Raudenbush (1992): Hierarchical Linear Models in Social
        and Behavioral Research: Applications and Data Analysis Methods.
        Newbury Park, CA: Sage Publications.
<p>
<p>
<b><u>Authors</u></b>
<p>
    Katja Moehring, GK SOLCIFE, University of Cologne,
      moehring@wiso.uni-koeln.de, www.katjamoehring.de.
<p>
    Alexander Schmidt, GK SOCLIFE and Chair for Empirical Economic and Social
      Research, University of Cologne, alex@alexanderwschmidt.de,
      www.alexanderwschmidt.de.
<p>
<p>
<b><u>Also see</u></b>
<p>
</pre>