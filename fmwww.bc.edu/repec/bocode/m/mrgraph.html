<pre>
-------------------------------------------------------------------------------
help for <b>mrgraph</b>
-------------------------------------------------------------------------------
<p>
<b><u>Graphs of multiple responses</u></b>
<p>
<p>
        <b>mrgraph</b> { <b>bar</b> | <b>hbar</b> | <b>dot</b> | <b>tab</b> } <i>varlist</i> [<i>weight</i>] [<b>if</b> <i>exp</i>] [<b>in</b>
               <i>range</i>] [<b>,</b> { <b><u>r</u></b><b>esponse(</b><i>numlist</i><b>)</b> | <b><u>cond</u></b><b>ition(</b><i>exp</i><b>)</b> } <b><u>p</u></b><b>oly</b> <b><u>count</u></b><b>all</b>
               <b><u>in</u></b><b>clude</b> <b><u>includem</u></b><b>issing</b> <b><u>case</u></b><b>wise</b> <b>sort</b>[<b>(</b><i>#</i><b>)</b>] <b><u>des</u></b><b>cending</b>
               <b>by(</b><i>varname</i>[<b>,</b> <i>by_subopts</i>]<b>)</b> <b><u>s</u></b><b>tat(</b><i>statname</i><b>)</b> <b><u>rt</u></b><b>otal</b> <b><u>ct</u></b><b>otal</b>
               <b><u>nop</u></b><b>ercent</b> <b><u>nol</u></b><b>abel</b> <b><u>add</u></b><b>val</b>[<b>(</b><i>string</i><b>)</b>] <b><u>w</u></b><b>idth(</b><i>#</i><b>)</b> <b>height(</b><i>#</i><b>)</b>
               <b><u>overs</u></b><b>ubopts(</b><i>over_subopts</i><b>)</b> <i>graph_options</i> ]
<p>
<p>
    where <i>by_subopts</i> is
<p>
        { <b><u>in</u></b><b>board</b> | <b><u>out</u></b><b>board</b> [ <i>over_subopts</i> ] | <b><u>sep</u></b><b>arate</b> [ <i>suboptions</i> ] }
<p>
    and <i>statname</i> is
<p>
        { <b><u>f</u></b><b>req</b> | <b><u>co</u></b><b>lumn</b> | <b><u>r</u></b><b>ow</b> | <b><u>ce</u></b><b>ll</b> | <b><u>rcol</u></b><b>umn</b> | <b><u>rce</u></b><b>ll</b> }
<p>
<p>
    <b>fweight</b>s and <b>aweight</b>s are allowed with <b>mrgaph</b>; see help weights.
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>mrgraph</b> may be used to produce graphs of multiple response distributions.
    Please read help mrtab before using <b>mrgraph</b>. The syntaxes <b>mrgraph bar</b>,
    <b>mrgraph hbar</b> and <b>mrgraph dot</b> are specified to indicate use of graph bar,
    graph hbar and graph dot respectively. The size (height or length) of the
    bars or position of the dots in the graph corresponds to the frequencies
    (or, optionally, proportions) of the response categories. <b>mrgraph tab</b>
    produces table plots in the manner of Nick Cox's <b>tabplot</b> (Cox 2004).
    <b>mrgraph</b> is implemented as a wrapper for mrtab followed by _mrsvmat and 
    graph.
<p>
<p>
<b><u>Options</u></b>
<p>
    <b>addval</b>[<b>(</b><i>string</i><b>)</b>] specifies that labels <i>and</i> values (or variable names in
        the case of the indicator mode) are used to mark the responses in the
        graph. The values and labels will be separated by <i>string</i> if specified
        or by a blank otherwise (use quotes, if the desired delimiter has
        leading and/or trailing blanks, i.e. <b>addval(": ")</b>). If the <b>addval</b>
        option is not specified, then labels are used exclusively.  However,
        if no labels are available, values are used and <b>addval</b> will have no
        effect. Furthermore, <b>addval</b> will have no effect if the response
        variables are string.
<p>
    <b>by(</b><i>varname</i>[<b>,</b> <i>by_subopts</i>]<b>)</b>} draws the conditional distributions of
        responses for the categories of <i>varname</i>. The by-variable may be
        string or numeric. The <i>by_subopts</i> control the grouping of the results
        in the graph if the graph type is <b>mrgraph bar</b>, <b>mrgraph hbar</b>, or
        <b>mrgraph dot</b>. Possible specifications are:
<p>
        <b><u>in</u></b><b>board</b>
<p>
            The categories of the by-variable are grouped within the
            categories of the multiple response variables. This is the
            default.
<p>
        <b><u>out</u></b><b>board</b> [ <i>over_subopts</i> ]
<p>
            The categories of the multiple response variables are grouped
            within the categories of the by-variable. The separation of the
            by-groups is implemented as an additional <b>over</b> statement in the
            internal <b>graph</b> call. Thus, <i>over_subopts</i> may be specified. See
            help graph bar and help graph dot.
<p>
        <b><u>sep</u></b><b>arate</b> [ <i>suboptions</i> ]
<p>
            For each category of the by-variable a separate plot is drawn
            within a single graph. This conforms to the default behavior of
            the by option in Stata's graph commands (which, however, is not
            the default in <b>mrgraph</b>). See help by_option for details on the
            <i>suboptions</i>.
<p>
    <b>casewise</b> specifies that cases with missing values for at least one of the
        response variables should be excluded listwise.
<p>
    <b>condition(</b><i>exp</i><b>)</b> is an alternative to the <b>response()</b> option. See help mrtab
        for details on this option.
<p>
    <b>countall</b> requests that repeated identical responses be added up.
<p>
    <b>ctotal</b> specifies that column totals be reported.
<p>
    <b>descending</b> specifies that the sort order be descending. The default is to
        sort in ascending order. This is only relevant if <b>sort</b> is specified.
<p>
    <b>height(</b><i>#</i><b>)</b> controls the amount of available graph space taken up by bars
        in the table plot. This option is only relevant if the graph type is
        <b>mrgraph tab</b>. The default is 0.8.
<p>
    <b>include</b> specifies that observations composed of zero responses be treated
        as valid. See help mrtab for details on this option.
<p>
    <b>includemissing</b> is an enhancement to <b>include</b> and specifies that cases be
        treated as valid even if all response variables are missing. See help
        mrtab for details on this option.
<p>
    <b>nolabel</b> specifies that labels be ignored.
<p>
    <b>nopercent</b> specifies that relative frequencies be formatted as proportions
        (.271) instead of percentages (27.1).
<p>
    <b>oversubopts(</b><i>over_subopts</i><b>)</b> may be used to pass suboptions through to the
        <b>over</b> option which is applied by <b>mrgraph</b> in the internal call of the
        <b>graph</b> command. This is only relevant for the graph types <b>mrgraph bar</b>,
        <b>mrgraph hbar</b>, and <b>mrgraph dot</b>. For further explanations on the <b>over</b>
        option and its suboptions see help graph bar and graph dot. Do not
        use the <b>sort</b> suboption; use <b>mrgraph</b>'s own <b>sort</b> option instead (see
        below).
<p>
    <b>poly</b> specifies that the responses are stored in polytomous mode. See help
        mrtab for details on this option.
<p>
    <b>response(</b><i>numlist</i><b>)</b> specifies the (range of) response values. See help 
        mrtab for details on this option.
<p>
    <b>rtotal</b> specifies that row totals be reported.
<p>
    <b>sort</b> draws the categories in ascending order of frequency. If <b>by</b> is
        specified, the sorting will correspond to the totals over all groups
        unless a reference group is specified in parentheses. That is,
        <b>sort(1)</b> will sort in order of the frequencies in the first by-group,
        <b>sort(2)</b> in order of the frequencies in the second by-group, and so
        on.  Specify <b>descending</b> to sort in descending order.
<p>
    <b>stat(</b><i>statname</i><b>)</b> determines the statistic which the graph be based on.
        <i>statname</i> is either <b>freq</b>, if raw frequencies be used, or <b>column</b> (base:
        column total of observations), <b>row</b> (base: row total), <b>cell</b> (base:
        grand total of valid observations), <b>rcolumn</b> (base:  column total of
        responses), or <b>rcell</b> (base: grand total of responses), if relative
        frequencies be used. <b>stat(freq)</b> is the default.
<p>
    <b>width(</b><i>#</i><b>)</b> specifies the maximum width (number of chars) used to display
        the labels of the responses. Labels that are too wide are wrapped.
        Note that the single words in the labels will not be broken. If no
        <b>width</b> is specified, labels are not wrapped.
<p>
<p>
<b><u>Examples</u></b>
<p>
    One-way bar chart:
<p>
        . use http://fmwww.bc.edu/RePEc/bocode/d/drugs.dta
        (1997 Survey Data on Swiss Drug Addicts)
<p>
        . mrgraph bar crime1-crime5, include response(2 3) sort
           width(15) title(Criminal experiences (as a victim))
           ylabel(,angle(0))
        
<p>
    Two-way bar chart (inboard):
<p>
        . mrgraph bar crime1-crime5, include response(2 3)
           sort width(15) by(sex) stat(column)
           title(Criminal experiences (as a victim))
           ylabel(,angle(0)) legend(bmargin(t+1))
        
<p>
    Two-way bar chart (outboard):
<p>
        . mrgraph hbar crime1-crime5, include response(2 3)
           sort by(sex, outboard) stat(column)
           title(Criminal experiences (as a victim))
           ylabel(,angle(0))
        
<p>
    Two-way bar chart (separate):
<p>
        . mrgraph hbar crime1-crime5, include response(2 3)
           sort(1) width(16) stat(column)
           by(sex, separate title(Criminal experiences (as a victim)))
        
<p>
    Table plot:
<p>
        . mrgraph tab crime1-crime5, include response(2 3)
           sort width(16) stat(column) by(sex) rtotal
           title(Criminal experiences (as a victim))
        
<p>
<b><u>References</u></b>
<p>
    Cox, N. J. 2004. Speaking Stata: Graphing categorical and compositional
        data. <i>The Stata Journal</i> 4(2): 190–215.
<p>
<p>
<b><u>Author</u></b>
<p>
    Ben Jann, ETH Zurich, jann@soz.gess.ethz.ch
<p>
<p>
<b><u>Also see</u></b>
<p>
    Manual:  <b>[G] graph bar</b>, <b>[G] graph dot</b>, <b>[G] </b><i>by_option</i>
<p>
    Online:  help for mrtab, _mrsvmat, graph bar, graph hbar, graph dot, 
</pre>