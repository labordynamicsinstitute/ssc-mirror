<pre>
..-
help for ^ocratio^                                           Statalist, 18Feb19
&gt; 98
..-
<p>
Continuation-ratio models for ordinal responses
- -----------------------------------------------
<p>
        ^ocratio^ depvar varlist [weight] [^if^ exp] [^in^ range] [, ^t^est
                ^li^nk^(^linkname^)^ ^e^form ^cum^ulative ^l^evel^(^#^)^ ]
<p>
        ^ocrpred^ [type] newvarlist [, ^xb^ ^pr^ob ]
<p>
where linkname is one of
<p>
        ^l^ogit | ^p^robit | ^c^loglog
<p>
^fweights^ are allowed; see help @weights@ and examples below.
<p>
^ocratio^ shares most features of estimation commands; see ^[U] 26 Estimation^
^and post-estimation commands^. However, to obtain predictions from the model
^ocrpred^ should be used in place of @predict@. 
<p>
To reset problem-size limits, see help @matsize@.
<p>
<p>
Description
- -----------
<p>
^ocratio^ fits models based on continuation-ratio probabilities to ordinal 
responses (using maximum-likelihood). Three models are available using the
logit, probit and complementary-log-log (f(x)=log[-log(1-x)]) functions.
These models are an alternative to the models based on cumulative 
probabilities fitted by @ologit@ and @oprobit@. ^ocratio^ also enables the 
fitting of a "ocloglog" model by using the ^cumulative^ option described 
below. This is possible because the "ocloglog" model is equivalent to the
continuation-ratio complementary-log-log.
<p>
^ocrpred^, for use after ^ocratio^, creates newvar containing the index (i.e. 
xb, see @predict@) or newvarlist containing predicted probabilities for each
response category (similarly to @ologitp@).
<p>
<p>
Options for use with ^ocratio^
- ----------------------------
<p>
^test^ requests the calculation of the likelihood-ratio test of whether the
        model parameters are constant across the categories of the response
        variable.
<p>
^link(^linkname^)^ specifies the link function. The default is ^link(logit)^ 
        unless ^cumulative^ is requested in which case it is ^link(cloglog)^.
<p>
^eform^ displays the exponentiated coefficients with corresponding standard
        errors and confidence intervals as described in ^[R] maximize^. For the
        logit link, exponentiation results in odds ratios of continuation-ratio
        probabilities; for the cloglog link, exponentiation results in ratios
        of discrete hazard functions.
<p>
^cumulative^ requests the fitting of the continuatio-ratio cloglog model and
        the display of the cut-points of the equivalent ordered cloglog model.
        
^level(^#^)^ specifies the confidence level in percent, for confidence interval
&gt; s.
        The default is ^level(95)^ or as set by @set level@.
<p>
<p>
Options for use with ^ocrpred^
- ----------------------------
<p>
^xb^ requests the linear predictor xB and one name should be supplied in
        newvarlist. This is the default if no options are specified.
<p>
^prob^ requests the predicted probabilties for each response category. There
        should be K names supplied in newvarlist where K is the value of $S_3
        (i.e. the number of response categories) from the previous ^ocratio^
        command. An easy way of doing this is by using ranges, e.g. if K=8, 
        ocrpred p1-p8, prob.
<p>
<p>
Examples
- --------
        . use auto.dta, clear
        . ^xi: ocratio rep78 i.foreign weight, link(probit) level(95)^
        . ^ocratio, level(90)^         /* Redisplay results with different CIs 
&gt; */
        . ^ocrpred pr1 pr2 pr3 pr4 pr5, prob^   /* Obtain fitted probabilities 
&gt; */
<p>
<p>
        . ologit rep78 weight                 /* Look at ordered logit model */
                /* Now fit ordered complementary-log-log model for comparison*/
        . ^ocratio rep78 weight, cumul link(clog)^
<p>
<p>
        . tab foreign rep78
        . ^xi: ocratio rep78 i.foreign, test^            /* Test coefficients. 
&gt; */
                                                  /* Now put data into 2-way */
&gt;  
        . gen obs=1                                   /* table of counts to  */
&gt;  
        . collapse (count) obs, by(rep78 foreign)     /* demonstrate use of  */
        . ^xi: ocratio rep78 i.foreign [fweight=obs], test^       /* fweights. 
&gt; */
                 /* and look at exponentiated coefficients, ie. odds ratios. */
        . ^ocratio, eform^ 
<p>
<p>
Saved results
- -------------
<p>
In addition to standard post-estimation results, ^ocratio^ saves in
the global ^S_^# macros:
<p>
        ^S_1^    likelihood-ratio value for test of effect constancy assumption
        ^S_2^    dof for likelihood-ratio test 
        ^S_3^    number of distinct response categories (= no. of cut-points +1
&gt; ).
<p>
Note that S_1 and S_2 are only defined if the ^test^ option is provided.
<p>
<p>
Author
- ------
<p>
Rory Wolfe &lt;wolfer@@cryptic.rch.unimelb.edu.au&gt;, Royal Children's Hospital,
        Melbourne, Australia.
<p>
Also see
- --------
<p>
On-line:  help for @ologit@, @oprobit@, @ologitp@
</pre>