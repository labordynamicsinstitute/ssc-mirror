<pre>
-------------------------------------------------------------------------------
help for <b>moments2</b>
-------------------------------------------------------------------------------
<p>
<b><u>Moment-based statistics</u></b>
<p>
        <b>moments2</b> [<i>varlist</i>] [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] [<i>weight</i>] [<b>,</b> <b><u>t</u></b><b>ype(</b><i>name</i><b>)</b> <b><u>all</u></b><b>obs</b>
                 <b><u>f</u></b><b>ormat(</b><i>numeric_format(s)</i><b>)</b> <b><u>m</u></b><b>atname(</b><i>matrix_name</i><b>)</b>
                 <i>tabdisp_options</i> <b>variablenames</b> ]
<p>
        <b>moments2</b> <i>varname</i> [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] [<i>weight</i>] [<b>,</b> <b><u>t</u></b><b>ype(</b><i>name</i><b>)</b> <b><u>all</u></b><b>obs</b>
                 <b>by(</b><i>varlist</i><b>)</b> <b><u>f</u></b><b>ormat(</b><i>numeric_format(s)</i><b>)</b> <b><u>m</u></b><b>atname(</b><i>matrix_name</i><b>)</b>
                 <i>tabdisp_options</i> ]
<p>
    <b>by ... :</b> may be used with <b>moments2</b>; see help on by.
<p>
    <b>aweight</b>s and <b>fweight</b>s are allowed; see help weights.
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>moments2</b> calculates mean, standard deviation, skewness and kurtosis of
    <b>type()</b> for <i>varlist</i>. Any string variables in <i>varlist</i> are ignored.
    Definitions and a discussion of the measures specified by <b>type()</b> can be
    found in: Joanes, D. N. &amp; Gill, C. A. (1998). Comparing measures of
    sample skewness and kurtosis. <i>The Statistician</i>, <i>47</i>, 183-189.
<p>
<p>
<b><u>Options</u></b>
<p>
    <b><u>t</u></b><b>ype()</b> (default: <b>type(G)</b>) specifies the type of skewness and kurtosis
        measure as follows [mr = sum((xi-mean(X))^r)/n and s =
        sqrt(sum((xi-mean(X))^2)/(n-1)) with r = the r-th moment, xi = values
        of variable X, n = number of cases]:
<p>
        <b>g</b>  : g1 (skewness) and g2 (kurtosis) as used in many textbooks
             (Joanes &amp; Gill's "type 1" measure); g1 = m3/m2^(3/2) and g2 =
             m4/m2^2-3
<p>
        <b>g3</b> : as <b>type(g)</b> without subtracting 3 from the kurtosis measure as
             used in Stata's summarize command
<p>
        <b>G</b>  : G1 (skewness) and G2 (kurtosis) as used in SAS and SPSS (Joanes
             &amp; Gill's "type 2" measure); G1 = g1*sqrt(n*(n-1))/(n-2) and G2 =
             ((n+1)*g2+6)*(n-1)/((n-2)*(n-3)); this is the default
<p>
        <b>G3</b> : as <b>type(G)</b> adding 3 to the kurtosis measure
<p>
        <b>b</b>  : b1 (skewness) and b2 (kurtosis) as used in MINITAB and BMDP
             (Joanes &amp; Gill's "type 3" measure); b1 = m3/s^3 and b2 =
             m4/s^4-3
<p>
        <b>b3</b> : as <b>type(b)</b> without subtracting 3 from the kurtosis measure
<p>
    <b>allobs</b> specifies use of the maximum possible number of observations for
        each variable. The default is to use only those observations for
        which all variables in <i>varlist</i> are not missing.
<p>
    <b>by()</b> specifies one or more variables defining distinct groups for which
        moment-based statistics should be calculated. <b>by()</b> is allowed only
        with a single <i>varname</i>. The choice between <b>by:</b> and <b>by()</b> is one of
        precisely what kind of output display is required. The display with
        <b>by:</b> is clearly structured by groups while that with <b>by()</b> is more
        compact. To show moments for several variables and several groups
        with a single call to <b>moments2</b>, the display with <b>by:</b> is essential.
<p>
    <b>format()</b> controls the display format of mean, standard deviation,
        skewness and kurtosis, as follows. Up to four numeric formats may be
        given. The first numeric format given controls the display of the
        mean; any second numeric format that of the standard deviation; any
        third numeric format that of the skewness, and any fourth numeric
        format that of the kurtosis. Formats not specified default to <b>%9.3f</b>.
<p>
    <b>matname()</b> specifies the name of a matrix in which to save the results of
        (the last set of) calculations. There will be 5 columns.  The columns
        will contain n, mean, standard deviation, skewness and kurtosis.
<p>
    <i>tabdisp_options</i> are options of tabdisp other than <b>format()</b>.
<p>
    <b>variablenames</b> specifies that the variable names of <i>varlist</i> should be used
        in display. The default is to use variable labels to indicate a set
        of variables.
<p>
<p>
<b><u>Examples</u></b>
<p>
    <b>. sysuse auto</b>
    <b>. moments2 price</b>
    <b>. moments2 price, t(G3)</b>
    <b>. moments2 price, t(g3)</b>
    <b>. moments2 price-foreign</b>
    <b>. moments2 price-foreign, format(%5.1f %5.1f)</b>
    <b>. bysort rep78: moments2 mpg</b>
<p>
<p>
<b><u>Saved results</u></b>
<p>
    <b>moments2</b> saves the following results (of the last variable/by-group) in
    <b>r()</b>:
<p>
    Scalars   
      <b>r(N)</b>           number of observations
      <b>r(sum_w)</b>       sum of the weights
      <b>r(mean)</b>        mean
      <b>r(Var)</b>         variance
      <b>r(sd)</b>          standard deviation
      <b>r(skewness)</b>    skewness
      <b>r(kurtosis)</b>    kurtosis
      <b>r(sum)</b>         sum of variable
      <b>r(min)</b>         minimum
      <b>r(max)</b>         maximum
      <b>r(p1)</b>          1st percentile
      <b>r(p5)</b>          5th percentile
      <b>r(p10)</b>         10th percentile
      <b>r(p25)</b>         25th percentile
      <b>r(p50)</b>         50th percentile
      <b>r(p75)</b>         75th percentile
      <b>r(p90)</b>         90th percentile
      <b>r(p95)</b>         95th percentile
      <b>r(p99)</b>         99th percentile
<p>
    Macros    
      <b>r(type)</b>        type of skewness and kurtosis measure
<p>
<p>
<b><u>References</u></b>
<p>
    Joanes, D. N. &amp; Gill, C. A. (1998). Comparing measures of sample skewness
        and kurtosis. <i>The Statistician</i>, <i>47</i>, 183-189.
<p>
<p>
<b><u>Acknowledgments</u></b>
<p>
    <b>moments2</b> (and this help file) leans heavily on Nicholas Cox's <b>moments</b>
    (see: click here). <b>moments2</b> does nothing more than adding the
    <b>type()</b>-option and making "type 2" (i.e. <b>type(G)</b>) measures of skewness and
    kurtosis the default.
<p>
<p>
<b><u>Author</u></b>
<p>
    Dirk Enzmann, University of Hamburg, Germany
    dirk.enzmann@uni-hamburg.de
<p>
<p>
<b><u>Also see</u></b>
<p>
</pre>