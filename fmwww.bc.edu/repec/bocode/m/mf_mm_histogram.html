<pre>
<b>help mata mm_histogram()</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
    <b>mm_histogram() -- Produce histogram data</b>
<p>
<b><u>Syntax</u></b>
<p>
        <i>real matrix</i> <b>mm_histogram(</b><i>x</i> [<b>,</b> <i>w</i><b>,</b> <i>g</i><b>,</b> <i>dir</i> ]<b>)</b>
<p>
<p>
    where
<p>
            <i>x</i>:  <i>real colvector</i> containing data points
<p>
            <i>w</i>:  <i>real colvector</i> containing weights
<p>
            <i>g</i>:  <i>real colvector</i> containing the interval boundaries; default is
                <i>g</i> = <b>rangen(min(</b><i>x</i><b>), max(</b><i>x</i><b>), 11)</b>
<p>
          <i>dir</i>:  <i>real scalar</i> specifying the direction of the intervals
                (default: right open)
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>mm_histogram()</b> computes the density of <i>x</i> for the intervals defined by the
    grid points in <i>g</i> (<i>g</i> must be sorted). The default is to use right open
    intervals (with the last interval closed). However, <i>dir</i>!=0 specifies that
    left open intervals be used (with the first interval closed).
<p>
    <i>w</i> specifies weights associated with the observations in <i>x</i>. Omit <i>w</i>, or
    specify <i>w</i> as 1 to obtain unweighted results. Note that <i>x</i>, <i>w</i>, and <i>g</i> should
    not contain missing values.
<p>
    <b>mm_histogram()</b> returns a matrix containing for each interval the center
    (first column), width (second column) and the density (third column).
<p>
<p>
<b><u>Remarks</u></b>
<p>
    Example:
<p>
        : x = invnormal(uniform(100,1))
        
        : g = mm_makegrid(x, 6)
        
        : mm_histogram(x, 1, g)
                          1              2              3
            +----------------------------------------------+
          1 |  -2.257750662    1.036214862    .0579030491  |
          2 |    -1.2215358    1.036214862    .1737091472  |
          3 |  -.1853209385    1.036214862    .3088162617  |
          4 |   .8508939234    1.036214862    .3377677863  |
          5 |   1.887108785    1.036214862    .0868545736  |
            +----------------------------------------------+
<p>
<b><u>Conformability</u></b>
<p>
    <b>mm_histogram(</b><i>x</i><b>,</b> <i>w</i><b>,</b> <i>g</i><b>,</b> <i>dir</i><b>)</b>
             <i>x</i>:  <i>n x</i> 1
             <i>w</i>:  <i>n x</i> 1 or 1 <i>x</i> 1
             <i>g</i>:  <i>m x</i> 1, <i>m</i>&gt;=2
           <i>dir</i>:  1 <i>x</i> 1
        <i>result</i>:  <i>m</i>-1 <i>x</i> 3.
<p>
<p>
<b><u>Diagnostics</u></b>
<p>
    <b>mm_histogram()</b> abort with error if <b>min(</b><i>x</i><b>)</b> &lt; <i>g</i><b>[1]</b> or <b>max(</b><i>x</i><b>)</b> &gt; <i>g</i><b>[rows(</b><i>g</i><b>)]</b>.
<p>
    <b>mm_histogram()</b> produces erroneous results if <i>g</i> is not sorted.
<p>
<p>
<b><u>Source code</u></b>
<p>
    mm_histogram.mata
<p>
<p>
<b><u>Author</u></b>
<p>
    Ben Jann, ETH Zurich, jann@soz.gess.ethz.ch
<p>
<p>
<b><u>Also see</u></b>
<p>
    Online:  help for <b>mm_makegrid()</b>, <b>[M-5] range()</b>, <b>[M-4] utility</b>, 
             <b>twoway__histogram_gen</b>, <b>moremata</b>
</pre>