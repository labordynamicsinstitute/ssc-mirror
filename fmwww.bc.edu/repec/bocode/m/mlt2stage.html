<pre>
-------------------------------------------------------------------------------
help <b>mlt2stage</b>                            Katja Moehring and  Alexander Schmidt
-------------------------------------------------------------------------------
<p>
<b><u>Produces two-stage (or slopes as outcomes) results for linear and logistic regr</u></b>
<b><u>&gt; ession models (beta version)</u></b>
<p>
    Syntax
<p>
        <b>mlt2stage yvar xvar(s) [if] [weight]</b> <b>, l2id(varname)</b> [ <b>drop</b> ] [ <b>logit</b> ]
              [ <b>taboff</b> ]
<p>
    <b>mlt2stage</b> is part of the <b>mlt</b> (multilevel tools) package.
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>mlt2stage</b> is an easy way to produce two-stage results.  It calculates
    separate linear or logit regression models on <b>yvar</b> for each level2-unit
    <b>l2id(varname)</b>, displays the results as table and stores the coefficients of
    the independent variables (<b>xvar(s)</b>).  The <b>logit</b> option allows calculating
    logistic regression models.
<p>
    <b>mlt2stage</b> can be used together with <b>mltl2scatter</b> to produce two-stage plots
    of the estimated single country regression coefficients of a lower-level
    variable over a higher-level variable. See Mood (2010) for the comparison
    of logit models based on different samples.
<p>
    <b>mlt2stage</b> allows to specify a weight for the units at the lower level.
    <b>aweights</b>, <b>fweights</b> and <b>iweights</b> are allowed. See the help for <b> regress</b> and 
    <b>logit</b> to read how these weights are treated.
<p>
<p>
<b><u>Options</u></b>
<p>
    <b>drop</b> coefficients are not stored, <b>mlt2stage</b> only produces an output table.
<p>
    <b>logit</b> calculates logistic instead of linear regression models.
<p>
    <b>taboff</b> no output table is shown, <b>mlt2stage</b> only stores the coefficients.
        This option is recommended if a large number of xvars is specified.
<p>
<p>
<b><u>Examples</u></b>
<p>
<p>
    <u>A simple two-stage plot</u>
<p>
    Load data set (ISSP 2006)
    <b>. webuse redistribution.dta</b>
<p>
    Regress "Support for income redistribution" on age and sex
    <b>. mlt2stage gr_incdiff age sex, l2id(Country)</b>
<p>
    Scatter plot showing the association between the (age- and sex-adjusted)
    level of support for redistribution and economic inequality (gini)
    <b>. mltl2scatter cons_gr_incdiff gini, l2id(Country) labels qfit</b>
<p>
<p>
    <u>Using mlt2stage for a graphic inspection of a multilevel model with</u>
    <u>cross-level interactions</u>
<p>
    Load data set (ISSP 2006)
    <b>. net get mlt</b>
    <b>. use redistribution.dta</b>
<p>
    A multilevel regression of "Support for income redistribution" on income,
        age, gender and economic inequality (gini)
    <b>. xtmixed gr_incdiff incperc age sex gini ia_gini_incperc || Country:</b>
        <b>incperc, mle var cov(un)</b>
<p>
        The model gives a significant interaction effect between the
        country-level variable economic inequality (gini) and the
        individual-level variable income (cross-level interaction).  The model
        suggests that the negative effect of income becomes weaker if
        inequality is higher. Is this a robust result? Let's use mlt2stage!
<p>
    Regress "Support for income redistribution" on all individual-level
        variables (income, age and sex)
    <b>. mlt2stage gr_incdiff incperc age sex, l2id(Country)</b>
<p>
    Scatter plot showing the association between the slope of income and the
    country-level variable economic inequality (gini)
    <b>. mltl2scatter coef_gr_incdiff_incperc gini, l2id(Country) labels qfit</b>
<p>
        By plotting the estimated slopes of income against the country-level
        variable we can visualize the interaction effect.  It seems that there
        is a particular country which is responsible for the positive
        interaction effect estimated in the multilevel model.  This country is
        Chile (Country == 152).
<p>
    Scatter plot showing the association between the slope of income and the
    country-level variable economic inequality, Chile excluded (gini)
    <b>. mltl2scatter coef_gr_incdiff_incperc gini if Country != 152,</b>
        <b>l2id(Country) labels qfit</b>
<p>
    Re-estimate the multilevel regression without Chile
    <b>. xtmixed gr_incdiff incperc age sex gini ia_gini_incperc || Country:</b>
        <b>incperc if Country != 152, mle var cov(un)</b>
<p>
        The interaction effect is no longer significant. It was actually due to
        one particular Country.
<p>
<b><u>References</u></b>
<p>
    ISSP (2006): International Social Survey Programme - Role of Government IV,
        GESIS StudyNo: ZA4700, Edition 1.0, doi:10.4232/1.4700.
<p>
    Carina Mood (2010): “Logistic Regression: Why We Cannot Do What We Think We
        Can Do, and What We Can Do About It.” <i>European Sociological Review</i> 26
        (1): 67-82.
<p>
<p>
<b><u>Authors</u></b>
<p>
    Katja Moehring, GK SOLCIFE, University of Cologne,
      moehring@wiso.uni-koeln.de, www.katjamoehring.de.
<p>
    Alexander Schmidt, GK SOCLIFE and Chair for Empirical Economic and Social
      Research, University of Cologne, alex@alexanderwschmidt.de,
      www.alexanderwschmidt.de.
<p>
<p>
<b><u>Also see</u></b>
<p>
</pre>