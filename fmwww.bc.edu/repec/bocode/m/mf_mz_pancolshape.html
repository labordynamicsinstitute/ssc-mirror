<pre>
<b>help mata mz_pancolshape()</b>
-------------------------------------------------------------------------------
<p>
<b><u>Title</u></b>
<p>
    <b>mz_pancolshape() -- Reorganizes, in columns, a panel data matrix for</b>
              <b>which the panels are presented by lines</b>
<p>
<p>
<b><u>Syntax</u></b>
<p>
    <i>transmorphic matrix</i> <b>mz_pancolshape(</b><i>W</i><b>,</b> <i>c</i><b>,</b> <i>f</i><b> )</b>
<p>
<p>
    where
<p>
          <i>W</i>:  <i>transmorphic matrix</i> containing panel data
<p>
          <i>c</i>:  <i>real scalar</i> indicating the number of columns for the new panel
                data matrix
<p>
          <i>f</i>:  <i>string scalar</i> indicating how the user wants the panels to be
                presented
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>mz_pancolshape()</b> reshapes a <i>t x (c * K)</i> panel data set matrix <i>W</i>, to a <i>(K</i>
    <i>* t) x c</i> panel data matrix if the argument <i>f</i> takes the value <i>"CK"</i>. <i>K</i> is
    the number of panels, <i>t</i> the number of observations in panels and <i>c</i> the
    number of columns of the new matrix. The <i>"CK"</i> is specified to reshape a
    panel data matrix that was remodeled by the <b>mz_panrowshape()</b> function in
    which the <i>f</i> argument took the value <i>"CK"</i>. See <b>mz_panrowshape()</b> for more
    details on the <i>"CK"</i> and <i>(c * K)</i> specifications.
<p>
    <b>mz_panrowshape()</b> reshapes a <i>t x (K * c)</i> panel data set matrix <i>W</i>, to a <i>(K</i>
    <i>* t) x c</i> panel data matrix if the argument <i>f</i> takes the value <i>"KC"</i>. The
    <i>"KC"</i> is specified to reshape a panel data matrix that was remodeled by
    the <b>mz_panrowshape()</b> function in which the <i>f</i> argument took the value
    <i>"KC"</i>. See <b>mz_panrowshape()</b> for more details on the <i>"KC"</i> and <i>(K * c)</i>
    specifications.
<p>
<p>
<b><u>Remarks</u></b>
<p>
    Remarks are presented under the following headings:
<p>
        Case where <i>f</i> takes the value <i>"CK"</i>
        Case where <i>f</i> takes the value <i>"KC"</i>
<p>
<p>
<a name="remarks1"></a><b><u>Case where </u></b><i><u>f</u></i><b><u> takes the value </u></b><i><u>"CK"</u></i>
<p>
          Suppose we have a matrix <i>V</i>
<p>
        : V
               1   2     3     4
            +---------------------+
          1 |  1   1   3.1   3.7  |
          2 |  1   2   9.2   4.2  |
          3 |  1   3   2.5   6.5  |
          4 |  1   4   8.4     7  |
          5 |  1   5   4.6   3.9  |
          6 |  2   1   6.2   1.5  |
          7 |  2   2   5     3.2  |
          8 |  2   3   7.8   9.6  |
          9 |  2   4   5.4   7.7  |
         10 |  2   5   3.4   9.2  |
         11 |  3   1   2.1   2.3  |
         12 |  3   2     9   1.5  |
         13 |  3   3   1.4   6.7  |
         14 |  3   4   4.8   3.3  |
         15 |  3   5   9.5   9.7  |
            +---------------------+
            
          We reshape it using the <b>mz_panrowshape()</b> function
          in which the argument <i>f</i> takes the value <i>"CK"</i>
<p>
<p>
        : matA = mz_panrowshape(V, 1, "CK")
        : matA
               1   2     3     4   5   6     7     8   9   10   11    12
            +-------------------------------------------------------------+
          1 |  1   1   3.1   3.7   2   1   6.2   1.5   3   1   2.1   2.3  |
          2 |  1   2   9.2   4.2   2   2     5   3.2   3   2     9   1.5  |
          3 |  1   3   2.5   6.5   2   3   7.8   9.6   3   3   1.4   6.7  |
          4 |  1   4   8.4     7   2   4   5.4   7.7   3   4   4.8   3.3  |
          5 |  1   5   4.6   3.9   2   5   3.4   9.2   3   5   9.5   9.7  |
            +-------------------------------------------------------------+
<p>
          To reshape the matrix <i>matA</i> to the original matrix <i>V</i>, we use the
         <b>mz_pancolshape()</b> function in which the <i>f</i> argument takes the value
         <i>"CK"</i>
<p>
        : matB = mz_pancolshape(matA, 4, "CK")
        : matB
               1   2     3     4
            +---------------------+
          1 |  1   1   3.1   3.7  |
          2 |  1   2   9.2   4.2  |
          3 |  1   3   2.5   6.5  |
          4 |  1   4   8.4     7  |
          5 |  1   5   4.6   3.9  |
          6 |  2   1   6.2   1.5  |
          7 |  2   2   5     3.2  |
          8 |  2   3   7.8   9.6  |
          9 |  2   4   5.4   7.7  |
         10 |  2   5   3.4   9.2  |
         11 |  3   1   2.1   2.3  |
         12 |  3   2     9   1.5  |
         13 |  3   3   1.4   6.7  |
         14 |  3   4   4.8   3.3  |
         15 |  3   5   9.5   9.7  |
            +---------------------+
<p>
          Which is the same matrix as <i>V</i>. To be sure we use the <b>asserteq()</b>
          function
<p>
        : asserteq(matB, V)
<p>
          Nothing is returned, then the two matices are the same
        
<a name="remarks2"></a><b><u>Case where </u></b><i><u>f</u></i><b><u> takes the value </u></b><i><u>"KC"</u></i>
<p>
          We reshape the <i>V</i> matrix using the <b>mz_panrowshape()</b>
          function but the argument <i>f</i> takes the value <i>"KC"</i>
        
        : matC = mz_panrowshape(V, 1, "KC")
        : matC
               1   2   3   4   5   6     7     8     9    10    11    12
            +-------------------------------------------------------------+
          1 |  1   2   3   1   1   1   3.1   6.2   2.1   3.7   1.5   2.3  |
          2 |  1   2   3   2   2   2   9.2     5     9   4.2   3.2   1.5  |
          3 |  1   2   3   3   3   3   2.5   7.8   1.4   6.5   9.6   6.7  |
          4 |  1   2   3   4   4   4   8.4   5.4   4.8     7   7.7   3.3  |
          5 |  1   2   3   5   5   5   4.6   3.4   9.5   3.9   9.2   9.7  |
            +-------------------------------------------------------------+
<p>
          To reshape the matrix <i>matC</i> to the original matrix <i>V</i>, we use the
          <b>mz_pancolshape()</b> function in which the <i>f</i> argument takes the value
          <i>"KC"</i>
<p>
        : matD = mz_pancolshape(matC, 4, "KC")
        : matD
               1   2     3     4
            +---------------------+
          1 |  1   1   3.1   3.7  |
          2 |  1   2   9.2   4.2  |
          3 |  1   3   2.5   6.5  |
          4 |  1   4   8.4     7  |
          5 |  1   5   4.6   3.9  |
          6 |  2   1   6.2   1.5  |
          7 |  2   2   5     3.2  |
          8 |  2   3   7.8   9.6  |
          9 |  2   4   5.4   7.7  |
         10 |  2   5   3.4   9.2  |
         11 |  3   1   2.1   2.3  |
         12 |  3   2     9   1.5  |
         13 |  3   3   1.4   6.7  |
         14 |  3   4   4.8   3.3  |
         15 |  3   5   9.5   9.7  |
            +---------------------+
<p>
          Which is the same matrix as <i>V</i>. To be sure we use the <b>asserteq()</b>
          function
<p>
        : asserteq(matD, V)
<p>
          Nothing is returned, then the two matrices are identical
<p>
<p>
<b><u>Conformability</u></b>
<p>
    <b>mz_pancolshape(</b><i>W</i><b>,</b> <i>c</i><b>,</b> <i>f</i><b>)</b>
         <i>W</i>:  <i>t x (c * K)</i> or <i>t x (K * c)</i>
         <i>c</i>:  <i>1 x 1</i>
         <i>f</i>:  <i>1 x 1</i>
    <i>result</i>:  <i>(K * t) x c</i>, <i>t</i> = number of obs. in panel, <i>K</i> = number of panels
<p>
<p>
<b><u>Diagnostics</u></b>
<p>
    <b>mz_pancolshape()</b> aborts with error if <i>cols(W)</i> is not divisible by <i>c</i>.
<p>
<p>
<b><u>Source code</u></b>
<p>
    mz_pancolshape.mata
<p>
<p>
<b><u>Author</u></b>
<p>
    Diallo Ibrahima Amadou, zavren@gmail.com
<p>
<p>
<b><u>Also see</u></b>
<p>
    Online:  help for <b>mz_panrowshape()</b>, <b>ltimbimata</b>
</pre>