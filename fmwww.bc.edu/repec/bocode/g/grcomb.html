<pre>
<b>help grcomb</b>
-------------------------------------------------------------------------------
<p>
<p>
<b><u>Title</u></b>
<p>
    <b>grcomb</b> -- create and combine several single graphs into one
<p>
<p>
<p>
<b><u>Syntax</u></b>
<p>
        <b>grcomb</b> <i>graph command</i> <i>var1[*#] var2[*#] var3[*#] var4[*#]</i> [...] [<i>if</i>] [
                <i>in</i>] <b>,</b> <b><u>v</u></b><b>arblock(</b><i>#</i><b>)</b> [<b><u>o</u></b><b>rder(</b><i>abab</i>|<i>aabb</i><b>)</b> <b>name(</b><i>name</i>[<b>,</b><i> replace</i>]<b>)</b>
                <b><u>d</u></b><b>raw</b> <b><u>f</u></b><b>eedback</b> <i>graph options</i>]
<p>
<p>
    <b>by</b> is not allowed.
    <b>Weights</b> are not allowed.
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>grcomb</b> allows you to generate, in a single command, several graphs of the
    same type and using the same options; to optionally display them; and to
    combine them into a single graph window. It is a wrapper for Stata's
    built-in graph commands, in particular the <b>graph combine</b> command.
<p>
    <b>grcomb</b> options will now be further described using the following two
    examples. In each example, it is supposed that you want to combine three
    single graphs into a combined graph:
<p>
    (1)
    <b>scatter</b> <b>a1 b, jitter(8)</b>
    <b>scatter</b> <b>a2 b, jitter(8)</b>
    <b>scatter</b> <b>a3 b, jitter(8)</b>
<p>
    This is achieved by
    <b>grcomb</b> <b>scatter a1 b a2 b a3 b, v(2) jitter(8)</b>
<p>
    (2)
    <b>scatter</b> <b>a1 b1, jitter(8)</b>
    <b>scatter</b> <b>a2 b2, jitter(8)</b>
    <b>scatter</b> <b>a3 b3, jitter(8)</b>
<p>
    This is achieved by
    <b>grcomb</b> <b>scatter a1 b1 a2 b2 a3 b3, v(2) jitter(8)</b>
<p>
<p>
<b><u>Options</u></b>
<p>
    <b>var*</b><i>#</i> replaces <b>var</b> with <i>#</i> copies of itself in <b>grcomb</b>'s varlist. The
        purpose of this option will become clear shortly.
<p>
    <b>varblock(</b><i>#</i><b>)</b> specifies the number of variables for a single graph command.
        In both examples (1) and (2), the single <b>scatter</b> commands each take
        two variables as arguments. Therefore, varblock is 2 in both cases.
        If the single graph commands were <b>histogram</b>, varblock would be 1,
        since histograms take only one variable as argument.
<p>
    <b>order(</b><i>abab</i>|<i>aabb</i><b>)</b> specifies the order of the variables in <b>grcomb</b>'s
        varlist. The default is <b>order(</b><i>abab</i><b>)</b> and is exemplified by both
        examples (1) and (2), where the variables for the single graph
        commands sequentially follow each other in <b>grcomb</b>'s varlist (e.g. in
        (2), <b>a1</b> is plotted against <b>b1</b>, <b>a2</b> is plotted against <b>b2</b>, and <b>a3</b> is
        plotted against <b>b3</b>). Specifiying <b>order(</b><i>aabb</i><b>)</b> requires the variables
        to be listed in the order <b>a1 a2 a3 b1 b2 b3</b> (example (2)). The point
        of this option is to allow simplifying the varlist to <b>a* b*</b> (or maybe
        <b>a? b?</b>).  I.e. given that <b>a1</b>-<b>a3</b> and <b>b1</b>-<b>b3</b> are the only variables
        starting with letters "a" and "b", respectively, the <b>grcomb</b> command
        in example (2) can be shortened to <b>grcomb</b> <b>scatter a* b*, v(2)</b>
        <b>order(aabb) jitter(8)</b>. Example (1), in turn, could be simplified to
        <b>grcomb</b> <b>scatter a* b*3, v(2) order(aabb) jitter(8)</b>, since, by way of
        cashing in option <b>var</b><i>*#</i>, <b>b*3</b> expands to <b>b b b</b>. (Don't confuse the
        wildcard asterisk ,*' with the multiply operator ,*' of option
        <b>var</b><i>*#</i>.)
<p>
    <b>name(</b><i>name</i>[<b>,</b><i> replace</i>]<b>)</b> lets you enter a name for the combined graph and
        optionally replace any previous graph of the same name. But <b>grcomb</b>
        automatically names your graphs for you, so you don't usually need
        this option.
<p>
    <b>draw</b> displays the single graphs. If you omit this option, display of the
        single graphs (e.g. the three scatter plots in examples (1) and (2))
        is suppressed.
<p>
    <b>feedback</b> shows feedback on <b>grcomb</b>'s progress in terms of the number of
        single graph commands it has processed.
<p>
    <i>graph options</i> include all the options possible with the single graph
        command. In examples (1) and (2), this would be the <b>jitter(8)</b> option.
        You can specify here any number of options that are allowed with the
        single graph command you've chosen.
<p>
<p>
<b><u>Remarks</u></b>
<p>
    <b>grcomb</b> may run into trouble if you have a variable in your data set with
    the same name as (one of the words of) your single graph command. It will
    recognize this for the first word of your single graph command, but not
    for any potential subsequent words.
<p>
    Example:
    If you have a variable <b>scatter</b> in your data set and you type <b>grcomb</b>
    <b>scatter var1 var2 var3 var4, v(2)</b>, <b>grcomb</b> will catch the error and ask
    you to remove or rename variable <b>scatter</b>. However, if you type <b>grcomb</b>
    <b>twoway scatter var1 var2 var3 var4, v(2)</b>, <b>grcomb</b> will crash without any
    helpful error message.
<p>
    <b>grcomb</b> gives unique names to both the single and the combined graphs it
    produces, so that none of the graphs produced by any single or
    consecutive calls to <b>grcomb</b> will be overwritten. (If you must know, the
    names correspond to the number of seconds expired since midnight,
    prefixed with the letter "g".)
<p>
    By default, <b>grcomb</b> uses the <b>altshrink</b> option of Stata's <b>graph combine</b>
    command. At present, there's nothing you can do to change this (except
    editing out the word "altshrink" from "grcomb.ado".)
<p>
<p>
<b><u>Examples</u></b>
<p>
    Plotting temperature vs pressure for five timepoints
<p>
        <i>Awkward version:</i>
        <b>. grcomb</b> <b>scatter temperature1 pressure1 temperature2 pressure2</b>
            <b>temperature3 pressure3 temperature4 pressure4 temperature5</b>
            <b>pressure5, v(2)</b>
<p>
        <i>Elegant version:</i>
        <b>. grcomb</b> <b>scatter temperature* pressure*, v(2) order(aabb)</b>
<p>
    Displaying single graphs, and feedback
    <b>. grcomb</b> <b>spineplot education sex incomeclass sex, v(2) draw f</b>
<p>
    Graph commands with different numbers of arguments
<p>
        <i>Combine 3 histograms:</i>
        <b>. grcomb</b> <b>hist age height bmi, v(1) bins(10) percent</b>
<p>
        <i>Combine 2 scatterplots:</i>
        <b>. grcomb</b> <b>scatter sales returns year nemploy nlayoff year, v(3)</b>
<p>
    Multi-word graph commands
    <b>. grcomb</b> <b>graph twoway bar income nchildren education*2, v(2) order(aabb)</b>
<p>
<p>
<b><u>Author</u></b>
<p>
    Alex Gamma, University Hospital of Psychiatry, Zurich, Switzerland.
    Email: alex.gamma@uzh.ch
<p>
<p>
<b><u>Also see</u></b>
<p>
    Manual: <b>[G] graph combine</b>
<p>
    Online: <b>[G] graph_combine</b>, <b>spineplot</b> (if installed)
</pre>