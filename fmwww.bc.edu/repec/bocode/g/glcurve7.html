<pre>
-------------------------------------------------------------------------------
help for <b>glcurve7</b>                                               (TSJ-1: gr0001)
-------------------------------------------------------------------------------
<p>
<b><u>Derivation of generalised Lorenz curve ordinates with unit record data</u></b>
<b><u>[An update of </u></b><b><u>glcurve</u></b><b><u> for Stata 7]</u></b>
<p>
        <b>glcurve7</b> <i>varname</i> [<i>weight</i>] [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] [<b>,</b> <b><u>p</u></b><b>var(</b><i>newvarname</i><b>)</b>
               <b><u>gl</u></b><b>var(</b><i>newvarname</i><b>)</b> <b><u>so</u></b><b>rtvar(</b><i>varname</i><b>)</b> <b>by(</b><i>varname</i><b>)</b> <b><u>sp</u></b><b>lit</b> <b><u>nogr</u></b><b>aph</b>
               <b>replace</b> <b><u>l</u></b><b>orenz</b> <b>atip(</b><i>string</i><b>)</b> <b>rtip(</b><i>string</i><b>)</b> <i>graph_options</i> ]
<p>
<b>aweight</b>s and <b>fweight</b>s are allowed; see help weights.
<p>
<p>
<b><u>Description</u></b>
<p>
<b>Important notice</b>: As of Oct. 2004, ^glcurve7^ is an outdated release of
^glcurve^ (available for Stata 7 users). The up-to-date release is available
for Stata 8 users as ^glcurve^ (available on the SSC archive and on the Stata
Journal website).
<p>
Given a variable <i>varname</i>, call it x with c.d.f. F(x), <b>glcurve7</b> draws its
Generalised Lorenz curve and/or generates two new variables containing the
Generalised Lorenz ordinates for x, i.e.  GL(p) at each p = F(x).  For a
population ordered in ascending order of x, a graph of GL(p) against p plots
the cumulative total of x divided by population size, against cumulative
population share. GL(1) = mean(x). <b>glcurve7</b> can also be used to derive many
other related concepts such as Lorenz curves, concentration curves and 'Three
Is of Poverty' (TIP) curves, with appropriate definition of <i>varname</i>, order of
cumulation (set with the <b>sortvar</b> option), and normalisation (e.g. by the mean
of <i>varname</i>). Alternatively <b>glcurve7</b> with the <b>lorenz</b>, <b>atip</b> or <b>rtip</b> option can be
used directly to draw the related Lorenz, concentration and TIP curves.
<p>
Comparisons of pairs of distributions (and dominance checks) can be undertaken
by using the <b>by()</b> (with or without the <b>split</b>) options. It can also be made
manually by 'stacking' the data (see <b>stack</b>).
<p>
<b><u>Options</u></b>
<p>
<b>pvar(</b><i>pvarname</i><b>)</b> generates the variable <i>pvarname</i> containing the x-ordinates of
    the created curve.
<p>
<b>glvar(</b><i>glvarname</i><b>)</b> generates the variable <i>glvarname</i> containing the y-ordinates of
    the created curve.
<p>
<b>sortvar(</b><i>sname</i><b>)</b> specifies the sort variable.  By default, the data are sorted
    (and cumulated) in ascending order of <i>varname</i>. If the <b>sortvar</b> option is
    specified, sorting and cumulation is in ascending order of variable <i>sname</i>.
<p>
<b>by(</b><i>groupvar</i><b>)</b> specifies that the ordinates are to be computed separately for
    each subgroups defined by <i>groupvar</i>. <i>groupvar</i> must be numeric.
<p>
<b>split</b> specifies that *a series of new variables* are created containing the
    ordinates for each subgroup specified by <b>by(</b><i>groupvar</i><b>)</b> <b>split</b> can not be used
    without <b>by()</b>. If <b>split</b> is specified, then the string <i>glname</i> in
    <b>glvar(</b><i>glname</i><b>)</b> (truncated after 4 characters) is used as a prefix to create
    new variables <i>glname_X1</i>, <i>glname_X2</i>,... (where X1, X2, ... are the values
    taken by <i>groupvar</i>).
<p>
<b>nograph</b> avoids the automatic display of a crude graph made out of the created
    variables. <b>nograph</b> is assumed if <b>by()</b> is specified without <b>split</b>.
<p>
<b>replace</b> allows the variables specified in <b>glvar(</b><i>glvarname</i><b>)</b> and <b>pvar(</b><i>pvarname</i><b>)</b>
    to be overwritten if they are already existing. Otherwise <i>glvarname</i> and
    <i>pvarname</i> must be new variable names.
<p>
<b>lorenz</b> requires that the ordinates of the Lorenz curve are computed instead of
    generalised Lorenz ordinates. The Lorenz ordinates of variable x, L(p), are
    GL(p)/mean(x).
<p>
<b>rtip(</b><i>povline</i><b>)</b> and <b>atip(</b><i>povline</i><b>)</b> require that the ordinates of TIP curves are
    computed instead of generalised Lorenz ordinates.  <i>povline</i> specifies the
    value of the poverty line: it can be either a numeric value taken as the
    poverty line for all observations or a variable name containing the value
    of the poverty line for each observation. <b>atip()</b> draws 'absolute' TIP
    curves (by cumulating max(z-x,0)) and <b>rtip()</b> draws 'relative' TIP curves
    (by cumulating max(1-(x/z),0)).
<p>
<i>graph_options</i> are standard <b>graph, twoway</b> options.
<p>
<b><u>Examples</u></b>
<p>
        . glcurve7 x, gl(gl1) p(p1) nograph
        . graph gl1 p1, xlab ylab s(i) c(l)
<p>
        . glcurve7 x [fw=wgt] if x &gt; 0, gl(gl2) p(p2) lorenz
<p>
        . glcurve7 x, gl(gl2) p(p2) replace sort(y) by(state) split
<p>
        . glcurve7 x, gl(gl3) p(p3) atip(10000)
<p>
        . glcurve7 x, gl(gl3) p(p3) atip(plinevar)
<p>
<b><u>Authors</u></b>
<p>
     Philippe VAN KERM &lt;philippe.vankerm@fundp.ac.be&gt;
     University of Namur, Department of Economics
     Rempart de la Vierge 8
     B-5000 Namur, Belgium.
<p>
     Stephen P. JENKINS &lt;stephenj@essex.ac.uk&gt;
     ISER, University of Essex
     Colchester CO4 3SQ, U.K.
<p>
<b><u>References</u></b>
<p>
     Cowell, F.A. (1995). Measuring Inequality (second edition).
          Prentice-Hall/Harvester-Wheatsheaf, Hemel Hempstead.
<p>
     Jenkins, S.P. and Lambert, P.J. (1997). "Three 'I's of Poverty Curves,
          With An Analysis of UK Poverty Trends", Oxford Economic Papers, 49,
          317-327.
<p>
     Lambert, P.J. (1993). The Distribution and Redistribution of Income - A
          Mathematical Analysis. Second edition, Manchester University Press,
          Manchester and New York.
<p>
     Shorrocks A.F. (1983). "Ranking Income Distributions", Economica, 197,
          3-17.
<p>
<b><u>Also see</u></b>
<p>
 Manual:  <b>[R] lorenz</b>
    STB:  <b>STB-49 sg107.1</b>, <b>STB-48 sg107</b>
On-line:  help for sumdist (if installed)
</pre>