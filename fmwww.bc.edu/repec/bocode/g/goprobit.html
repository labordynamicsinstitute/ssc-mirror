<pre>
-------------------------------------------------------------------------------
help for <b>goprobit</b>
-------------------------------------------------------------------------------
<p>
<b><u>Maximum-Likelihood Estimation of Generalized Ordered Probit Models</u></b>
<p>
        <b>goprobit</b> <i>depvar</i> [<i>indepvars</i>] [<i>weight</i>] [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] [<b>,</b> <b><u>p</u></b><b>l</b>
               <b><u>p</u></b><b>l(</b><i>varlist</i><b>)</b> <b><u>np</u></b><b>l</b> <b><u>np</u></b><b>l(</b><i>varlist</i><b>)</b> <b><u>c</u></b><b>onstraints(</b><i>clist</i><b>)</b> <b><u>r</u></b><b>obust</b>
               <b><u>cl</u></b><b>uster(</b><i>varname</i><b>)</b> <b><u>l</u></b><b>evel(</b><i>#</i><b>)</b> <b><u>sc</u></b><b>ore(</b><i>newvarlist</i>|<i>stub</i><b>*)</b>
               <i>maximize_options</i> ]
<p>
    <b>goprobit</b> shares the features of all estimation commands; see help est.
    <b>goprobit</b> typed without arguments redisplays previous results. <b>fweight</b>s,
    <b>iweight</b>s, and <b>pweight</b>s are allowed; see help weights.
<p>
    The syntax of predict following <b>goprobit</b> is
<p>
        <b>predict</b> [<i>type</i>] <i>newvarname</i>(<i>s</i>) [<b>if</b> <i>exp</i>] [<b>in</b> <i>range</i>] [<b>,</b> <i>statistic</i>
                <b><u>o</u></b><b>utcome(</b><i>outcome</i><b>)</b> ]
<p>
    where <i>statistic</i> is
<p>
        <b>p</b>        probability (specify one new variable and <b>outcome()</b> option,
                     or specify k new variables, k = # of outcomes); the
                     default
<p>
        <b>xb</b>       linear prediction (<b>outcome()</b> option required)
<p>
        <b>stdp</b>     S.E. of linear prediction (<b>outcome()</b> option required)
<p>
        <b>stddp</b>    S.E. of difference in linear predictions (<b>outcome()</b> option
                     is <b>outcome(</b><i>outcome1</i><b>,</b><i>outcome2</i><b>)</b>)
<p>
    Note that you specify one new variable with <b>xb</b>, <b>stdp</b>, and <b>stddp</b> and
    specify either one or k new variables with <b>p</b>.
<p>
    These statistics are available both in and out of sample; type "<b>predict</b>
    <i>...</i> <b>if e(sample)</b> <i>...</i>" if wanted only for the estimation sample.
<p>
<p>
<p>
<b><u>Description</u></b>
<p>
    <b>goprobit</b> is a user-written program that estimates generalized ordered
    probit models. The actual values taken on by the dependent variable are
    irrelevant except that larger values are assumed to correspond to
    "higher" outcomes. This model relaxes the <i>parallel regression</i> assumption
    of the standard ordered probit model; see below and help oprobit.
    <b>goprobit</b> supports linear constraints and allows the user to partially
    relax equal coefficients by specifying variables in <b>npl()</b> or <b>pl()</b>.
<p>
    <b>goprobit</b> is a modified version of Vincent Kang Fu's <b>gologit</b> and
    particularly Richard Williams' <b>gologit2</b> programs. The current version of
    <b>gologit2</b> allows to estimate the generalized ordered probit model using
    the link(probit) option and therefore produces results equivalent to
    goprobit.  <b>goprobit</b> was written for Stata 8 and many of the references in
    this help file are for Stata 8 manuals and commands.
<p>
<p>
<p>
<b><u>Options</u></b>
<p>
    <b>pl</b>, <b>npl</b>, <b>npl()</b>, <b>pl()</b> provide alternative means for imposing or relaxing
        equal coefficients. Only one may be specified at a time.
<p>
        <b>pl</b> specified without parameters constrains all independent variables
            to meet the parallel regression assumption. It will produce
            results that are equivalent to <b>oprobit</b>.
<p>
        <b>npl</b> specified without parameters relaxes the parallel regression
            assumption for all explanatory variables. This is the default
            option.
<p>
        <b>pl(</b><i>varlist</i><b>)</b> constrains the specified explanatory variables to meet
            the parallel regression assumption. All other variables do not
            need to meet the assumption. The variables specified must be a
            subset of the explanatory variables.
<p>
        <b>npl(</b><i>varlist</i><b>)</b> frees the specified explanatory variables from meeting
            the parallel regression assumption. All other explanatory
            variables are constrained to meet the assumption. The variables
            specified must be a subset of the explanatory variables.
<p>
    <b>constraints(</b><i>clist</i><b>)</b> specifies the linear constraints to be applied during
        estimation. The default is to perform unconstrained estimation.
        Constraints are defined with the constraint command.  <b>constraints(1)</b>
        specifies that the model is to be constrained according to constraint
        1; <b>constraints(1-4)</b> specifies constraints 1 through 4;
        <b>constraints(1-4,8)</b> specifies 1 through 4 and 8. Keep in mind that the
        <b>pl</b> and <b>npl</b> options work by generating across-equation constraints,
        which may affect how any additional constraints should be specified.
        When using the<b> constraint</b> command, refer to equations by their
        equation #, e.g. #1, #2, etc.
<p>
    <b>robust</b> specifies that the Huber/White/sandwich estimator of variance is
        to be used in place of the traditional calculation; see <b>[U] 23.14</b>
        <b>Obtaining robust variance estimates</b>.  <b>robust</b> combined with <b>cluster()</b>
        allows observations which are not independent within cluster
        (although they must be independent between clusters).  If you specify
        <b>pweight</b>s, <b>robust</b> is implied.
<p>
    <b>cluster(</b><i>varname</i><b>)</b> specifies that the observations are independent across
        groups (clusters) but not necessarily within groups.  <i>varname</i>
        specifies to which group each observation belongs; e.g.,
        <b>cluster(personid)</b> in data with repeated observations on individuals.
        <b>cluster()</b> affects the estimated standard errors and
        variance-covariance matrix of the estimators (VCE), but not the
        estimated coefficients.  <b>cluster()</b> can be used with <b>pweight</b>s to
        produce estimates for unstratified cluster-sampled data.
<p>
    <b>level(</b><i>#</i><b>)</b> specifies the confidence level in percent for the confidence
        intervals of the coefficients; see help level.
<p>
    <b>score(</b><i>newvarlist</i>|<i>stub</i><b>*)</b> creates J-1 new variables, where J is the number
        of observed outcomes. Each new variable contains the contributions to
        the scores for an equation in the model; see <b>[U] 23.15 Obtaining</b>
        <b>scores</b>.
<p>
        If <b>score(</b><i>newvarlist</i><b>)</b> is specified, J-1 new variables must be
        provided.
<p>
        If <b>score(</b><i>stub</i><b>*)</b> is specified, then variables <i>stub</i><b>1</b>, <i>stub</i><b>2</b>, ...,
        <i>stub</i><b>J-1</b> will be created.
<p>
        The first variable contains d(ln L_i)/d(x_i B_1); the second variable
        contains d(ln L_i)/d(x_i B_2); and so on.
<p>
    <i>maximize_options</i> control the maximization process; see help maximize. You
        should never have to specify them.
<p>
<p>
<p>
<b><u>Options for </u></b><b><u>predict</u></b>
<p>
    <b>p</b>, the default, calculates predicted probabilities.
<p>
        If you do not specify the <b>outcome()</b> option, you must specify k new
        variables. For instance, say you fitted your model by typing
        "<b>goprobit happy income health</b>" and that <b>happy</b> takes on three values.
        Then you could type "<b>predict p1 p2 p3, p</b>" to obtain all three
        predicted probabilities.
<p>
        If you also specify the <b>outcome()</b> option, then you specify one new
        variable. Say that <b>happy</b> took on values 1, 2, and 3. Then typing
        "<b>predict p1, p outcome(1)</b>" would produce the same <b>p1</b> as above,
        "<b>predict p2, p outcome(2)</b>" the same <b>p2</b> as above, etc. If <b>happy</b> took
        on values 7, 22, and 93, you would specify <b>outcome(7)</b>, <b>outcome(22)</b>,
        and <b>outcome(93)</b>. Alternatively, you could specify the outcomes by
        referring to the equation number (<b>outcome(#1)</b>, <b>outcome(#2)</b>, and
        <b>outcome(#3)</b>.
<p>
    <b>xb</b> calculates the linear prediction. You must also specify the <b>outcome()</b>
        option.
<p>
    <b>stdp</b> calculates the standard error of the linear prediction. You must
        specify option <b>outcome()</b>.
<p>
    <b>stddp</b> calculates the standard error of the difference in two linear
        predictions. You must specify option <b>outcome()</b>, in this case with two
        particular outcomes of interest inside the parentheses; for example,
        "<b>predict sed, stdp outcome(1,3)</b>".
<p>
    <b>outcome()</b> specifies for which outcome the statistic is to be calculated.
        <b>equation()</b> is a synonym for <b>outcome()</b>: it does not matter which one
        you use. <b>outcome()</b> and <b>equation()</b> can be specified using (1) <b>#1</b>, <b>#2</b>,
        ..., with <b>#1</b> meaning the first category of the dependent variable, <b>#2</b>
        the second category, etc.; or (2) values of the dependent variable.
<p>
<p>
<b><u>Remarks</u></b>
<p>
    The <b>oprobit</b> command included with Stata imposes what is called the
    <i>parallel regression assumption</i>. By default, <b>goprobit</b> relaxes the parallel
    regression assumption and allows the effects of the explanatory variables
    to vary with the point at which the categories of the dependent variable
    are dichotomized. However, if the <b>pl</b> option is specified, <b>goprobit</b>
    estimates the standard ordered probit model, e.g. the commands <b>oprobit y</b>
    <b>x1 x2 x3</b> and <b>goprobit y x1 x2 x3, pl</b> will produce equivalent results.
<p>
    In practice, the parallel regression assumption is often violated by the
    data.  Standard advice in such situations is to go to a non-ordinal
    model, such as <b>mlogit</b>. Unfortunately, such models do not take into
    account the ordinal nature of the dependent variable and therefore cannot
    be efficient.  <b>goprobit</b> provides an alternative generalized model
    introduced by Maddala (1983:46) and Terza (1985). This model possibly
    relaxes the parallel regression assumption for some explanatory variables
    while being maintained for others.  For example, the command <b>goprobit y</b>
    <b>x1 x2 x3, npl(x1)</b> would relax the parallel regression assumption for x1
    while maintaining it for x2 and x3.  An equivalent command is <b>goprobit y</b>
    <b>x1 x2 x3, pl(x2 x3)</b> which forces x2 and x3 to meet the parallel
    regression assumption while not imposing it on x1.
<p>
    More formally, suppose we have an ordinal dependent variable Y which
    takes on the values 1, 2, ..., J.  The generalized ordered probit model
    estimates a set of coefficients (including one for the constant) for each
    of the J - 1 points at which the dependent variable can be dichotomized.
    The probabilities that Y will take on each of the values 1, ..., J is
    equal to
<p>
        P( Y = 1 ) = F( -XB_1 )
        P( Y = j ) = F( -XB_j ) - F( -XB_(j-1) )        j = 2, ..., J - 1
        P( Y = m ) = 1 - F( -XB_(J-1) )
<p>
    The generalized ordered probit model uses the normal distribution as the
    cumulative distribution F(.), although other distributions may also be
    used; see help gologit and help gologit2.
<p>
    The standard ordered probit model (estimated by Stata's <b>oprobit</b> command
    and by <b>goprobit</b> with the <b>pl</b> option) restricts the B_j coefficients to be
    the same for every dividing point j = 1, ..., J-1. The generalized
    ordered probit model (estimated in <b>goprobit</b> via the <b>npl()</b> and <b>pl()</b>
    options) restricts some B_j coefficients to be the same for every
    dividing point while others are free to vary.
<p>
    Note that the generalized ordered probit model imposes explicit
    restrictions on the parameters. Since probabilities are by definition
    constrained to be in the range [0,1], valid combinations must satisfy the
    following inequalities:
<p>
        XB_1 &gt;= XB_2 &gt;= XB_3 ... &gt;= XB_J-1
<p>
    The current version of <b>goprobit</b> does not impose these restrictions during
    the maximization process. After fitting the model, the user should verify
    the validity of the model by calculating predicted probabilities.  See
    help gologit2 and http://www.nd.edu/~rwilliam/gologit2/ for further
    discussion on this topic.
<p>
    A panel data version of <b>goprobit</b> with random effects can be estimated by
    <b>regoprob</b>; see help regoprob if installed.
<p>
<p>
<b><u>Examples</u></b>
<p>
        <b>. goprobit happy linc unempl health if male == 1, robust</b>
<p>
        <b>. goprobit happy linc unempl health if male == 1, robust npl(linc)</b>
<p>
        <b>. goprobit, level(99)</b>
<p>
        <b>. predict xb1, xb outcome(#1)</b>
<p>
<p>
<p>
<b><u>Author</u></b>
<p>
     Stefan Boes
     Socioeconomic Institute
     Statistics and Empirical Economics Research Group
     University of Zurich
     boes@sts.unizh.ch
     http://www.unizh.ch/sts/
<p>
<p>
<p>
<b><u>Acknowledgements</u></b>
<p>
     Richard Williams of the Notre Dame Department of Sociology wrote <b>gologit2</b>.
     Richard Williams kindly gave me permission to use his code of<b> gologit2</b> and
     I adapted much of it when programming<b> goprobit</b>. For a more detailed
     description of<b> gologit2</b> and its features, see the reference below or help 
     gologit2.
<p>
<p>
<p>
<b><u>References</u></b>
<p>
     Boes, S. and R. Winkelmann (2006) "Ordered Response Models." Allgemeines
     Statistisches Archiv 90: 165-179.
<p>
     Fu, V.K. (1998) "Estimating Generalized Ordered Logit Models." Stata
     Technical Bulletin 8: 160-164.
<p>
     Long, J.S and J. Freese (2003) "Regression Models for Categorical
     Dependent Variables Using Stata", revised edition, Stata Press.
<p>
     Maddala, G. (1983) "Limited-Dependent and Qualitative Variables in
     Econometrics." Cambridge University Press: Cambridge.
<p>
     Terza, J. (1985) "Ordered Probit: A Generalization." Communications in
     Statistics – A. Theory and Methods 14: 1–11.
<p>
     Williams, R. (2006) "Generalized Ordered Logit/ Partial Proportional Odds
     Models for Ordinal Dependent Variables." The Stata Journal 6(1): 58-82. A
     pre-publication version is available at 
     http://www.nd.edu/~rwilliam/gologit2/gologit2.pdf.
<p>
     Winkelmann, R. and S. Boes (2006) "Analysis of Microdata." Springer:
     Berlin.
<p>
<p>
<b><u>Also see</u></b>
<p>
    Manual:  <b>[U] 23 Estimation and post-estimation commands</b>,
             <b>[U] 29 Overview of Stata estimation commands</b>
<p>
    Online:  help for estcom, postest, constraint, oprobit, ologit, gologit, 
             gologit2, regoprob
</pre>